var qD=Object.defineProperty,zD=Object.defineProperties;var WD=Object.getOwnPropertyDescriptors;var oc=Object.getOwnPropertySymbols;var Ly=Object.prototype.hasOwnProperty,jy=Object.prototype.propertyIsEnumerable;var ns=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),GD=t=>{throw TypeError(t)};var Fy=(t,n,e)=>n in t?qD(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,we=(t,n)=>{for(var e in n||={})Ly.call(n,e)&&Fy(t,e,n[e]);if(oc)for(var e of oc(n))jy.call(n,e)&&Fy(t,e,n[e]);return t},Ye=(t,n)=>zD(t,WD(n));var Ff=(t,n)=>{var e={};for(var r in t)Ly.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&oc)for(var r of oc(t))n.indexOf(r)<0&&jy.call(t,r)&&(e[r]=t[r]);return e};var Ge=(t,n,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(t,n)).next())}),wn=function(t,n){this[0]=t,this[1]=n},ri=(t,n,e)=>{var r=(s,a,l,c)=>{try{var u=e[s](a),d=(a=u.value)instanceof wn,h=u.done;Promise.resolve(d?a[0]:a).then(f=>d?r(s==="return"?s:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:h})).catch(f=>r("throw",f,l,c))}catch(f){c(f)}},i=s=>o[s]=a=>new Promise((l,c)=>r(s,a,l,c)),o={};return e=e.apply(t,n),o[ns("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},Pi=t=>{var n=t[ns("asyncIterator")],e=!1,r,i={};return n==null?(n=t[ns("iterator")](),r=o=>i[o]=s=>n[o](s)):(n=n.call(t),r=o=>i[o]=s=>{if(e){if(e=!1,o==="throw")throw s;return s}return e=!0,{done:!1,value:new wn(new Promise(a=>{var l=n[o](s);l instanceof Object||GD("Object expected"),a(l)}),1)}}),i[ns("iterator")]=()=>i,r("next"),"throw"in n?r("throw"):i.throw=o=>{throw o},"return"in n&&r("return"),i},Gn=(t,n,e)=>(n=t[ns("asyncIterator")])?n.call(t):(t=t[ns("iterator")](),n={},e=(r,i)=>(i=t[r])&&(n[r]=o=>new Promise((s,a,l)=>(o=i.call(t,o),l=o.done,Promise.resolve(o.value).then(c=>s({value:c,done:l}),a)))),e("next"),e("return"),n);function Bf(t,n){return Object.is(t,n)}var qt=null,sc=!1,Uf=1,ar=Symbol("SIGNAL");function rt(t){let n=qt;return qt=t,n}function $f(){return qt}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sa(t){if(sc)throw new Error("");if(qt===null)return;qt.consumerOnSignalRead(t);let n=qt.nextProducerIndex++;if(uc(qt),n<qt.producerNode.length&&qt.producerNode[n]!==t&&Ca(qt)){let e=qt.producerNode[n];cc(e,qt.producerIndexOfThis[n])}qt.producerNode[n]!==t&&(qt.producerNode[n]=t,qt.producerIndexOfThis[n]=Ca(qt)?By(t,qt,n):0),qt.producerLastReadVersion[n]=t.version}function Vy(){Uf++}function Hf(t){if(!(Ca(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Uf)){if(!t.producerMustRecompute(t)&&!Gf(t)){Vf(t);return}t.producerRecomputeValue(t),Vf(t)}}function qf(t){if(t.liveConsumerNode===void 0)return;let n=sc;sc=!0;try{for(let e of t.liveConsumerNode)e.dirty||YD(e)}finally{sc=n}}function zf(){return qt?.consumerAllowSignalWrites!==!1}function YD(t){t.dirty=!0,qf(t),t.consumerMarkedDirty?.(t)}function Vf(t){t.dirty=!1,t.lastCleanEpoch=Uf}function lc(t){return t&&(t.nextProducerIndex=0),rt(t)}function Wf(t,n){if(rt(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ca(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)cc(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gf(t){uc(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Hf(e),r!==e.version))return!0}return!1}function Yf(t){if(uc(t),Ca(t))for(let n=0;n<t.producerNode.length;n++)cc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function By(t,n,e){if(Uy(t),t.liveConsumerNode.length===0&&$y(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=By(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function cc(t,n){if(Uy(t),t.liveConsumerNode.length===1&&$y(t))for(let r=0;r<t.producerNode.length;r++)cc(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];uc(i),i.producerIndexOfThis[r]=n}}function Ca(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Uy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $y(t){return t.producerNode!==void 0}function Qf(t,n){let e=Object.create(QD);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Hf(e),Sa(e),e.value===ac)throw e.error;return e.value};return r[ar]=e,r}var Lf=Symbol("UNSET"),jf=Symbol("COMPUTING"),ac=Symbol("ERRORED"),QD=Ye(we({},Ea),{value:Lf,dirty:!0,error:null,equal:Bf,kind:"computed",producerMustRecompute(t){return t.value===Lf||t.value===jf},producerRecomputeValue(t){if(t.value===jf)throw new Error("Detected cycle in computations.");let n=t.value;t.value=jf;let e=lc(t),r,i=!1;try{r=t.computation(),rt(null),i=n!==Lf&&n!==ac&&r!==ac&&t.equal(n,r)}catch(o){r=ac,t.error=o}finally{Wf(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function ZD(){throw new Error}var Hy=ZD;function qy(t){Hy(t)}function Zf(t){Hy=t}var KD=null;function Kf(t,n){let e=Object.create(dc);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(Sa(e),e.value);return r[ar]=e,r}function Ia(t,n){zf()||qy(t),t.equal(t.value,n)||(t.value=n,XD(t))}function Xf(t,n){zf()||qy(t),Ia(t,n(t.value))}var dc=Ye(we({},Ea),{equal:Bf,value:void 0,kind:"signal"});function XD(t){t.version++,Vy(),qf(t),KD?.()}function Jf(t){let n=rt(null);try{return t()}finally{rt(n)}}var eh;function Da(){return eh}function ii(t){let n=eh;return eh=t,n}var fc=Symbol("NotFound");function Ze(t){return typeof t=="function"}function rs(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var hc=rs(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function xa(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ht=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Ze(r))try{r()}catch(o){n=o instanceof hc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zy(o)}catch(s){n=n??[],s instanceof hc?n=[...n,...s.errors]:n.push(s)}}if(n)throw new hc(n)}}add(n){var e;if(n&&n!==this)if(this.closed)zy(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&xa(e,n)}remove(n){let{_finalizers:e}=this;e&&xa(e,n),n instanceof t&&n._removeParent(this)}};Ht.EMPTY=(()=>{let t=new Ht;return t.closed=!0,t})();var th=Ht.EMPTY;function pc(t){return t instanceof Ht||t&&"closed"in t&&Ze(t.remove)&&Ze(t.add)&&Ze(t.unsubscribe)}function zy(t){Ze(t)?t():t.unsubscribe()}var Sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(t,n,...e){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=is;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gc(t){is.setTimeout(()=>{let{onUnhandledError:n}=Sr;if(n)n(t);else throw t})}function Ma(){}var Wy=nh("C",void 0,void 0);function Gy(t){return nh("E",void 0,t)}function Yy(t){return nh("N",t,void 0)}function nh(t,n,e){return{kind:t,value:n,error:e}}var ho=null;function os(t){if(Sr.useDeprecatedSynchronousErrorHandling){let n=!ho;if(n&&(ho={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=ho;if(ho=null,e)throw r}}else t()}function Qy(t){Sr.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}var po=class extends Ht{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,pc(n)&&n.add(this)):this.destination=i1}static create(n,e,r){return new oi(n,e,r)}next(n){this.isStopped?ih(Yy(n),this):this._next(n)}error(n){this.isStopped?ih(Gy(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ih(Wy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},n1=Function.prototype.bind;function rh(t,n){return n1.call(t,n)}var oh=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){mc(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){mc(r)}else mc(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){mc(e)}}},oi=class extends po{constructor(n,e,r){super();let i;if(Ze(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Sr.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&rh(n.next,o),error:n.error&&rh(n.error,o),complete:n.complete&&rh(n.complete,o)}):i=n}this.destination=new oh(i)}};function mc(t){Sr.useDeprecatedSynchronousErrorHandling?Qy(t):gc(t)}function r1(t){throw t}function ih(t,n){let{onStoppedNotification:e}=Sr;e&&is.setTimeout(()=>e(t,n))}var i1={closed:!0,next:Ma,error:r1,complete:Ma};var ss=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yn(t){return t}function sh(...t){return ah(t)}function ah(t){return t.length===0?Yn:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var dt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=s1(e)?e:new oi(e,r,i);return os(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Zy(r),new r((i,o)=>{let s=new oi({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[ss](){return this}pipe(...e){return ah(e)(this)}toPromise(e){return e=Zy(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function Zy(t){var n;return(n=t??Sr.Promise)!==null&&n!==void 0?n:Promise}function o1(t){return t&&Ze(t.next)&&Ze(t.error)&&Ze(t.complete)}function s1(t){return t&&t instanceof po||o1(t)&&pc(t)}function lh(t){return Ze(t?.lift)}function st(t){return n=>{if(lh(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,n,e,r,i){return new ch(t,n,e,r,i)}var ch=class extends po{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function as(){return st((t,n)=>{let e=null;t._refCount++;let r=at(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var ls=class extends dt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,lh(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ht;let e=this.getSubject();n.add(this.source.subscribe(at(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ht.EMPTY)}return n}refCount(){return as()(this)}};var Ky=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class t extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new vc(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ky}next(e){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?th:(this.currentObservers=null,o.push(e),new Ht(()=>{this.currentObservers=null,xa(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new dt;return e.source=this,e}}return t.create=(n,e)=>new vc(n,e),t})(),vc=class extends Tt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:th}};var zt=class extends Tt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var uh={now(){return(uh.delegate||Date).now()},delegate:void 0};var Ar=class extends Tt{constructor(n=1/0,e=1/0,r=uh){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=e.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Rn=new dt(t=>t.complete());function Xy(t){return t&&Ze(t.schedule)}function Jy(t){return t[t.length-1]}function yc(t){return Ze(Jy(t))?t.pop():void 0}function ki(t){return Xy(Jy(t))?t.pop():void 0}function t0(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function e0(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(t){return this instanceof go?(this.v=t,this):new go(t)}function n0(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(m){return new Promise(function(v,w){o.push([f,m,v,w])>1||l(f,m)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(r[f](g))}catch(m){h(o[0][3],m)}}function c(f){f.value instanceof go?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,g){f(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function r0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof e0=="function"?e0(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var _c=t=>t&&typeof t.length=="number"&&typeof t!="function";function bc(t){return Ze(t?.then)}function wc(t){return Ze(t[ss])}function Cc(t){return Symbol.asyncIterator&&Ze(t?.[Symbol.asyncIterator])}function Ec(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function a1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sc=a1();function Ic(t){return Ze(t?.[Sc])}function Dc(t){return n0(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield go(e.read());if(i)return yield go(void 0);yield yield go(r)}}finally{e.releaseLock()}})}function xc(t){return Ze(t?.getReader)}function Nt(t){if(t instanceof dt)return t;if(t!=null){if(wc(t))return l1(t);if(_c(t))return c1(t);if(bc(t))return u1(t);if(Cc(t))return i0(t);if(Ic(t))return d1(t);if(xc(t))return f1(t)}throw Ec(t)}function l1(t){return new dt(n=>{let e=t[ss]();if(Ze(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function c1(t){return new dt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function u1(t){return new dt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,gc)})}function d1(t){return new dt(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function i0(t){return new dt(n=>{h1(t,n).catch(e=>n.error(e))})}function f1(t){return i0(Dc(t))}function h1(t,n){var e,r,i,o;return t0(this,void 0,void 0,function*(){try{for(e=r0(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Nn(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Mc(t,n=0){return st((e,r)=>{e.subscribe(at(r,i=>Nn(r,t,()=>r.next(i),n),()=>Nn(r,t,()=>r.complete(),n),i=>Nn(r,t,()=>r.error(i),n)))})}function Tc(t,n=0){return st((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function o0(t,n){return Nt(t).pipe(Tc(n),Mc(n))}function s0(t,n){return Nt(t).pipe(Tc(n),Mc(n))}function a0(t,n){return new dt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function l0(t,n){return new dt(e=>{let r;return Nn(e,n,()=>{r=t[Sc](),Nn(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Ze(r?.return)&&r.return()})}function Ac(t,n){if(!t)throw new Error("Iterable cannot be null");return new dt(e=>{Nn(e,n,()=>{let r=t[Symbol.asyncIterator]();Nn(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function c0(t,n){return Ac(Dc(t),n)}function u0(t,n){if(t!=null){if(wc(t))return o0(t,n);if(_c(t))return a0(t,n);if(bc(t))return s0(t,n);if(Cc(t))return Ac(t,n);if(Ic(t))return l0(t,n);if(xc(t))return c0(t,n)}throw Ec(t)}function At(t,n){return n?u0(t,n):Nt(t)}function We(...t){let n=ki(t);return At(t,n)}function cs(t,n){let e=Ze(t)?t:()=>t,r=i=>i.error(e());return new dt(n?i=>n.schedule(r,0,i):r)}function si(t){return!!t&&(t instanceof dt||Ze(t.lift)&&Ze(t.subscribe))}var ai=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ke(t,n){return st((e,r)=>{let i=0;e.subscribe(at(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:p1}=Array;function g1(t,n){return p1(n)?t(...n):t(n)}function Oc(t){return Ke(n=>g1(t,n))}var{isArray:m1}=Array,{getPrototypeOf:v1,prototype:y1,keys:_1}=Object;function Rc(t){if(t.length===1){let n=t[0];if(m1(n))return{args:n,keys:null};if(b1(n)){let e=_1(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function b1(t){return t&&typeof t=="object"&&v1(t)===y1}function Nc(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Pc(...t){let n=ki(t),e=yc(t),{args:r,keys:i}=Rc(t);if(r.length===0)return At([],n);let o=new dt(w1(r,n,i?s=>Nc(i,s):Yn));return e?o.pipe(Oc(e)):o}function w1(t,n,e=Yn){return r=>{d0(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)d0(n,()=>{let c=At(t[l],n),u=!1;c.subscribe(at(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function d0(t,n,e){t?Nn(e,t,n):n()}function f0(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=m=>c<r?g(m):l.push(m),g=m=>{o&&n.next(m),c++;let v=!1;Nt(e(m,u++)).subscribe(at(n,w=>{i?.(w),o?f(w):n.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let w=l.shift();s?Nn(n,s,()=>g(w)):g(w)}h()}catch(w){n.error(w)}}))};return t.subscribe(at(n,f,()=>{d=!0,h()})),()=>{a?.()}}function Wt(t,n,e=1/0){return Ze(n)?Wt((r,i)=>Ke((o,s)=>n(r,o,i,s))(Nt(t(r,i))),e):(typeof n=="number"&&(e=n),st((r,i)=>f0(r,i,t,e)))}function h0(t=1/0){return Wt(Yn,t)}function p0(){return h0(1)}function li(...t){return p0()(At(t,ki(t)))}function mo(t){return new dt(n=>{Nt(t()).subscribe(n)})}function Ta(...t){let n=yc(t),{args:e,keys:r}=Rc(t),i=new dt(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Nt(e[u]).subscribe(at(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Nc(r,a):a),o.complete())}))}});return n?i.pipe(Oc(n)):i}function Qn(t,n){return st((e,r)=>{let i=0;e.subscribe(at(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Fi(t){return st((n,e)=>{let r=null,i=!1,o;r=n.subscribe(at(e,void 0,void 0,s=>{o=Nt(t(s,Fi(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function g0(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(at(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Or(t,n){return Ze(n)?Wt(t,n,1):Wt(t,1)}function Li(t){return st((n,e)=>{let r=!1;n.subscribe(at(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Pn(t){return t<=0?()=>Rn:st((n,e)=>{let r=0;n.subscribe(at(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function kc(t=C1){return st((n,e)=>{let r=!1;n.subscribe(at(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function C1(){return new ai}function ji(t){return st((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function ci(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Qn((i,o)=>t(i,o,r)):Yn,Pn(1),e?Li(n):kc(()=>new ai))}function us(t){return t<=0?()=>Rn:st((n,e)=>{let r=[];n.subscribe(at(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function dh(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Qn((i,o)=>t(i,o,r)):Yn,us(1),e?Li(n):kc(()=>new ai))}function fh(t,n){return st(g0(t,n,arguments.length>=2,!0))}function m0(t={}){let{connector:n=()=>new Tt,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},g=()=>{let m=s;f(),m?.unsubscribe()};return st((m,v)=>{c++,!d&&!u&&h();let w=l=l??n();v.add(()=>{c--,c===0&&!d&&!u&&(a=hh(g,i))}),w.subscribe(v),!s&&c>0&&(s=new oi({next:y=>w.next(y),error:y=>{d=!0,h(),a=hh(f,e,y),w.error(y)},complete:()=>{u=!0,h(),a=hh(f,r),w.complete()}}),Nt(m).subscribe(s))})(o)}}function hh(t,n,...e){if(n===!0){t();return}if(n===!1)return;let r=new oi({next:()=>{r.unsubscribe(),t()}});return Nt(n(...e)).subscribe(r)}function Fc(t,n,e){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:e}=t:r=t??1/0,m0({connector:()=>new Ar(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ph(...t){let n=ki(t);return st((e,r)=>{(n?li(t,e,n):li(t,e)).subscribe(r)})}function dn(t,n){return st((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(at(r,l=>{i?.unsubscribe();let c=0,u=o++;Nt(t(l,u)).subscribe(i=at(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gh(t){return st((n,e)=>{Nt(t).subscribe(at(e,()=>e.complete(),Ma)),!e.closed&&n.subscribe(e)})}function an(t,n,e){let r=Ze(t)||n||e?{next:t,error:n,complete:e}:t;return r?st((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(at(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Yn}var d_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ve=class extends Error{code;constructor(n,e){super(S1(n,e)),this.code=n}};function E1(t){return`NG0${Math.abs(t)}`}function S1(t,n){return`${E1(t)}${n?": "+n:""}`}var f_=Symbol("InputSignalNode#UNSET"),I1=Ye(we({},dc),{transformFn:void 0,applyValueToInputSignal(t,n){Ia(t,n)}});function h_(t,n){let e=Object.create(I1);e.value=t,e.transformFn=n?.transform;function r(){if(Sa(e),e.value===f_){let i=null;throw new Ve(-950,i)}return e.value}return r[ar]=e,r}function za(t){return{toString:t}.toString()}var Lc="__parameters__";function D1(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function p_(t,n,e){return za(()=>{let r=D1(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Lc)?l[Lc]:Object.defineProperty(l,Lc,{value:[]})[Lc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Pa=globalThis;function St(t){for(let n in t)if(t[n]===St)return n;throw Error("Could not find renamed property on target object.")}function x1(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ln(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ln).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Oh(t,n){return t?n?`${t} ${n}`:t:n||""}var M1=St({__forward_ref__:St});function pn(t){return t.__forward_ref__=pn,t.toString=function(){return Ln(this())},t}function Cn(t){return g_(t)?t():t}function g_(t){return typeof t=="function"&&t.hasOwnProperty(M1)&&t.__forward_ref__===pn}function Pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ur(t){return{providers:t.providers||[],imports:t.imports||[]}}function bu(t){return v0(t,v_)||v0(t,y_)}function m_(t){return bu(t)!==null}function v0(t,n){return t.hasOwnProperty(n)?t[n]:null}function T1(t){let n=t&&(t[v_]||t[y_]);return n||null}function y0(t){return t&&(t.hasOwnProperty(_0)||t.hasOwnProperty(A1))?t[_0]:null}var v_=St({\u0275prov:St}),_0=St({\u0275inj:St}),y_=St({ngInjectableDef:St}),A1=St({ngInjectorDef:St}),je=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function __(t){return t&&!!t.\u0275providers}var O1=St({\u0275cmp:St}),R1=St({\u0275dir:St}),N1=St({\u0275pipe:St}),P1=St({\u0275mod:St}),Yc=St({\u0275fac:St}),Na=St({__NG_ELEMENT_ID__:St}),b0=St({__NG_ENV_ID__:St});function _o(t){return typeof t=="string"?t:t==null?"":String(t)}function k1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_o(t)}function b_(t,n){throw new Ve(-200,t)}function Lp(t,n){throw new Ve(-201,!1)}var nt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nt||{}),Rh;function w_(){return Rh}function kn(t){let n=Rh;return Rh=t,n}function C_(t,n,e){let r=bu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&nt.Optional)return null;if(n!==void 0)return n;Lp(t,"Injector")}var F1={},vo=F1,Nh="__NG_DI_FLAG__",Qc=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?fc:vo,r)}},Zc="ngTempTokenPath",L1="ngTokenPath",j1=/\n/gm,V1="\u0275",w0="__source";function B1(t,n=nt.Default){if(Da()===void 0)throw new Ve(-203,!1);if(Da()===null)return C_(t,void 0,n);{let e=Da(),r;return e instanceof Qc?r=e.injector:r=e,r.get(t,n&nt.Optional?null:void 0,n)}}function Le(t,n=nt.Default){return(w_()||B1)(Cn(t),n)}function Ae(t,n=nt.Default){return Le(t,wu(n))}function wu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ph(t){let n=[];for(let e=0;e<t.length;e++){let r=Cn(t[e]);if(Array.isArray(r)){if(r.length===0)throw new Ve(900,!1);let i,o=nt.Default;for(let s=0;s<r.length;s++){let a=r[s],l=U1(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(Le(i,o))}else n.push(Le(r))}return n}function E_(t,n){return t[Nh]=n,t.prototype[Nh]=n,t}function U1(t){return t[Nh]}function $1(t,n,e,r){let i=t[Zc];throw n[w0]&&i.unshift(n[w0]),t.message=H1(`
`+t.message,i,e,r),t[L1]=i,t[Zc]=null,t}function H1(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==V1?t.slice(2):t;let i=Ln(n);if(Array.isArray(n))i=n.map(Ln).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ln(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(j1,`
  `)}`}var S_=E_(p_("Optional"),8);var I_=E_(p_("SkipSelf"),4);function bo(t,n){let e=t.hasOwnProperty(Yc);return e?t[Yc]:null}function q1(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function z1(t){return t.flat(Number.POSITIVE_INFINITY)}function jp(t,n){t.forEach(e=>Array.isArray(e)?jp(e,n):n(e))}function D_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Kc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function W1(t,n){let e=[];for(let r=0;r<t;r++)e.push(n);return e}function G1(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Cu(t,n,e){let r=Wa(t,n);return r>=0?t[r|1]=e:(r=~r,G1(t,r,n,e)),r}function mh(t,n){let e=Wa(t,n);if(e>=0)return t[e|1]}function Wa(t,n){return Y1(t,n,1)}function Y1(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var wo={},Fn=[],ka=new je(""),x_=new je("",-1),M_=new je(""),Xc=class{get(n,e=vo){if(e===vo){let r=new Error(`NullInjectorError: No provider for ${Ln(n)}!`);throw r.name="NullInjectorError",r}return e}};function T_(t,n){let e=t[P1]||null;if(!e&&n===!0)throw new Error(`Type ${Ln(t)} does not have '\u0275mod' property.`);return e}function gs(t){return t[O1]||null}function Q1(t){return t[R1]||null}function Z1(t){return t[N1]||null}function Ds(t){return{\u0275providers:t}}function Vp(...t){return{\u0275providers:A_(!0,t),\u0275fromNgModule:!0}}function A_(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return jp(n,s=>{let a=s;kh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&O_(i,o),e}function O_(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Bp(i,o=>{n(o,r)})}}function kh(t,n,e,r){if(t=Cn(t),!t)return!1;let i=null,o=y0(t),s=!o&&gs(t);if(!o&&!s){let l=t.ngModule;if(o=y0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)kh(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{jp(o.imports,u=>{kh(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&O_(c,n)}if(!a){let c=bo(i)||(()=>new i);n({provide:i,useFactory:c,deps:Fn},i),n({provide:M_,useValue:i,multi:!0},i),n({provide:ka,useValue:()=>Le(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Bp(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Bp(t,n){for(let e of t)__(e)&&(e=e.\u0275providers),Array.isArray(e)?Bp(e,n):n(e)}var K1=St({provide:String,useValue:St});function R_(t){return t!==null&&typeof t=="object"&&K1 in t}function X1(t){return!!(t&&t.useExisting)}function J1(t){return!!(t&&t.useFactory)}function ms(t){return typeof t=="function"}function ex(t){return!!t.useClass}var Eu=new je(""),$c={},C0={},vh;function Up(){return vh===void 0&&(vh=new Xc),vh}var En=class{},Fa=class extends En{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Lh(n,s=>this.processProvider(s)),this.records.set(x_,ds(void 0,this)),i.has("environment")&&this.records.set(En,ds(void 0,this));let o=this.records.get(Eu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(M_,Fn,nt.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?fc:vo,r)}destroy(){Oa(this),this._destroyed=!0;let n=rt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rt(n)}}onDestroy(n){return Oa(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Oa(this);let e=ii(this),r=kn(void 0),i;try{return n()}finally{ii(e),kn(r)}}get(n,e=vo,r=nt.Default){if(Oa(this),n.hasOwnProperty(b0))return n[b0](this);r=wu(r);let i,o=ii(this),s=kn(void 0);try{if(!(r&nt.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=ox(n)&&bu(n);c&&this.injectableDefInScope(c)?l=ds(Fh(n),$c):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&nt.Self?Up():this.parent;return e=r&nt.Optional&&e===vo?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Zc]=a[Zc]||[]).unshift(Ln(n)),o)throw a;return $1(a,n,"R3InjectorError",this.source)}else throw a}finally{kn(s),ii(o)}}resolveInjectorInitializers(){let n=rt(null),e=ii(this),r=kn(void 0),i;try{let o=this.get(ka,Fn,nt.Self);for(let s of o)s()}finally{ii(e),kn(r),rt(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Ln(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Cn(n);let e=ms(n)?n:Cn(n&&n.provide),r=nx(n);if(!ms(n)&&n.multi===!0){let i=this.records.get(e);i||(i=ds(void 0,$c,!0),i.factory=()=>Ph(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=rt(null);try{return e.value===C0?b_(Ln(n)):e.value===$c&&(e.value=C0,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&ix(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{rt(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Cn(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Fh(t){let n=bu(t),e=n!==null?n.factory:bo(t);if(e!==null)return e;if(t instanceof je)throw new Ve(204,!1);if(t instanceof Function)return tx(t);throw new Ve(204,!1)}function tx(t){if(t.length>0)throw new Ve(204,!1);let e=T1(t);return e!==null?()=>e.factory(t):()=>new t}function nx(t){if(R_(t))return ds(void 0,t.useValue);{let n=N_(t);return ds(n,$c)}}function N_(t,n,e){let r;if(ms(t)){let i=Cn(t);return bo(i)||Fh(i)}else if(R_(t))r=()=>Cn(t.useValue);else if(J1(t))r=()=>t.useFactory(...Ph(t.deps||[]));else if(X1(t))r=(i,o)=>Le(Cn(t.useExisting),o!==void 0&&o&nt.Optional?nt.Optional:void 0);else{let i=Cn(t&&(t.useClass||t.provide));if(rx(t))r=()=>new i(...Ph(t.deps));else return bo(i)||Fh(i)}return r}function Oa(t){if(t.destroyed)throw new Ve(205,!1)}function ds(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function rx(t){return!!t.deps}function ix(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ox(t){return typeof t=="function"||typeof t=="object"&&t instanceof je}function Lh(t,n){for(let e of t)Array.isArray(e)?Lh(e,n):e&&__(e)?Lh(e.\u0275providers,n):n(e)}function Kn(t,n){let e;t instanceof Fa?(Oa(t),e=t):e=new Qc(t);let r,i=ii(e),o=kn(void 0);try{return n()}finally{ii(i),kn(o)}}function sx(){return w_()!==void 0||Da()!=null}function ax(t){return typeof t=="function"}var pi=0,Xe=1,Je=2,hn=3,Dr=4,jn=5,vs=6,Jc=7,Yt=8,Co=9,ui=10,Pt=11,La=12,E0=13,xs=14,Zn=15,Eo=16,fs=17,di=18,Su=19,P_=20,Vi=21,yh=22,eu=23,lr=24,_h=25,Jt=26,k_=1;var So=7,tu=8,ys=9,fn=10;function Bi(t){return Array.isArray(t)&&typeof t[k_]=="object"}function gi(t){return Array.isArray(t)&&t[k_]===!0}function F_(t){return(t.flags&4)!==0}function Ms(t){return t.componentOffset>-1}function $p(t){return(t.flags&1)===1}function Nr(t){return!!t.template}function nu(t){return(t[Je]&512)!==0}function Ts(t){return(t[Je]&256)===256}var jh=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function L_(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var dr=(()=>{let t=()=>j_;return t.ngInherit=!0,t})();function j_(t){return t.type.prototype.ngOnChanges&&(t.setInput=cx),lx}function lx(){let t=B_(this),n=t?.current;if(n){let e=t.previous;if(e===wo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function cx(t,n,e,r,i){let o=this.declaredInputs[r],s=B_(t)||ux(t,{previous:wo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new jh(c&&c.currentValue,e,l===wo),L_(t,n,i,e)}var V_="__ngSimpleChanges__";function B_(t){return t[V_]||null}function ux(t,n){return t[V_]=n}var S0=null;var xt=function(t,n=null,e){S0?.(t,n,e)},dx="svg",fx="math";function Pr(t){for(;Array.isArray(t);)t=t[pi];return t}function U_(t,n){return Pr(n[t])}function jr(t,n){return Pr(n[t.index])}function Hp(t,n){return t.data[n]}function qp(t,n){return t[n]}function kr(t,n){let e=n[t];return Bi(e)?e:e[pi]}function hx(t){return(t[Je]&4)===4}function zp(t){return(t[Je]&128)===128}function px(t){return gi(t[hn])}function _s(t,n){return n==null?null:t[n]}function $_(t){t[fs]=0}function H_(t){t[Je]&1024||(t[Je]|=1024,zp(t)&&Du(t))}function gx(t,n){for(;t>0;)n=n[xs],t--;return n}function Iu(t){return!!(t[Je]&9216||t[lr]?.dirty)}function Vh(t){t[ui].changeDetectionScheduler?.notify(8),t[Je]&64&&(t[Je]|=1024),Iu(t)&&Du(t)}function Du(t){t[ui].changeDetectionScheduler?.notify(0);let n=Io(t);for(;n!==null&&!(n[Je]&8192||(n[Je]|=8192,!zp(n)));)n=Io(n)}function q_(t,n){if(Ts(t))throw new Ve(911,!1);t[Vi]===null&&(t[Vi]=[]),t[Vi].push(n)}function mx(t,n){if(t[Vi]===null)return;let e=t[Vi].indexOf(n);e!==-1&&t[Vi].splice(e,1)}function Io(t){let n=t[hn];return gi(n)?n[hn]:n}function Wp(t){return t[Jc]??=[]}function Gp(t){return t.cleanup??=[]}function vx(t,n,e,r){let i=Wp(n);i.push(e),t.firstCreatePass&&Gp(t).push(r,i.length-1)}var it={lFrame:eb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bh=!1;function yx(){return it.lFrame.elementDepthCount}function _x(){it.lFrame.elementDepthCount++}function bx(){it.lFrame.elementDepthCount--}function z_(){return it.bindingsEnabled}function W_(){return it.skipHydrationRootTNode!==null}function Cx(t){return it.skipHydrationRootTNode===t}function Ex(){it.skipHydrationRootTNode=null}function Qe(){return it.lFrame.lView}function Ut(){return it.lFrame.tView}function Be(t){return it.lFrame.contextLView=t,t[Yt]}function Ue(t){return it.lFrame.contextLView=null,t}function Xn(){let t=G_();for(;t!==null&&t.type===64;)t=t.parent;return t}function G_(){return it.lFrame.currentTNode}function Sx(){let t=it.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ga(t,n){let e=it.lFrame;e.currentTNode=t,e.isParent=n}function Y_(){return it.lFrame.isParent}function Q_(){it.lFrame.isParent=!1}function Ix(){return it.lFrame.contextLView}function Z_(){return Bh}function I0(t){let n=Bh;return Bh=t,n}function As(){let t=it.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Dx(){return it.lFrame.bindingIndex}function xx(t){return it.lFrame.bindingIndex=t}function Os(){return it.lFrame.bindingIndex++}function Yp(t){let n=it.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Mx(){return it.lFrame.inI18n}function Tx(t,n){let e=it.lFrame;e.bindingIndex=e.bindingRootIndex=t,Uh(n)}function Ax(){return it.lFrame.currentDirectiveIndex}function Uh(t){it.lFrame.currentDirectiveIndex=t}function Ox(t){let n=it.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function K_(){return it.lFrame.currentQueryIndex}function Qp(t){it.lFrame.currentQueryIndex=t}function Rx(t){let n=t[Xe];return n.type===2?n.declTNode:n.type===1?t[jn]:null}function X_(t,n,e){if(e&nt.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&nt.Host);)if(i=Rx(o),i===null||(o=o[xs],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=it.lFrame=J_();return r.currentTNode=n,r.lView=t,!0}function Zp(t){let n=J_(),e=t[Xe];it.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function J_(){let t=it.lFrame,n=t===null?null:t.child;return n===null?eb(t):n}function eb(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function tb(){let t=it.lFrame;return it.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nb=tb;function Kp(){let t=tb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nx(t){return(it.lFrame.contextLView=gx(t,it.lFrame.contextLView))[Yt]}function mi(){return it.lFrame.selectedIndex}function Do(t){it.lFrame.selectedIndex=t}function Ya(){let t=it.lFrame;return Hp(t.tView,t.selectedIndex)}function Px(){return it.lFrame.currentNamespace}var rb=!0;function Xp(){return rb}function Jp(t){rb=t}function kx(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=j_(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function ib(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Hc(t,n,e){ob(t,n,3,e)}function qc(t,n,e,r){(t[Je]&3)===e&&ob(t,n,e,r)}function bh(t,n){let e=t[Je];(e&3)===n&&(e&=16383,e+=1,t[Je]=e)}function ob(t,n,e,r){let i=r!==void 0?t[fs]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[fs]+=65536),(a<o||o==-1)&&(Fx(t,e,n,l),t[fs]=(t[fs]&4294901760)+l+2),l++}function D0(t,n){xt(4,t,n);let e=rt(null);try{n.call(t)}finally{rt(e),xt(5,t,n)}}function Fx(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[Je]>>14<t[fs]>>16&&(t[Je]&3)===n&&(t[Je]+=16384,D0(a,o)):D0(a,o)}var ps=-1,xo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function Lx(t){return(t.flags&8)!==0}function jx(t){return(t.flags&16)!==0}function Vx(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];Bx(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function sb(t){return t===3||t===4||t===6}function Bx(t){return t.charCodeAt(0)===64}function ja(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?x0(t,e,i,null,n[++r]):x0(t,e,i,null,null))}}return t}function x0(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function ab(t){return t!==ps}function ru(t){return t&32767}function Ux(t){return t>>16}function iu(t,n){let e=Ux(t),r=n;for(;e>0;)r=r[xs],e--;return r}var $h=!0;function ou(t){let n=$h;return $h=t,n}var $x=256,lb=$x-1,cb=5,Hx=0,Rr={};function qx(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Na)&&(r=e[Na]),r==null&&(r=e[Na]=Hx++);let i=r&lb,o=1<<i;n.data[t+(i>>cb)]|=o}function su(t,n){let e=ub(t,n);if(e!==-1)return e;let r=n[Xe];r.firstCreatePass&&(t.injectorIndex=n.length,wh(r.data,t),wh(n,null),wh(r.blueprint,null));let i=eg(t,n),o=t.injectorIndex;if(ab(i)){let s=ru(i),a=iu(i,n),l=a[Xe].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function wh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ub(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function eg(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=gb(i),r===null)return ps;if(e++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return ps}function Hh(t,n,e){qx(t,n,e)}function zx(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(sb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function db(t,n,e){if(e&nt.Optional||t!==void 0)return t;Lp(n,"NodeInjector")}function fb(t,n,e,r){if(e&nt.Optional&&r===void 0&&(r=null),(e&(nt.Self|nt.Host))===0){let i=t[Co],o=kn(void 0);try{return i?i.get(n,r,e&nt.Optional):C_(n,r,e&nt.Optional)}finally{kn(o)}}return db(r,n,e)}function hb(t,n,e,r=nt.Default,i){if(t!==null){if(n[Je]&2048&&!(r&nt.Self)){let s=Qx(t,n,e,r,Rr);if(s!==Rr)return s}let o=pb(t,n,e,r,Rr);if(o!==Rr)return o}return fb(n,e,r,i)}function pb(t,n,e,r,i){let o=Gx(e);if(typeof o=="function"){if(!X_(n,t,r))return r&nt.Host?db(i,e,r):fb(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&nt.Optional))Lp(e);else return s}finally{nb()}}else if(typeof o=="number"){let s=null,a=ub(t,n),l=ps,c=r&nt.Host?n[Zn][jn]:null;for((a===-1||r&nt.SkipSelf)&&(l=a===-1?eg(t,n):n[a+8],l===ps||!T0(r,!1)?a=-1:(s=n[Xe],a=ru(l),n=iu(l,n)));a!==-1;){let u=n[Xe];if(M0(o,a,u.data)){let d=Wx(a,n,e,s,r,c);if(d!==Rr)return d}l=n[a+8],l!==ps&&T0(r,n[Xe].data[a+8]===c)&&M0(o,a,n)?(s=u,a=ru(l),n=iu(l,n)):a=-1}}return i}function Wx(t,n,e,r,i,o){let s=n[Xe],a=s.data[t+8],l=r==null?Ms(a)&&$h:r!=s&&(a.type&3)!==0,c=i&nt.Host&&o===a,u=zc(a,s,e,l,c);return u!==null?Va(n,s,u,a,i):Rr}function zc(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let g=s[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(i){let f=s[l];if(f&&Nr(f)&&f.type===e)return l}return null}function Va(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof xo){let a=o;a.resolving&&b_(k1(s[e]));let l=ou(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?kn(a.injectImpl):null,d=X_(t,r,nt.Default);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&kx(e,s[e],n)}finally{u!==null&&kn(u),ou(l),a.resolving=!1,nb()}}return o}function Gx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Na)?t[Na]:void 0;return typeof n=="number"?n>=0?n&lb:Yx:n}function M0(t,n,e){let r=1<<t;return!!(e[n+(t>>cb)]&r)}function T0(t,n){return!(t&nt.Self)&&!(t&nt.Host&&n)}var yo=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return hb(this._tNode,this._lView,n,wu(r),e)}};function Yx(){return new yo(Xn(),Qe())}function gn(t){return za(()=>{let n=t.prototype.constructor,e=n[Yc]||qh(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yc]||qh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qh(t){return g_(t)?()=>{let n=qh(Cn(t));return n&&n()}:bo(t)}function Qx(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[Je]&2048&&!nu(s);){let a=pb(o,s,e,r|nt.Self,Rr);if(a!==Rr)return a;let l=o.parent;if(!l){let c=s[P_];if(c){let u=c.get(e,Rr,r);if(u!==Rr)return u}l=gb(s),s=s[xs]}o=l}return i}function gb(t){let n=t[Xe],e=n.type;return e===2?n.declTNode:e===1?t[jn]:null}function tg(t){return zx(Xn(),t)}function A0(t,n=null,e=null,r){let i=mb(t,n,e,r);return i.resolveInjectorInitializers(),i}function mb(t,n=null,e=null,r,i=new Set){let o=[e||Fn,Vp(t)];return r=r||(typeof t=="object"?void 0:Ln(t)),new Fa(o,n||Up(),r||null,i)}var fi=class t{static THROW_IF_NOT_FOUND=vo;static NULL=new Xc;static create(n,e){if(Array.isArray(n))return A0({name:""},e,n,"");{let r=n.name??"";return A0({name:r},n.parent,n.providers,r)}}static \u0275prov=Pe({token:t,providedIn:"any",factory:()=>Le(x_)});static __NG_ELEMENT_ID__=-1};var Zx=new je("");Zx.__NG_ELEMENT_ID__=t=>{let n=Xn();if(n===null)throw new Ve(204,!1);if(n.type&2)return n.value;if(t&nt.Optional)return null;throw new Ve(204,!1)};var vb=!1,xu=(()=>{class t{static __NG_ELEMENT_ID__=Kx;static __NG_ENV_ID__=e=>e}return t})(),zh=class extends xu{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return Ts(e)?(n(),()=>{}):(q_(e,n),()=>mx(e,n))}};function Kx(){return new zh(Qe())}var Ba=class{},ng=new je("",{providedIn:"root",factory:()=>!1});var yb=new je(""),_b=new je(""),vi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new zt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Pe({token:t,providedIn:"root",factory:()=>new t})}return t})();var Wh=class extends Tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,sx()&&(this.destroyRef=Ae(xu,{optional:!0})??void 0,this.pendingTasks=Ae(vi,{optional:!0})??void 0)}emit(n){let e=rt(null);try{super.next(n)}finally{rt(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ht&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},mt=Wh;function au(...t){}function bb(t){let n,e;function r(){t=au;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function O0(t){return queueMicrotask(()=>t()),()=>{t=au}}var rg="isAngularZone",lu=rg+"_ID",Xx=0,Qt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mt(!1);onMicrotaskEmpty=new mt(!1);onStable=new mt(!1);onError=new mt(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vb}=n;if(typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Ve(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Jx,au,au);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},Jx={};function ig(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){bb(()=>{t.callbackScheduled=!1,Gh(t),t.isCheckStableRunning=!0,ig(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Gh(t)}function tM(t){let n=()=>{eM(t)},e=Xx++;t._inner=t._inner.fork({name:"angular",properties:{[rg]:!0,[lu]:e,[lu+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(nM(l))return r.invokeTask(o,s,a,l);try{return R0(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),N0(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return R0(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rM(l)&&n(),N0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Gh(t),ig(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function R0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N0(t){t._nesting--,ig(t)}var Yh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mt;onMicrotaskEmpty=new mt;onStable=new mt;onError=new mt;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function nM(t){return wb(t,"__ignore_ng_zone__")}function rM(t){return wb(t,"__scheduler_tick__")}function wb(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var hi=class{_console=console;handleError(n){this._console.error("ERROR",n)}},iM=new je("",{providedIn:"root",factory:()=>{let t=Ae(Qt),n=Ae(hi);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function P0(t,n){return h_(t,n)}function oM(t){return h_(f_,t)}var Cb=(P0.required=oM,P0);function sM(){return Rs(Xn(),Qe())}function Rs(t,n){return new ln(jr(t,n))}var ln=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=sM}return t})();function aM(t){return t instanceof ln?t.nativeElement:t}function lM(t){return typeof t=="function"&&t[ar]!==void 0}function Ns(t,n){let e=Kf(t,n?.equal),r=e[ar];return e.set=i=>Ia(r,i),e.update=i=>Xf(r,i),e.asReadonly=cM.bind(e),e}function cM(){let t=this[ar];if(t.readonlyFn===void 0){let n=()=>this();n[ar]=t,t.readonlyFn=n}return t.readonlyFn}function Eb(t){return lM(t)&&typeof t.set=="function"}function uM(){return this._results[Symbol.iterator]()}var Qh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Tt}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=z1(n);(this._changesDetected=!q1(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=uM};function Sb(t){return(t.flags&128)===128}var Ib=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ib||{}),Db=new Map,dM=0;function fM(){return dM++}function hM(t){Db.set(t[Su],t)}function Zh(t){Db.delete(t[Su])}var k0="__ngContext__";function Qa(t,n){Bi(n)?(t[k0]=n[Su],hM(n)):t[k0]=n}function xb(t){return Tb(t[La])}function Mb(t){return Tb(t[Dr])}function Tb(t){for(;t!==null&&!gi(t);)t=t[Dr];return t}var Kh;function Ab(t){Kh=t}function Ob(){if(Kh!==void 0)return Kh;if(typeof document<"u")return document;throw new Ve(210,!1)}var Mu=new je("",{providedIn:"root",factory:()=>pM}),pM="ng",og=new je(""),Za=new je("",{providedIn:"platform",factory:()=>"unknown"});var sg=new je("",{providedIn:"root",factory:()=>Ob().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gM="h",mM="b";var Rb=!1,vM=new je("",{providedIn:"root",factory:()=>Rb});var Nb=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Nb||{}),Tu=new je(""),F0=new Set;function Ka(t){F0.has(t)||(F0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var yM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Pe({token:t,providedIn:"root",factory:()=>new t})}return t})();var _M=()=>null;function Pb(t,n,e=!1){return _M(t,n,e)}function kb(t,n){let e=t.contentQueries;if(e!==null){let r=rt(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];Qp(o),a.contentQueries(2,n[s],s)}}}finally{rt(r)}}}function Xh(t,n,e){Qp(0);let r=rt(null);try{n(t,e)}finally{rt(r)}}function Fb(t,n,e){if(F_(n)){let r=rt(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{rt(r)}}}var Fr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Fr||{}),jc;function bM(){if(jc===void 0&&(jc=null,Pa.trustedTypes))try{jc=Pa.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jc}function Au(t){return bM()?.createHTML(t)||t}var Vc;function Lb(){if(Vc===void 0&&(Vc=null,Pa.trustedTypes))try{Vc=Pa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vc}function L0(t){return Lb()?.createHTML(t)||t}function j0(t){return Lb()?.createScriptURL(t)||t}var cu=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${d_})`}};function Ps(t){return t instanceof cu?t.changingThisBreaksApplicationSecurity:t}function ag(t,n){let e=wM(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${d_})`)}return e===n}function wM(t){return t instanceof cu&&t.getTypeName()||null}function CM(t){let n=new ep(t);return EM()?new Jh(n):n}var Jh=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(Au(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},ep=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=Au(n),e}};function EM(){try{return!!new window.DOMParser().parseFromString(Au(""),"text/html")}catch{return!1}}var SM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jb(t){return t=String(t),t.match(SM)?t:"unsafe:"+t}function yi(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Xa(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var Vb=yi("area,br,col,hr,img,wbr"),Bb=yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ub=yi("rp,rt"),IM=Xa(Ub,Bb),DM=Xa(Bb,yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xM=Xa(Ub,yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),V0=Xa(Vb,DM,xM,IM),$b=yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MM=yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TM=yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),AM=Xa($b,MM,TM),OM=yi("script,style,template"),tp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=PM(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=NM(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(n){let e=B0(n).toLowerCase();if(!V0.hasOwnProperty(e))return this.sanitizedSomething=!0,!OM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!AM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;$b[a]&&(l=jb(l)),this.buf.push(" ",s,'="',U0(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=B0(n).toLowerCase();V0.hasOwnProperty(e)&&!Vb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(U0(n))}};function RM(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function NM(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw Hb(n);return n}function PM(t){let n=t.firstChild;if(n&&RM(t,n))throw Hb(n);return n}function B0(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function Hb(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var kM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FM=/([^\#-~ |!])/g;function U0(t){return t.replace(/&/g,"&amp;").replace(kM,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(FM,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Bc;function LM(t,n){let e=null;try{Bc=Bc||CM(t);let r=n?String(n):"";e=Bc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Bc.getInertBodyElement(r)}while(r!==o);let a=new tp().sanitizeChildren($0(e)||e);return Au(a)}finally{if(e){let r=$0(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function $0(t){return"content"in t&&jM(t)?t.content:null}function jM(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ou=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ou||{});function Ja(t){let n=lg();return n?L0(n.sanitize(Ou.HTML,t)||""):ag(t,"HTML")?L0(Ps(t)):LM(Ob(),_o(t))}function VM(t){let n=lg();return n?n.sanitize(Ou.URL,t)||"":ag(t,"URL")?Ps(t):jb(_o(t))}function BM(t){let n=lg();if(n)return j0(n.sanitize(Ou.RESOURCE_URL,t)||"");if(ag(t,"ResourceURL"))return j0(Ps(t));throw new Ve(904,!1)}function UM(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?BM:VM}function qb(t,n,e){return UM(n,e)(t)}function lg(){let t=Qe();return t&&t[ui].sanitizer}function zb(t){return t.ownerDocument}function Wb(t){return t instanceof Function?t():t}function $M(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var Gb="ng-template";function HM(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&$M(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(cg(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function cg(t){return t.type===4&&t.value!==Gb}function qM(t,n,e){let r=t.type===4&&!e?Gb:t.value;return n===r}function zM(t,n,e){let r=4,i=t.attrs,o=i!==null?YM(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Ir(r)&&!Ir(l))return!1;if(s&&Ir(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!qM(t,l,e)||l===""&&n.length===1){if(Ir(r))return!1;s=!0}}else if(r&8){if(i===null||!HM(t,i,l,e)){if(Ir(r))return!1;s=!0}}else{let c=n[++a],u=WM(l,i,cg(t),e);if(u===-1){if(Ir(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ir(r))return!1;s=!0}}}}return Ir(r)||s}function Ir(t){return(t&1)===0}function WM(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return QM(n,t)}function Yb(t,n,e=!1){for(let r=0;r<n.length;r++)if(zM(t,n[r],e))return!0;return!1}function GM(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function YM(t){for(let n=0;n<t.length;n++){let e=t[n];if(sb(e))return n}return t.length}function QM(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function ZM(t,n){e:for(let e=0;e<n.length;e++){let r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function H0(t,n){return t?":not("+n.trim()+")":n}function KM(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ir(s)&&(n+=H0(o,i),i=""),r=s,o=o||!Ir(r);e++}return i!==""&&(n+=H0(o,i)),n}function XM(t){return t.map(KM).join(",")}function JM(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!Ir(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var Sn={};function eT(t,n){return t.createText(n)}function tT(t,n,e){t.setValue(n,e)}function Qb(t,n,e){return t.createElement(n,e)}function uu(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Zb(t,n,e){t.appendChild(n,e)}function q0(t,n,e,r,i){r!==null?uu(t,n,e,r,i):Zb(t,n,e)}function nT(t,n,e){t.removeChild(null,n,e)}function rT(t,n,e){t.setAttribute(n,"style",e)}function iT(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Kb(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Vx(t,n,r),i!==null&&iT(t,n,i),o!==null&&rT(t,n,o)}function ug(t,n,e,r,i,o,s,a,l,c,u){let d=Jt+r,h=d+i,f=oT(d,h),g=typeof c=="function"?c():c;return f[Xe]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function oT(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Sn);return e}function sT(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function dg(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[pi]=i,d[Je]=r|4|128|8|64|1024,(c!==null||t&&t[Je]&2048)&&(d[Je]|=2048),$_(d),d[hn]=d[xs]=t,d[Yt]=e,d[ui]=s||t&&t[ui],d[Pt]=a||t&&t[Pt],d[Co]=l||t&&t[Co]||null,d[jn]=o,d[Su]=fM(),d[vs]=u,d[P_]=c,d[Zn]=n.type==2?t[Zn]:d,d}function aT(t,n,e){let r=jr(n,t),i=sT(e),o=t[ui].rendererFactory,s=fg(t,dg(t,i,null,Xb(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function Xb(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Jb(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function fg(t,n){return t[La]?t[E0][Dr]=n:t[La]=n,t[E0]=n,n}function A(t=1){ew(Ut(),Qe(),mi()+t,!1)}function ew(t,n,e,r){if(!r)if((n[Je]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hc(n,o,e)}else{let o=t.preOrderHooks;o!==null&&qc(n,o,0,e)}Do(e)}var Ru=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ru||{});function np(t,n,e,r){let i=rt(null);try{let[o,s,a]=t.inputs[e],l=null;(s&Ru.SignalBased)!==0&&(l=n[o][ar]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):L_(n,l,o,r)}finally{rt(i)}}function tw(t,n,e,r,i){let o=mi(),s=r&2;try{Do(-1),s&&n.length>Jt&&ew(t,n,Jt,!1),xt(s?2:0,i),e(r,i)}finally{Do(o),xt(s?3:1,i)}}function hg(t,n,e){hT(t,n,e),(e.flags&64)===64&&pT(t,n,e)}function nw(t,n,e=jr){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function lT(t,n,e,r){let o=r.get(vM,Rb)||e===Fr.ShadowDom,s=t.selectRootElement(n,o);return cT(s),s}function cT(t){uT(t)}var uT=()=>null;function dT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Nu(t,n,e,r,i,o,s,a){if(!a&&pg(n,t,e,r,i)){Ms(n)&&fT(e,n.index);return}if(n.type&3){let l=jr(n,e);r=dT(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function fT(t,n){let e=kr(n,t);e[Je]&16||(e[Je]|=64)}function hT(t,n,e){let r=e.directiveStart,i=e.directiveEnd;Ms(e)&&aT(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||su(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Va(n,t,s,e);if(Qa(l,n),o!==null&&yT(n,s-r,l,a,e,o),Nr(a)){let c=kr(e.index,n);c[Yt]=Va(n,t,s,e)}}}function pT(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Ax();try{Do(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];Uh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&gT(l,c)}}finally{Do(-1),Uh(s)}}function gT(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function rw(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Yb(n,o.selectors,!1)&&(r??=[],Nr(o)?r.unshift(o):r.push(o))}return r}function mT(t,n,e,r,i,o){let s=jr(t,n);vT(n[Pt],s,o,t.value,e,r,i)}function vT(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?_o(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function yT(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];np(r,e,l,c)}}function _T(t,n){let e=t[Co],r=e?e.get(hi,null):null;r&&r.handleError(n)}function pg(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];np(d,e[c],u,i),a=!0}if(o)for(let l of o){let c=e[l],u=n.data[l];np(u,c,r,i),a=!0}return a}function bT(t,n){let e=kr(n,t),r=e[Xe];wT(r,e);let i=e[pi];i!==null&&e[vs]===null&&(e[vs]=Pb(i,e[Co])),xt(18),gg(r,e,e[Yt]),xt(19,e[Yt])}function wT(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function gg(t,n,e){Zp(n);try{let r=t.viewQuery;r!==null&&Xh(1,r,e);let i=t.template;i!==null&&tw(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[di]?.finishViewCreation(t),t.staticContentQueries&&kb(t,n),t.staticViewQueries&&Xh(2,t.viewQuery,e);let o=t.components;o!==null&&CT(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Je]&=-5,Kp()}}function CT(t,n){for(let e=0;e<n.length;e++)bT(t,n[e])}function el(t,n,e,r){let i=rt(null);try{let o=n.tView,a=t[Je]&4096?4096:16,l=dg(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Eo]=c;let u=t[di];return u!==null&&(l[di]=u.createEmbeddedView(o)),gg(o,l,e),l}finally{rt(i)}}function bs(t,n){return!n||n.firstChild===null||Sb(t)}var ET;function mg(t,n){return ET(t,n)}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lr||{});function vg(t){return(t.flags&32)===32}function hs(t,n,e,r,i){if(r!=null){let o,s=!1;gi(r)?o=r:Bi(r)&&(s=!0,r=r[pi]);let a=Pr(r);t===0&&e!==null?i==null?Zb(n,e,a):uu(n,e,a,i||null,!0):t===1&&e!==null?uu(n,e,a,i||null,!0):t===2?nT(n,a,s):t===3&&n.destroyNode(a),o!=null&&NT(n,t,o,e,i)}}function ST(t,n){iw(t,n),n[pi]=null,n[jn]=null}function IT(t,n,e,r,i,o){r[pi]=i,r[jn]=n,ku(t,r,e,1,i,o)}function iw(t,n){n[ui].changeDetectionScheduler?.notify(9),ku(t,n,n[Pt],2,null,null)}function DT(t){let n=t[La];if(!n)return Ch(t[Xe],t);for(;n;){let e=null;if(Bi(n))e=n[La];else{let r=n[fn];r&&(e=r)}if(!e){for(;n&&!n[Dr]&&n!==t;)Bi(n)&&Ch(n[Xe],n),n=n[hn];n===null&&(n=t),Bi(n)&&Ch(n[Xe],n),e=n&&n[Dr]}n=e}}function yg(t,n){let e=t[ys],r=e.indexOf(n);e.splice(r,1)}function Pu(t,n){if(Ts(n))return;let e=n[Pt];e.destroyNode&&ku(t,n,e,3,null,null),DT(n)}function Ch(t,n){if(Ts(n))return;let e=rt(null);try{n[Je]&=-129,n[Je]|=256,n[lr]&&Yf(n[lr]),MT(t,n),xT(t,n),n[Xe].type===1&&n[Pt].destroy();let r=n[Eo];if(r!==null&&gi(n[hn])){r!==n[hn]&&yg(r,n);let i=n[di];i!==null&&i.detachView(t)}Zh(n)}finally{rt(e)}}function xT(t,n){let e=t.cleanup,r=n[Jc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Jc]=null);let i=n[Vi];if(i!==null){n[Vi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[eu];if(o!==null){n[eu]=null;for(let s of o)s.destroy()}}function MT(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof xo)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];xt(4,a,l);try{l.call(a)}finally{xt(5,a,l)}}else{xt(4,i,o);try{o.call(i)}finally{xt(5,i,o)}}}}}function ow(t,n,e){return TT(t,n.parent,e)}function TT(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[pi];if(Ms(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Fr.None||i===Fr.Emulated)return null}return jr(r,e)}function sw(t,n,e){return OT(t,n,e)}function AT(t,n,e){return t.type&40?jr(t,e):null}var OT=AT,z0;function _g(t,n,e,r){let i=ow(t,r,n),o=n[Pt],s=r.parent||n[jn],a=sw(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)q0(o,i,e[l],a,!1);else q0(o,i,e,a,!1);z0!==void 0&&z0(o,r,n,e,i)}function Ra(t,n){if(n!==null){let e=n.type;if(e&3)return jr(n,t);if(e&4)return rp(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Ra(t,r);{let i=t[n.index];return gi(i)?rp(-1,i):Pr(i)}}else{if(e&128)return Ra(t,n.next);if(e&32)return mg(n,t)()||Pr(t[n.index]);{let r=aw(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Io(t[Zn]);return Ra(i,r)}else return Ra(t,n.next)}}}return null}function aw(t,n){if(n!==null){let r=t[Zn][jn],i=n.projection;return r.projection[i]}return null}function rp(t,n){let e=fn+t+1;if(e<n.length){let r=n[e],i=r[Xe].firstChild;if(i!==null)return Ra(r,i)}return n[So]}function bg(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&Qa(Pr(a),r),e.flags|=2),!vg(e))if(l&8)bg(t,n,e.child,r,i,o,!1),hs(n,t,i,a,o);else if(l&32){let c=mg(e,r),u;for(;u=c();)hs(n,t,i,u,o);hs(n,t,i,a,o)}else l&16?lw(t,n,r,e,i,o):hs(n,t,i,a,o);e=s?e.projectionNext:e.next}}function ku(t,n,e,r,i,o){bg(e,r,t.firstChild,n,i,o,!1)}function RT(t,n,e){let r=n[Pt],i=ow(t,e,n),o=e.parent||n[jn],s=sw(o,e,n);lw(r,0,n,e,i,s)}function lw(t,n,e,r,i,o){let s=e[Zn],l=s[jn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];hs(n,t,i,u,o)}else{let c=l,u=s[hn];Sb(r)&&(c.flags|=128),bg(t,n,c,u,i,o,!0)}}function NT(t,n,e,r,i){let o=e[So],s=Pr(e);o!==s&&hs(n,t,r,o,i);for(let a=fn;a<e.length;a++){let l=e[a];ku(l[Xe],l,t,n,r,o)}}function PT(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Lr.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lr.Important),t.setStyle(e,r,i,o))}}function du(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(Pr(o)),gi(o)&&kT(o,r);let s=e.type;if(s&8)du(t,n,e.child,r);else if(s&32){let a=mg(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=aw(n,e);if(Array.isArray(a))r.push(...a);else{let l=Io(n[Zn]);du(l[Xe],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function kT(t,n){for(let e=fn;e<t.length;e++){let r=t[e],i=r[Xe].firstChild;i!==null&&du(r[Xe],r,i,n)}t[So]!==t[pi]&&n.push(t[So])}function cw(t){if(t[_h]!==null){for(let n of t[_h])n.impl.addSequence(n);t[_h].length=0}}var uw=[];function FT(t){return t[lr]??LT(t)}function LT(t){let n=uw.pop()??Object.create(VT);return n.lView=t,n}function jT(t){t.lView[lr]!==t&&(t.lView=null,uw.push(t))}var VT=Ye(we({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Du(t.lView)},consumerOnSignalRead(){this.lView[lr]=this}});function BT(t){let n=t[lr]??Object.create(UT);return n.lView=t,n}var UT=Ye(we({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Io(t.lView);for(;n&&!dw(n[Xe]);)n=Io(n);n&&H_(n)},consumerOnSignalRead(){this.lView[lr]=this}});function dw(t){return t.type!==2}function fw(t){if(t[eu]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[eu])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[Je]&8192)}}var $T=100;function hw(t,n=!0,e=0){let i=t[ui].rendererFactory,o=!1;o||i.begin?.();try{HT(t,e)}catch(s){throw n&&_T(t,s),s}finally{o||i.end?.()}}function HT(t,n){let e=Z_();try{I0(!0),ip(t,n);let r=0;for(;Iu(t);){if(r===$T)throw new Ve(103,!1);r++,ip(t,1)}}finally{I0(e)}}function qT(t,n,e,r){if(Ts(n))return;let i=n[Je],o=!1,s=!1;Zp(n);let a=!0,l=null,c=null;o||(dw(t)?(c=FT(n),l=lc(c)):$f()===null?(a=!1,c=BT(n),l=lc(c)):n[lr]&&(Yf(n[lr]),n[lr]=null));try{$_(n),xx(t.bindingStartIndex),e!==null&&tw(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&Hc(n,f,null)}else{let f=t.preOrderHooks;f!==null&&qc(n,f,0,null),bh(n,0)}if(s||zT(n),fw(n),pw(n,0),t.contentQueries!==null&&kb(t,n),!o)if(u){let f=t.contentCheckHooks;f!==null&&Hc(n,f)}else{let f=t.contentHooks;f!==null&&qc(n,f,1),bh(n,1)}GT(t,n);let d=t.components;d!==null&&mw(n,d,0);let h=t.viewQuery;if(h!==null&&Xh(2,h,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&Hc(n,f)}else{let f=t.viewHooks;f!==null&&qc(n,f,2),bh(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[yh]){for(let f of n[yh])f();n[yh]=null}o||(cw(n),n[Je]&=-73)}catch(u){throw o||Du(n),u}finally{c!==null&&(Wf(c,l),a&&jT(c)),Kp()}}function pw(t,n){for(let e=xb(t);e!==null;e=Mb(e))for(let r=fn;r<e.length;r++){let i=e[r];gw(i,n)}}function zT(t){for(let n=xb(t);n!==null;n=Mb(n)){if(!(n[Je]&2))continue;let e=n[ys];for(let r=0;r<e.length;r++){let i=e[r];H_(i)}}}function WT(t,n,e){xt(18);let r=kr(n,t);gw(r,e),xt(19,r[Yt])}function gw(t,n){zp(t)&&ip(t,n)}function ip(t,n){let r=t[Xe],i=t[Je],o=t[lr],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gf(o)),s||=!1,o&&(o.dirty=!1),t[Je]&=-9217,s)qT(r,t,r.template,t[Yt]);else if(i&8192){fw(t),pw(t,1);let a=r.components;a!==null&&mw(t,a,1),cw(t)}}function mw(t,n,e){for(let r=0;r<n.length;r++)WT(t,n[r],e)}function GT(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Do(~i);else{let o=i,s=e[++r],a=e[++r];Tx(s,o);let l=n[o];xt(24,l),a(2,l),xt(25,l)}}}finally{Do(-1)}}function wg(t,n){let e=Z_()?64:1088;for(t[ui].changeDetectionScheduler?.notify(n);t;){t[Je]|=e;let r=Io(t);if(nu(t)&&!r)return t;t=r}return null}function vw(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function yw(t,n){let e=fn+n;if(e<t.length)return t[e]}function tl(t,n,e,r=!0){let i=n[Xe];if(YT(i,n,t,e),r){let s=rp(e,t),a=n[Pt],l=a.parentNode(t[So]);l!==null&&IT(i,t[jn],a,n,l,s)}let o=n[vs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _w(t,n){let e=Ua(t,n);return e!==void 0&&Pu(e[Xe],e),e}function Ua(t,n){if(t.length<=fn)return;let e=fn+n,r=t[e];if(r){let i=r[Eo];i!==null&&i!==t&&yg(i,r),n>0&&(t[e-1][Dr]=r[Dr]);let o=Kc(t,fn+n);ST(r[Xe],r);let s=o[di];s!==null&&s.detachView(o[Xe]),r[hn]=null,r[Dr]=null,r[Je]&=-129}return r}function YT(t,n,e,r){let i=fn+r,o=e.length;r>0&&(e[i-1][Dr]=n),r<o-fn?(n[Dr]=e[i],D_(e,fn+r,n)):(e.push(n),n[Dr]=null),n[hn]=e;let s=n[Eo];s!==null&&e!==s&&bw(s,n);let a=n[di];a!==null&&a.insertView(t),Vh(n),n[Je]|=128}function bw(t,n){let e=t[ys],r=n[hn];if(Bi(r))t[Je]|=2;else{let i=r[hn][Zn];n[Zn]!==i&&(t[Je]|=2)}e===null?t[ys]=[n]:e.push(n)}var $a=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[Xe];return du(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Yt]}set context(n){this._lView[Yt]=n}get destroyed(){return Ts(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[hn];if(gi(n)){let e=n[tu],r=e?e.indexOf(this):-1;r>-1&&(Ua(n,r),Kc(e,r))}this._attachedToViewContainer=!1}Pu(this._lView[Xe],this._lView)}onDestroy(n){q_(this._lView,n)}markForCheck(){wg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Je]&=-129}reattach(){Vh(this._lView),this._lView[Je]|=128}detectChanges(){this._lView[Je]|=1024,hw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=nu(this._lView),e=this._lView[Eo];e!==null&&!n&&yg(e,this._lView),iw(this._lView[Xe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=n;let e=nu(this._lView),r=this._lView[Eo];r!==null&&!e&&bw(r,this._lView),Vh(this._lView)}};var Mo=(()=>{class t{static __NG_ELEMENT_ID__=KT}return t})(),QT=Mo,ZT=class extends QT{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=el(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new $a(i)}};function KT(){return Fu(Xn(),Qe())}function Fu(t,n){return t.type&4?new ZT(n,t,Rs(t,n)):null}function Lu(t,n,e,r,i){let o=t.data[n];if(o===null)o=XT(t,n,e,r,i),Mx()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=Sx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ga(o,!0),o}function XT(t,n,e,r,i){let o=G_(),s=Y_(),a=s?o:o&&o.parent,l=t.data[n]=eA(t,a,e,n,r,i);return JT(t,l,o,s),l}function JT(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function eA(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return W_()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var T4=new RegExp(`^(\\d+)*(${mM}|${gM})*(.*)`);var tA=()=>null;function ws(t,n){return tA(t,n)}var nA=class{},ww=class{},op=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Ln(n)}.`)}},ju=class{static NULL=new op},Cs=class{},Vr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>rA()}return t})();function rA(){let t=Qe(),n=Xn(),e=kr(n.index,t);return(Bi(e)?e:t)[Pt]}var iA=(()=>{class t{static \u0275prov=Pe({token:t,providedIn:"root",factory:()=>null})}return t})();var Eh={},sp=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=wu(r);let i=this.injector.get(n,Eh,r);return i!==Eh||e===Eh?i:this.parentInjector.get(n,e,r)}};function W0(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Oh(i,a);else if(o==2){let l=a,c=n[++s];r=Oh(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function be(t,n=nt.Default){let e=Qe();if(e===null)return Le(t,n);let r=Xn();return hb(r,e,Cn(t),n)}function Cw(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a,l=null,c=null,u=sA(s);u===null?a=s:[a,l,c]=u,cA(t,n,e,a,o,l,c)}o!==null&&r!==null&&oA(e,r,o)}function oA(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new Ve(-301,!1);r.push(n[i],o)}}function sA(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Nr(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,aA(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,i,o]):null}function aA(t,n,e,r){let i=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[i,n.length-1])}function lA(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function cA(t,n,e,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&Nr(f)&&(l=!0,lA(t,e,h)),Hh(su(e,n),t,f.type)}gA(e,t.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Jb(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(e.mergedAttrs=ja(e.mergedAttrs,f.hostAttrs),dA(t,e,n,d,f),pA(d,f,i),s!==null&&s.has(f)){let[m,v]=s.get(f);e.directiveToIndex.set(f.type,[d,m+e.directiveStart,v+e.directiveStart])}else(o===null||!o.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}uA(t,e,o)}function uA(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))G0(0,n,i,r),G0(1,n,i,r),Q0(n,r,!1);else{let o=e.get(i);Y0(0,n,o,r),Y0(1,n,o,r),Q0(n,r,!0)}}}function G0(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Ew(n,o)}}function Y0(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ew(n,s)}}function Ew(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Q0(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||cg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function dA(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=bo(i.type,!0)),s=new xo(o,Nr(i),be);t.blueprint[r]=s,e[r]=s,fA(t,n,r,Jb(t,e,i.hostVars,Sn),i)}function fA(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;hA(s)!=a&&s.push(a),s.push(e,r,o)}}function hA(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function pA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Nr(n)&&(e[""]=t)}}function gA(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Sw(t,n,e,r,i,o,s,a){let l=n.consts,c=_s(l,s),u=Lu(n,t,2,r,c);return o&&Cw(n,e,u,_s(l,a),i),u.mergedAttrs=ja(u.mergedAttrs,u.attrs),u.attrs!==null&&W0(u,u.attrs,!1),u.mergedAttrs!==null&&W0(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function Iw(t,n){ib(t,n),F_(n)&&t.queries.elementEnd(n)}var fu=class extends ju{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=gs(n);return new Ha(e,this.ngModule)}};function mA(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&Ru.SignalBased)!==0};return i&&(o.transform=i),o})}function vA(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function yA(t,n,e){let r=n instanceof En?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new sp(e,r):e}function _A(t){let n=t.get(Cs,null);if(n===null)throw new Ve(407,!1);let e=t.get(iA,null),r=t.get(Ba,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function bA(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return Qb(n,e,e==="svg"?dx:e==="math"?fx:null)}var Ha=class extends ww{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vA(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=XM(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i){xt(22);let o=rt(null);try{let s=this.componentDef,a=r?["ng-version","19.2.11"]:JM(this.componentDef.selectors[0]),l=ug(0,null,null,1,0,null,null,null,null,[a],null),c=yA(s,i||this.ngModule,n),u=_A(c),d=u.rendererFactory.createRenderer(null,s),h=r?lT(d,r,s.encapsulation,c):bA(s,d),f=dg(null,l,null,512|Xb(s),null,null,u,d,c,null,Pb(h,c,!0));f[Jt]=h,Zp(f);let g=null;try{let m=Sw(Jt,l,f,"#host",()=>[this.componentDef],!0,0);h&&(Kb(d,h,m),Qa(h,f)),hg(l,f,m),Fb(l,m,f),Iw(l,m),e!==void 0&&wA(m,this.ngContentSelectors,e),g=kr(m.index,f),f[Yt]=g[Yt],gg(l,f,null)}catch(m){throw g!==null&&Zh(g),Zh(f),m}finally{xt(23),Kp()}return new ap(this.componentType,f)}finally{rt(o)}}},ap=class extends nA{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=Hp(e[Xe],Jt),this.location=Rs(this._tNode,e),this.instance=kr(this._tNode.index,e)[Yt],this.hostView=this.changeDetectorRef=new $a(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=pg(r,i[Xe],i,n,e);this.previousInputValues.set(n,e);let s=kr(r.index,i);wg(s,1)}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function wA(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Br=(()=>{class t{static __NG_ELEMENT_ID__=CA}return t})();function CA(){let t=Xn();return xw(t,Qe())}var EA=Br,Dw=class extends EA{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Rs(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let n=eg(this._hostTNode,this._hostLView);if(ab(n)){let e=iu(n,this._hostLView),r=ru(n),i=e[Xe].data[r+8];return new yo(i,e)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Z0(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ws(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,bs(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!ax(n),a;if(s)a=e;else{let g=e||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?n:new Ha(gs(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(En,null);m&&(o=m)}let u=gs(l.componentType??{}),d=ws(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,o);return this.insertImpl(f.hostView,a,bs(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(px(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[hn],c=new Dw(l,l[jn],l[hn]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return tl(s,i,o,r),n.attachToViewContainerRef(),D_(Sh(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Z0(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Ua(this._lContainer,e);r&&(Kc(Sh(this._lContainer),e),Pu(r[Xe],r))}detach(n){let e=this._adjustIndex(n,-1),r=Ua(this._lContainer,e);return r&&Kc(Sh(this._lContainer),e)!=null?new $a(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Z0(t){return t[tu]}function Sh(t){return t[tu]||(t[tu]=[])}function xw(t,n){let e,r=n[t.index];return gi(r)?e=r:(e=vw(r,n,null,t),n[t.index]=e,fg(n,e)),IA(e,n,t,r),new Dw(e,t,n)}function SA(t,n){let e=t[Pt],r=e.createComment(""),i=jr(n,t),o=e.parentNode(i);return uu(e,o,r,e.nextSibling(i),!1),r}var IA=MA,DA=()=>!1;function xA(t,n,e){return DA(t,n,e)}function MA(t,n,e,r){if(t[So])return;let i;e.type&8?i=Pr(r):i=SA(n,e),t[So]=i}var lp=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cp=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)Cg(n,e).matches!==null&&this.queries[e].setDirty()}},up=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=FA(n):this.predicate=n}},dp=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},fp=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,e,TA(e,o)),this.matchTNodeWithReadOption(n,e,zc(e,n,o,!1,!1))}else r===Mo?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,zc(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ln||i===Br||i===Mo&&e.type&4)this.addMatch(e.index,-2);else{let o=zc(e,n,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function TA(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function AA(t,n){return t.type&11?Rs(t,n):t.type&4?Fu(t,n):null}function OA(t,n,e,r){return e===-1?AA(n,t):e===-2?RA(t,n,r):Va(t,t[Xe],e,n)}function RA(t,n,e){if(e===ln)return Rs(n,t);if(e===Mo)return Fu(n,t);if(e===Br)return xw(n,t)}function Mw(t,n,e,r){let i=n[di].queries[r];if(i.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(OA(n,u,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function hp(t,n,e,r){let i=t.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Mw(t,n,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=n[-l];for(let d=fn;d<u.length;d++){let h=u[d];h[Eo]===h[hn]&&hp(h[Xe],h,c,r)}if(u[ys]!==null){let d=u[ys];for(let h=0;h<d.length;h++){let f=d[h];hp(f[Xe],f,c,r)}}}}}return r}function NA(t,n){return t[di].queries[n].queryList}function PA(t,n,e){let r=new Qh((e&4)===4);return vx(t,n,r,r.destroy),(n[di]??=new cp).queries.push(new lp(r))-1}function kA(t,n,e){let r=Ut();return r.firstCreatePass&&(LA(r,new up(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),PA(r,Qe(),n)}function FA(t){return t.split(",").map(n=>n.trim())}function LA(t,n,e){t.queries===null&&(t.queries=new dp),t.queries.track(new fp(n,e))}function Cg(t,n){return t.queries.getByIndex(n)}function jA(t,n){let e=t[Xe],r=Cg(e,n);return r.crossesNgTemplate?hp(e,t,n,[]):Mw(e,t,r,n)}var Es=class{},Eg=class{};var pp=class extends Es{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fu(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=T_(n);this._bootstrapComponents=Wb(o.bootstrap),this._r3Injector=mb(n,e,[{provide:Es,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],Ln(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},gp=class extends Eg{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new pp(this.moduleType,n,[])}};var hu=class extends Es{injector;componentFactoryResolver=new fu(this);instance=null;constructor(n){super();let e=new Fa([...n.providers,{provide:Es,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],n.parent||Up(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Vu(t,n,e=null){return new hu({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var VA=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=A_(!1,e.type),i=r.length>0?Vu([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Pe({token:t,providedIn:"environment",factory:()=>new t(Le(En))})}return t})();function lt(t){return za(()=>{let n=Tw(t),e=Ye(we({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ib.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(VA).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Fr.Emulated,styles:t.styles||Fn,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Ka("NgStandalone"),Aw(e);let r=t.dependencies;return e.directiveDefs=K0(r,!1),e.pipeDefs=K0(r,!0),e.id=qA(e),e})}function BA(t){return gs(t)||Q1(t)}function UA(t){return t!==null}function fr(t){return za(()=>({type:t.type,bootstrap:t.bootstrap||Fn,declarations:t.declarations||Fn,imports:t.imports||Fn,exports:t.exports||Fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $A(t,n){if(t==null)return wo;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Ru.None,l=null),e[o]=[r,a,l],n[o]=s}return e}function HA(t){if(t==null)return wo;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ft(t){return za(()=>{let n=Tw(t);return Aw(n),n})}function Sg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tw(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$A(t.inputs,n),outputs:HA(t.outputs),debugInfo:null}}function Aw(t){t.features?.forEach(n=>n(t))}function K0(t,n){if(!t)return null;let e=n?Z1:BA;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(UA)}function qA(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function zA(t){return Object.getPrototypeOf(t.prototype).constructor}function Zt(t){let n=zA(t.type),e=!0,r=[t];for(;n;){let i;if(Nr(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ve(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Ih(t.inputs),s.declaredInputs=Ih(t.declaredInputs),s.outputs=Ih(t.outputs);let a=i.hostBindings;a&&ZA(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&YA(t,l),c&&QA(t,c),WA(t,i),x1(t.outputs,i.outputs),Nr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Zt&&(e=!1)}}n=Object.getPrototypeOf(n)}GA(r)}function WA(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function GA(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=ja(i.hostAttrs,e=ja(e,i.hostAttrs))}}function Ih(t){return t===wo?{}:t===Fn?[]:t}function YA(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function QA(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function ZA(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function Ow(t){return Ig(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function KA(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function Ig(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Bu(t,n,e){return t[n]=e}function XA(t,n){return t[n]}function cr(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function Dg(t,n,e,r){let i=cr(t,n,e);return cr(t,n+1,r)||i}function JA(t,n,e,r,i){let o=Dg(t,n,e,r);return cr(t,n+2,i)||o}function eO(t,n,e,r,i,o,s,a,l){let c=n.consts,u=Lu(n,t,4,s||null,a||null);z_()&&Cw(n,e,u,_s(c,l),rw),u.mergedAttrs=ja(u.mergedAttrs,u.attrs),ib(n,u);let d=u.tView=ug(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function pu(t,n,e,r,i,o,s,a,l,c){let u=e+Jt,d=n.firstCreatePass?eO(u,n,t,r,i,o,s,a,l):n.data[u];Ga(d,!1);let h=tO(n,t,d,e);Xp()&&_g(n,t,h,d),Qa(h,t);let f=vw(h,t,h,d);return t[u]=f,fg(t,f),xA(f,d,t),$p(d)&&hg(n,t,d),l!=null&&nw(t,d,c),d}function Re(t,n,e,r,i,o,s,a){let l=Qe(),c=Ut(),u=_s(c.consts,o);return pu(l,c,t,n,e,r,i,u,s,a),Re}var tO=nO;function nO(t,n,e,r){return Jp(!0),n[Pt].createComment("")}var Rw=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Nw=new je("");var rO=(()=>{class t{static \u0275prov=Pe({token:t,providedIn:"root",factory:()=>new mp})}return t})(),mp=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function Oo(t){return!!t&&typeof t.then=="function"}function Pw(t){return!!t&&typeof t.subscribe=="function"}var iO=new je("");var kw=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=Ae(iO,{optional:!0})??[];injector=Ae(fi);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Kn(this.injector,i);if(Oo(o))e.push(o);else if(Pw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xg=new je("");function oO(){Zf(()=>{throw new Ve(600,!1)})}function sO(t){return t.isBoundToModule}var aO=10;var To=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ae(iM);afterRenderManager=Ae(yM);zonelessEnabled=Ae(ng);rootEffectScheduler=Ae(rO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Tt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ae(vi).hasPendingTasks.pipe(Ke(e=>!e));constructor(){Ae(Tu,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=Ae(En);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=fi.NULL){xt(10);let o=e instanceof ww;if(!this._injector.get(kw).done){let f="";throw new Ve(405,f)}let a;o?a=e:a=this._injector.get(ju).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=sO(a)?void 0:this._injector.get(Es),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,h=u.injector.get(Nw,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Wc(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),xt(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Nb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ve(101,!1);let e=rt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,rt(e),this.afterTick.next(),xt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Cs,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<aO;)xt(14),this.synchronizeOnce(),xt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)lO(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Iu(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Wc(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(xg,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Wc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ve(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wc(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function lO(t,n,e,r){if(!e&&!Iu(t))return;hw(t,n,e&&!r?0:1)}function ks(t,n,e,r){let i=Qe(),o=Os();if(cr(i,o,n)){let s=Ut(),a=Ya();mT(a,i,t,n,e,r)}return ks}function Fw(t,n,e,r){return cr(t,Os(),e)?n+_o(e)+r:Sn}function Lw(t,n,e,r,i,o){let s=Dx(),a=Dg(t,s,e,i);return Yp(2),a?n+_o(e)+r+_o(i)+o:Sn}function Uc(t,n){return t<<17|n<<2}function Ao(t){return t>>17&32767}function cO(t){return(t&2)==2}function uO(t,n){return t&131071|n<<17}function vp(t){return t|2}function Ss(t){return(t&131068)>>2}function Dh(t,n){return t&-131069|n<<2}function dO(t){return(t&1)===1}function yp(t){return t|1}function fO(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Ao(s),l=Ss(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Wa(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let h=Ao(t[a+1]);t[r+1]=Uc(h,a),h!==0&&(t[h+1]=Dh(t[h+1],r)),t[a+1]=uO(t[a+1],r)}else t[r+1]=Uc(a,0),a!==0&&(t[a+1]=Dh(t[a+1],r)),a=r;else t[r+1]=Uc(l,0),a===0?a=r:t[l+1]=Dh(t[l+1],r),l=r;c&&(t[r+1]=vp(t[r+1])),X0(t,u,r,!0),X0(t,u,r,!1),hO(n,u,t,r,o),s=Uc(a,l),o?n.classBindings=s:n.styleBindings=s}function hO(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Wa(o,n)>=0&&(e[r+1]=yp(e[r+1]))}function X0(t,n,e,r){let i=t[e+1],o=n===null,s=r?Ao(i):Ss(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];pO(l,n)&&(a=!0,t[s+1]=r?yp(c):vp(c)),s=r?Ao(c):Ss(c)}a&&(t[e+1]=r?vp(i):yp(i))}function pO(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Wa(t,n)>=0:!1}var Gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jw(t){return t.substring(Gt.key,Gt.keyEnd)}function gO(t){return t.substring(Gt.value,Gt.valueEnd)}function mO(t){return Uw(t),Vw(t,Is(t,0,Gt.textEnd))}function Vw(t,n){let e=Gt.textEnd;return e===n?-1:(n=Gt.keyEnd=yO(t,Gt.key=n,e),Is(t,n,e))}function vO(t){return Uw(t),Bw(t,Is(t,0,Gt.textEnd))}function Bw(t,n){let e=Gt.textEnd,r=Gt.key=Is(t,n,e);return e===r?-1:(r=Gt.keyEnd=_O(t,r,e),r=J0(t,r,e,58),r=Gt.value=Is(t,r,e),r=Gt.valueEnd=bO(t,r,e),J0(t,r,e,59))}function Uw(t){Gt.key=0,Gt.keyEnd=0,Gt.value=0,Gt.valueEnd=0,Gt.textEnd=t.length}function Is(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function yO(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function _O(t,n,e){let r;for(;n<e&&((r=t.charCodeAt(n))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)n++;return n}function J0(t,n,e,r){return n=Is(t,n,e),n<e&&n++,n}function bO(t,n,e){let r=-1,i=-1,o=-1,s=n,a=s;for(;s<e;){let l=t.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=e_(t,l,s,e):n===s-4&&o===85&&i===82&&r===76&&l===40?a=s=e_(t,41,s,e):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function e_(t,n,e,r){let i=-1,o=e;for(;o<r;){let s=t.charCodeAt(o++);if(s==n&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function Z(t,n,e){let r=Qe(),i=Os();if(cr(r,i,n)){let o=Ut(),s=Ya();Nu(o,s,r,t,n,r[Pt],e,!1)}return Z}function _p(t,n,e,r,i){pg(n,t,e,i?"class":"style",r)}function Uu(t,n){return EO(t,n,null,!0),Uu}function Ro(t){$w(zw,wO,t,!1)}function wO(t,n){for(let e=vO(n);e>=0;e=Bw(n,e))zw(t,jw(n),gO(n))}function Ui(t){$w(TO,CO,t,!0)}function CO(t,n){for(let e=mO(n);e>=0;e=Vw(n,e))Cu(t,jw(n),!0)}function EO(t,n,e,r){let i=Qe(),o=Ut(),s=Yp(2);if(o.firstUpdatePass&&qw(o,t,s,r),n!==Sn&&cr(i,s,n)){let a=o.data[mi()];Ww(o,a,i,i[Pt],t,i[s+1]=OO(n,e),r,s)}}function $w(t,n,e,r){let i=Ut(),o=Yp(2);i.firstUpdatePass&&qw(i,null,o,r);let s=Qe();if(e!==Sn&&cr(s,o,e)){let a=i.data[mi()];if(Gw(a,r)&&!Hw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Oh(l,e||"")),_p(i,a,s,e,r)}else AO(i,a,s,s[Pt],s[o+1],s[o+1]=MO(t,n,e),r,o)}}function Hw(t,n){return n>=t.expandoStartIndex}function qw(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[mi()],s=Hw(t,e);Gw(o,r)&&n===null&&!s&&(n=!1),n=SO(i,o,n,r),fO(i,o,n,e,s,r)}}function SO(t,n,e,r){let i=Ox(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=xh(null,t,n,e,r),e=qa(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=xh(i,t,n,e,r),o===null){let l=IO(t,n,r);l!==void 0&&Array.isArray(l)&&(l=xh(null,t,n,l[1],r),l=qa(l,n.attrs,r),DO(t,n,r,l))}else o=xO(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function IO(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Ss(r)!==0)return t[Ao(r)]}function DO(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Ao(i)]=r}function xO(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qa(r,s,e)}return qa(r,n.attrs,e)}function xh(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=qa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function qa(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Cu(t,s,e?!0:n[++o]))}return t===void 0?null:t}function MO(t,n,e){if(e==null||e==="")return Fn;let r=[],i=Ps(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function zw(t,n,e){Cu(t,n,Ps(e))}function TO(t,n,e){let r=String(n);r!==""&&!r.includes(" ")&&Cu(t,r,e)}function AO(t,n,e,r,i,o,s,a){i===Sn&&(i=Fn);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,g=null,m;u===d?(l+=2,c+=2,h!==f&&(g=d,m=f)):d===null||u!==null&&u<d?(l+=2,g=u):(c+=2,g=d,m=f),g!==null&&Ww(t,n,e,r,g,m,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function Ww(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=dO(c)?t_(l,n,e,i,Ss(c),s):void 0;if(!gu(u)){gu(o)||cO(c)&&(o=t_(l,null,e,i,a,s));let d=U_(mi(),e);PT(r,s,d,i,o)}}function t_(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=e[i+1];h===Sn&&(h=d?Fn:void 0);let f=d?mh(h,r):u===r?h:void 0;if(c&&!gu(f)&&(f=mh(l,r)),gu(f)&&(a=f,s))return a;let g=t[i+1];i=s?Ao(g):Ss(g)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=mh(l,r))}return a}function gu(t){return t!==void 0}function OO(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Ln(Ps(t)))),t}function Gw(t,n){return(t.flags&(n?8:16))!==0}var bp=class{destroy(n){}updateValue(n,e){}swap(n,e){let r=Math.min(n,e),i=Math.max(n,e),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,e){this.attach(e,this.detach(n))}};function Mh(t,n,e,r,i){return t===e&&Object.is(n,r)?1:Object.is(i(t,n),i(e,r))?-1:0}function RO(t,n,e){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=n[o],d=Mh(o,c,o,u,e);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let h=t.at(s),f=n[l],g=Mh(s,h,l,f,e);if(g!==0){g<0&&t.updateValue(s,f),s--,l--;continue}let m=e(o,c),v=e(s,h),w=e(o,u);if(Object.is(w,v)){let y=e(l,f);Object.is(y,m)?(t.swap(o,s),t.updateValue(s,f),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new mu,i??=r_(t,o,s,e),wp(t,r,o,w))t.updateValue(o,u),o++,s++;else if(i.has(w))r.set(m,t.detach(o)),s--;else{let y=t.create(o,n[o]);t.attach(o,y),o++,s++}}for(;o<=l;)n_(t,r,e,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,h=Mh(o,u,o,d,e);if(h!==0)h<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new mu,i??=r_(t,o,s,e);let f=e(o,d);if(wp(t,r,o,f))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(f))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let g=e(o,u);r.set(g,t.detach(o)),s--}}}for(;!c.done;)n_(t,r,e,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function wp(t,n,e,r){return n!==void 0&&n.has(r)?(t.attach(e,n.get(r)),n.delete(r),!0):!1}function n_(t,n,e,r,i){if(wp(t,n,r,e(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function r_(t,n,e,r){let i=new Set;for(let o=n;o<=e;o++)i.add(r(o,t.at(o)));return i}var mu=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,r]of this.kvMap)if(n(r,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,e)}}};function It(t,n){Ka("NgControlFlow");let e=Qe(),r=Os(),i=e[r]!==Sn?e[r]:-1,o=i!==-1?vu(e,Jt+i):void 0,s=0;if(cr(e,r,t)){let a=rt(null);try{if(o!==void 0&&_w(o,s),t!==-1){let l=Jt+t,c=vu(e,l),u=Ip(e[Xe],l),d=ws(c,u.tView.ssrId),h=el(e,u,n,{dehydratedView:d});tl(c,h,s,bs(u,d))}}finally{rt(a)}}else if(o!==void 0){let a=yw(o,s);a!==void 0&&(a[Yt]=n)}}var Cp=class{lContainer;$implicit;$index;constructor(n,e,r){this.lContainer=n,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-fn}};function Vn(t){return t}var Ep=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,r){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=r}};function Bn(t,n,e,r,i,o,s,a,l,c,u,d,h){Ka("NgControlFlow");let f=Qe(),g=Ut(),m=l!==void 0,v=Qe(),w=a?s.bind(v[Zn][Yt]):s,y=new Ep(m,w);v[Jt+t]=y,pu(f,g,t+1,n,e,r,i,_s(g.consts,o)),m&&pu(f,g,t+2,l,c,u,d,_s(g.consts,h))}var Sp=class extends bp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,r){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-fn}at(n){return this.getLView(n)[Yt].$implicit}attach(n,e){let r=e[vs];this.needsIndexUpdate||=n!==this.length,tl(this.lContainer,e,n,bs(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,NO(this.lContainer,n)}create(n,e){let r=ws(this.lContainer,this.templateTNode.tView.ssrId),i=el(this.hostLView,this.templateTNode,new Cp(this.lContainer,e,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){Pu(n[Xe],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[Yt].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Yt].$index=n}getLView(n){return PO(this.lContainer,n)}};function Un(t){let n=rt(null),e=mi();try{let r=Qe(),i=r[Xe],o=r[e],s=e+1,a=vu(r,s);if(o.liveCollection===void 0){let c=Ip(i,s);o.liveCollection=new Sp(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(RO(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Os(),u=l.length===0;if(cr(r,c,u)){let d=e+2,h=vu(r,d);if(u){let f=Ip(i,d),g=ws(h,f.tView.ssrId),m=el(r,f,void 0,{dehydratedView:g});tl(h,m,0,bs(f,g))}else _w(h,0)}}}finally{rt(n)}}function vu(t,n){return t[n]}function NO(t,n){return Ua(t,n)}function PO(t,n){return yw(t,n)}function Ip(t,n){return Hp(t,n)}function R(t,n,e,r){let i=Qe(),o=Ut(),s=Jt+t,a=i[Pt],l=o.firstCreatePass?Sw(s,o,i,n,rw,z_(),e,r):o.data[s],c=kO(o,i,l,a,n,t);i[s]=c;let u=$p(l);return Ga(l,!0),Kb(a,c,l),!vg(l)&&Xp()&&_g(o,i,c,l),(yx()===0||u)&&Qa(c,i),_x(),u&&(hg(o,i,l),Fb(o,l,i)),r!==null&&nw(i,l),R}function V(){let t=Xn();Y_()?Q_():(t=t.parent,Ga(t,!1));let n=t;Cx(n)&&Ex(),bx();let e=Ut();return e.firstCreatePass&&Iw(e,n),n.classesWithoutHost!=null&&Lx(n)&&_p(e,n,Qe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&jx(n)&&_p(e,n,Qe(),n.stylesWithoutHost,!1),V}function me(t,n,e,r){return R(t,n,e,r),V(),me}var kO=(t,n,e,r,i,o)=>(Jp(!0),Qb(r,i,Px()));function ot(){return Qe()}var yu="en-US";var FO=yu;function LO(t){typeof t=="string"&&(FO=t.toLowerCase().replace(/_/g,"-"))}function i_(t,n,e){return function r(i){if(i===Function)return e;let o=Ms(t)?kr(t.index,n):n;wg(o,5);let s=n[Yt],a=o_(n,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=o_(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function o_(t,n,e,r){let i=rt(null);try{return xt(6,n,e),e(r)!==!1}catch(o){return jO(t,o),!1}finally{xt(7,n,e),rt(i)}}function jO(t,n){let e=t[Co],r=e?e.get(hi,null):null;r&&r.handleError(n)}function s_(t,n,e,r,i,o){let s=n[e],a=n[Xe],c=a.data[e].outputs[r],u=s[c],d=a.firstCreatePass?Gp(a):null,h=Wp(n),f=u.subscribe(o),g=h.length;h.push(o,f),d&&d.push(i,t.index,g,-(g+1))}var VO=new Map;function Ne(t,n,e,r){let i=Qe(),o=Ut(),s=Xn();return Yw(o,i,i[Pt],s,t,n,r),Ne}function BO(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Jc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Yw(t,n,e,r,i,o,s){let a=$p(r),c=t.firstCreatePass?Gp(t):null,u=Wp(n),d=!0;if(r.type&3||s){let h=jr(r,n),f=s?s(h):h,g=u.length,m=s?w=>s(Pr(w[r.index])):r.index,v=null;if(!s&&a&&(v=BO(t,n,i,r.index)),v!==null){let w=v.__ngLastListenerFn__||v;w.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,d=!1}else{o=i_(r,n,o);let w=n[Co].get(Mu);VO.get(w)?.(f,i,o);let b=e.listen(f,i,o);u.push(o,b),c&&c.push(i,m,g,g+1)}}else o=i_(r,n,o);if(d){let h=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let m=f[g],v=f[g+1];s_(r,n,m,v,i,o)}if(h&&h.length)for(let g of h)s_(r,n,g,i,i,o)}}function ne(t=1){return Nx(t)}function UO(t,n){let e=null,r=GM(t);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){e=i;continue}if(r===null?Yb(t,o,!0):ZM(r,o))return i}return e}function $u(t){let n=Qe()[Zn][jn];if(!n.projection){let e=t?t.length:1,r=n.projection=W1(e,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=t?UO(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Hu(t,n=0,e,r,i,o){let s=Qe(),a=Ut(),l=r?t+1:null;l!==null&&pu(s,a,l,r,i,o,null,e);let c=Lu(a,Jt+t,16,null,e||null);c.projection===null&&(c.projection=n),Q_();let d=!s[vs]||W_();s[Zn][jn].projection[c.projection]===null&&l!==null?$O(s,a,l):d&&!vg(c)&&RT(a,s,c)}function $O(t,n,e){let r=Jt+e,i=n.data[r],o=t[r],s=ws(o,i.tView.ssrId),a=el(t,i,void 0,{dehydratedView:s});tl(o,a,0,bs(i,s))}function en(t,n,e){return Qw(t,"",n,"",e),en}function Qw(t,n,e,r,i){let o=Qe(),s=Fw(o,n,e,r);if(s!==Sn){let a=Ut(),l=Ya();Nu(a,l,o,t,s,o[Pt],i,!1)}return Qw}function Ur(t,n,e,r,i,o,s){let a=Qe(),l=Lw(a,n,e,r,i,o);if(l!==Sn){let c=Ut(),u=Ya();Nu(c,u,a,t,l,a[Pt],s,!1)}return Ur}function $t(t,n,e){kA(t,n,e)}function jt(t){let n=Qe(),e=Ut(),r=K_();Qp(r+1);let i=Cg(e,r);if(t.dirty&&hx(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=jA(n,r);t.reset(o,aM),t.notifyOnChanges()}return!0}return!1}function Vt(){return NA(Qe(),K_())}function HO(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function cn(t){let n=Ix();return qp(n,Jt+t)}function oe(t,n=""){let e=Qe(),r=Ut(),i=t+Jt,o=r.firstCreatePass?Lu(r,i,1,n,null):r.data[i],s=qO(r,e,o,n,t);e[i]=s,Xp()&&_g(r,e,s,o),Ga(o,!1)}var qO=(t,n,e,r,i)=>(Jp(!0),eT(n[Pt],r));function He(t){return qe("",t,""),He}function qe(t,n,e){let r=Qe(),i=Fw(r,t,n,e);return i!==Sn&&Zw(r,mi(),i),qe}function $i(t,n,e,r,i){let o=Qe(),s=Lw(o,t,n,e,r,i);return s!==Sn&&Zw(o,mi(),s),$i}function Zw(t,n,e){let r=U_(n,t);tT(t[Pt],r,e)}function Jn(t,n,e){Eb(n)&&(n=n());let r=Qe(),i=Os();if(cr(r,i,n)){let o=Ut(),s=Ya();Nu(o,s,r,t,n,r[Pt],e,!1)}return Jn}function hr(t,n){let e=Eb(t);return e&&t.set(n),e}function er(t,n){let e=Qe(),r=Ut(),i=Xn();return Yw(r,e,e[Pt],i,t,n),er}function zO(t,n,e){let r=Ut();if(r.firstCreatePass){let i=Nr(t);Dp(e,r.data,r.blueprint,i,!0),Dp(n,r.data,r.blueprint,i,!1)}}function Dp(t,n,e,r,i){if(t=Cn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Dp(t[o],n,e,r,i);else{let o=Ut(),s=Qe(),a=Xn(),l=ms(t)?t:Cn(t.provide),c=N_(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ms(t)||!t.multi){let f=new xo(c,i,be),g=Ah(l,n,i?u:u+h,d);g===-1?(Hh(su(a,s),o,l),Th(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{let f=Ah(l,n,u+h,d),g=Ah(l,n,u,u+h),m=f>=0&&e[f],v=g>=0&&e[g];if(i&&!v||!i&&!m){Hh(su(a,s),o,l);let w=YO(i?GO:WO,e.length,i,r,c);!i&&v&&(e[g].providerFactory=w),Th(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(w),s.push(w)}else{let w=Kw(e[i?g:f],c,!i&&r);Th(o,t,f>-1?f:g,w)}!i&&r&&v&&e[g].componentProviders++}}}function Th(t,n,e,r){let i=ms(n),o=ex(n);if(i||o){let l=(o?Cn(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Kw(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Ah(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function WO(t,n,e,r,i){return xp(this.multi,[])}function GO(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Va(r,r[Xe],this.providerFactory.index,i);s=l.slice(0,a),xp(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],xp(o,s);return s}function xp(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function YO(t,n,e,r,i){let o=new xo(t,e,be);return o.multi=[],o.index=n,o.componentProviders=0,Kw(o,i,r&&!e),o}function $n(t,n=[]){return e=>{e.providersResolver=(r,i)=>zO(r,i?i(t):t,n)}}function Fs(t,n,e){let r=As()+t,i=Qe();return i[r]===Sn?Bu(i,r,e?n.call(e):n()):XA(i,r)}function ct(t,n,e,r){return Jw(Qe(),As(),t,n,e,r)}function Ls(t,n,e,r,i){return eC(Qe(),As(),t,n,e,r,i)}function Xw(t,n,e,r,i,o){return QO(Qe(),As(),t,n,e,r,i,o)}function Mg(t,n){let e=t[n];return e===Sn?void 0:e}function Jw(t,n,e,r,i,o){let s=n+e;return cr(t,s,i)?Bu(t,s+1,o?r.call(o,i):r(i)):Mg(t,s+1)}function eC(t,n,e,r,i,o,s){let a=n+e;return Dg(t,a,i,o)?Bu(t,a+2,s?r.call(s,i,o):r(i,o)):Mg(t,a+2)}function QO(t,n,e,r,i,o,s,a){let l=n+e;return JA(t,l,i,o,s)?Bu(t,l+3,a?r.call(a,i,o,s):r(i,o,s)):Mg(t,l+3)}function Ce(t,n){let e=Ut(),r,i=t+Jt;e.firstCreatePass?(r=ZO(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=bo(r.type,!0)),s,a=kn(be);try{let l=ou(!1),c=o();return ou(l),HO(e,Qe(),i,c),c}finally{kn(a)}}function ZO(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Ie(t,n,e){let r=t+Jt,i=Qe(),o=qp(i,r);return tC(i,r)?Jw(i,As(),n,o.transform,e,o):o.transform(e)}function pr(t,n,e,r){let i=t+Jt,o=Qe(),s=qp(o,i);return tC(o,i)?eC(o,As(),n,s.transform,e,r,s):s.transform(e,r)}function tC(t,n){return t[Xe].data[n].pure}function qu(t,n){return Fu(t,n)}var Mp=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},nC=(()=>{class t{compileModuleSync(e){return new gp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=T_(e),o=Wb(i.declarations).reduce((s,a)=>{let l=gs(a);return l&&s.push(new Ha(l)),s},[]);return new Mp(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var KO=(()=>{class t{zone=Ae(Qt);changeDetectionScheduler=Ae(Ba);applicationRef=Ae(To);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XO=new je("",{factory:()=>!1});function rC({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Qt(Ye(we({},oC()),{scheduleInRootZone:e})),[{provide:Qt,useFactory:t},{provide:ka,multi:!0,useFactory:()=>{let r=Ae(KO,{optional:!0});return()=>r.initialize()}},{provide:ka,multi:!0,useFactory:()=>{let r=Ae(JO);return()=>{r.initialize()}}},n===!0?{provide:yb,useValue:!0}:[],{provide:_b,useValue:e??vb}]}function iC(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=rC({ngZoneFactory:()=>{let i=oC(t);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&Ka("NgZone_CoalesceEvent"),new Qt(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return Ds([{provide:XO,useValue:!0},{provide:ng,useValue:!1},r])}function oC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JO=(()=>{class t{subscription=new Ht;initialized=!1;zone=Ae(Qt);pendingTasks=Ae(vi);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qt.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eR=(()=>{class t{appRef=Ae(To);taskService=Ae(vi);ngZone=Ae(Qt);zonelessEnabled=Ae(ng);tracing=Ae(Tu,{optional:!0});disableScheduling=Ae(yb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ae(_b,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yh||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?O0:bb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,O0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tR(){return typeof $localize<"u"&&$localize.locale||yu}var Tg=new je("",{providedIn:"root",factory:()=>Ae(Tg,nt.Optional|nt.SkipSelf)||tR()});var Tp=new je(""),nR=new je("");function Aa(t){return!t.moduleRef}function rR(t){let n=Aa(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Qt);return e.run(()=>{Aa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(hi,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Aa(t)){let o=()=>n.destroy(),s=t.platformInjector.get(Tp);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Tp);s.add(o),t.moduleRef.onDestroy(()=>{Wc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return oR(r,e,()=>{let o=n.get(kw);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Tg,yu);if(LO(s||yu),!n.get(nR,!0))return Aa(t)?n.get(To):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Aa(t)){let l=n.get(To);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return iR(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function iR(t,n){let e=t.injector.get(To);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new Ve(-403,!1);n.push(t)}function oR(t,n,e){try{let r=e();return Oo(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Gc=null;function sR(t=[],n){return fi.create({name:n,providers:[{provide:Eu,useValue:"platform"},{provide:Tp,useValue:new Set([()=>Gc=null])},...t]})}function aR(t=[]){if(Gc)return Gc;let n=sR(t);return Gc=n,oO(),lR(n),n}function lR(t){let n=t.get(og,null);Kn(t,()=>{n?.forEach(e=>e())})}var Hi=(()=>{class t{static __NG_ELEMENT_ID__=cR}return t})();function cR(t){return uR(Xn(),Qe(),(t&16)===16)}function uR(t,n,e){if(Ms(t)&&!e){let r=kr(t.index,n);return new $a(r,r)}else if(t.type&175){let r=n[Zn];return new $a(r,n)}return null}var Ap=class{constructor(){}supports(n){return Ow(n)}create(n){return new Op(n)}},dR=(t,n)=>n,Op=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||dR}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<a_(r,i,o)?e:r,a=a_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Ow(n))throw new Ve(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,KA(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Rp(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new _u),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _u),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Rp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Np=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},_u=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Np,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function a_(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Pp=class{constructor(){}supports(n){return n instanceof Map||Ig(n)}create(){return new kp}},kp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Ig(n)))throw new Ve(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Fp(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},Fp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function l_(){return new Ag([new Ap])}var Ag=(()=>{class t{factories;static \u0275prov=Pe({token:t,providedIn:"root",factory:l_});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||l_()),deps:[[t,new I_,new S_]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new Ve(901,!1)}}return t})();function c_(){return new Og([new Pp])}var Og=(()=>{class t{static \u0275prov=Pe({token:t,providedIn:"root",factory:c_});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||c_()),deps:[[t,new I_,new S_]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Ve(901,!1)}}return t})();function sC(t){xt(8);try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=aR(r),o=[rC({}),{provide:Ba,useExisting:eR},...e||[]],s=new hu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return rR({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{xt(9)}}function js(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $r(t){return Jf(t)}function Vs(t,n){return Qf(t,n?.equal)}var u_=class{[ar];constructor(n){this[ar]=n}destroy(){this[ar].destroy()}};var tn=new je("");var cC=null;function gr(){return cC}function Rg(t){cC??=t}var nl=class{},Ng=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(uC),providedIn:"platform"})}return t})();var uC=(()=>{class t extends Ng{_location;_history;_doc=Ae(tn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(e){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function dC(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function aC(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function qi(t){return t&&t[0]!=="?"?`?${t}`:t}var Bs=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(hC),providedIn:"root"})}return t})(),fC=new je(""),hC=(()=>{class t extends Bs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ae(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dC(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+qi(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+qi(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(Le(Ng),Le(fC,8))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Us=(()=>{class t{_subject=new Tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=pR(aC(lC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+qi(r))}normalize(e){return t.stripTrailingSlash(hR(this._basePath,lC(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qi(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qi;static joinWithSlash=dC;static stripTrailingSlash=aC;static \u0275fac=function(r){return new(r||t)(Le(Bs))};static \u0275prov=Pe({token:t,factory:()=>fR(),providedIn:"root"})}return t})();function fR(){return new Us(Le(Bs))}function hR(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function lC(t){return t.replace(/\/index.html$/,"")}function pR(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Pg=/\s+/,pC=[],In=(()=>{class t{_ngEl;_renderer;initialClasses=pC;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Pg):pC}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Pg):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Pg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(be(ln),be(Vr))};static \u0275dir=ft({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var zu=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nn=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gC(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(be(Br),be(Mo),be(Ag))};static \u0275dir=ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function gC(t,n){t.context.$implicit=n.item}var Kt=(()=>{class t{_viewContainer;_context=new Wu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mC(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mC(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(be(Br),be(Mo))};static \u0275dir=ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Wu=class{$implicit=null;ngIf=null};function mC(t,n){if(t&&!t.createEmbeddedView)throw new Ve(2020,!1)}var rl=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Lr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(be(ln),be(Og),be(Vr))};static \u0275dir=ft({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var pt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=ur({})}return t})();function il(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var kg="browser",vC="server";function Gu(t){return t===vC}var No=class{};var Zu=new je(""),Vg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Ve(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(Le(Zu),Le(Qt))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),ol=class{_doc;constructor(n){this._doc=n}manager},Yu="ng-app-id";function yC(t){for(let n of t)n.remove()}function _C(t,n){let e=n.createElement("style");return e.textContent=t,e}function gR(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Yu}="${n}"],link[${Yu}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Yu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Lg(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Bg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Gu(o),gR(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,_C);r?.forEach(i=>this.addUsage(i,this.external,Lg))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(yC(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])yC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,_C(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Lg(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Le(tn),Le(Mu),Le(sg,8),Le(Za))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),Fg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ug=/%COMP%/g;var wC="%COMP%",mR=`_nghost-${wC}`,vR=`_ngcontent-${wC}`,yR=!0,_R=new je("",{providedIn:"root",factory:()=>yR});function bR(t){return vR.replace(Ug,t)}function wR(t){return mR.replace(Ug,t)}function CC(t,n){return n.map(e=>e.replace(Ug,t))}var $g=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Gu(a),this.defaultRenderer=new sl(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fr.ShadowDom&&(r=Ye(we({},r),{encapsulation:Fr.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Qu?i.applyToHost(e):i instanceof al&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Fr.Emulated:o=new Qu(l,c,r,this.appId,u,s,a,d,h);break;case Fr.ShadowDom:return new jg(l,c,e,r,s,a,this.nonce,d,h);default:o=new al(l,c,r,u,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(Le(Vg),Le(Bg),Le(Mu),Le(_R),Le(tn),Le(Za),Le(Qt),Le(sg),Le(Tu,8))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),sl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Fg[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(bC(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(bC(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new Ve(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Fg[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Fg[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Lr.DashCase|Lr.Important)?n.style.setProperty(e,r,i&Lr.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Lr.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=gr().getGlobalEventTarget(this.doc,n),!n))throw new Ve(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function bC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jg=class extends sl{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=CC(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=Lg(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},al=class extends sl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?CC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qu=class extends al{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,e,r,o,s,a,l,c,u),this.contentAttr=bR(u),this.hostAttr=wR(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var Ku=class t extends nl{supportsDOMEvents=!0;static makeCurrent(){Rg(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=CR();return e==null?null:ER(e)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return il(document.cookie,n)}},ll=null;function CR(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}function ER(t){return new URL(t,document.baseURI).pathname}var SR=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),SC=(()=>{class t extends ol{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Le(tn))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),EC=["alt","control","meta","shift"],IR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IC=(()=>{class t extends ol{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),EC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=IR[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),EC.forEach(s=>{if(s!==i){let a=DR[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(Le(tn))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();function Hg(t,n){return sC(we({rootComponent:t},xR(n)))}function xR(t){return{appProviders:[...RR,...t?.providers??[]],platformProviders:OR}}function MR(){Ku.makeCurrent()}function TR(){return new hi}function AR(){return Ab(document),document}var OR=[{provide:Za,useValue:kg},{provide:og,useValue:MR,multi:!0},{provide:tn,useFactory:AR}];var RR=[{provide:Eu,useValue:"root"},{provide:hi,useFactory:TR},{provide:Zu,useClass:SC,multi:!0,deps:[tn]},{provide:Zu,useClass:IC,multi:!0,deps:[tn]},$g,Bg,Vg,{provide:Cs,useExisting:$g},{provide:No,useClass:SR},[]];var Hs=class{},cl=class{},zi=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Ju=class{encodeKey(n){return DC(n)}encodeValue(n){return DC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function NR(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var PR=/%(\d[a-f0-9])/gi,kR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DC(t){return encodeURIComponent(t).replace(PR,(n,e)=>kR[e]??n)}function Xu(t){return`${t}`}var _i=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Ju,n.fromString){if(n.fromObject)throw new Ve(2805,!1);this.map=NR(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(Xu):[Xu(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Xu(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Xu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var ed=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function FR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MC(t){return typeof Blob<"u"&&t instanceof Blob}function TC(t){return typeof FormData<"u"&&t instanceof FormData}function LR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var AC="Content-Type",OC="Accept",NC="X-Request-URL",PC="text/plain",kC="application/json",jR=`${kC}, ${PC}, */*`,$s=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,r,i){this.url=e,this.method=n.toUpperCase();let o;if(FR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zi,this.context??=new ed,!this.params)this.params=new _i,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xC(this.body)||MC(this.body)||TC(this.body)||LR(this.body)?this.body:this.body instanceof _i?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||TC(this.body)?null:MC(this.body)?this.body.type||null:xC(this.body)?null:typeof this.body=="string"?PC:this.body instanceof _i?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?kC:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new t(e,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Po=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Po||{}),qs=class{headers;status;statusText;url;ok;type;constructor(n,e=200,r="OK"){this.headers=n.headers||new zi,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},td=class t extends qs{constructor(n={}){super(n)}type=Po.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ul=class t extends qs{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Po.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},dl=class extends qs{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},VR=200,BR=204;function qg(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var zs=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof $s)o=e;else{let l;i.headers instanceof zi?l=i.headers:l=new zi(i.headers);let c;i.params&&(i.params instanceof _i?c=i.params:c=new _i({fromObject:i.params})),o=new $s(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=We(o).pipe(Or(l=>this.handler.handle(l)));if(e instanceof $s||i.observe==="events")return s;let a=s.pipe(Qn(l=>l instanceof ul));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ve(2806,!1);return l.body}));case"blob":return a.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ve(2807,!1);return l.body}));case"text":return a.pipe(Ke(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ve(2808,!1);return l.body}));case"json":default:return a.pipe(Ke(l=>l.body))}case"response":return a;default:throw new Ve(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new _i().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,qg(i,r))}post(e,r,i={}){return this.request("POST",e,qg(i,r))}put(e,r,i={}){return this.request("PUT",e,qg(i,r))}static \u0275fac=function(r){return new(r||t)(Le(Hs))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();var UR=new je("");function FC(t,n){return n(t)}function $R(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}function HR(t,n,e){return(r,i)=>Kn(e,()=>n(r,o=>t(o,i)))}var LC=new je(""),Wg=new je(""),jC=new je(""),Gg=new je("",{providedIn:"root",factory:()=>!0});function qR(){let t=null;return(n,e)=>{t===null&&(t=(Ae(LC,{optional:!0})??[]).reduceRight($R,FC));let r=Ae(vi);if(Ae(Gg)){let o=r.add();return t(n,e).pipe(ji(()=>r.remove(o)))}else return t(n,e)}}var nd=(()=>{class t extends Hs{backend;injector;chain=null;pendingTasks=Ae(vi);contributeToStability=Ae(Gg);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wg),...this.injector.get(jC,[])]));this.chain=r.reduceRight((i,o)=>HR(i,o,this.injector),FC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(ji(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Le(cl),Le(En))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();var zR=/^\)\]\}',?\n/,WR=RegExp(`^${NC}:`,"m");function GR(t){return"responseURL"in t&&t.responseURL?t.responseURL:WR.test(t.getAllResponseHeaders())?t.getResponseHeader(NC):null}var zg=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ve(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?At(r.\u0275loadImpl()):We(null)).pipe(dn(()=>new dt(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((m,v)=>s.setRequestHeader(m,v.join(","))),e.headers.has(OC)||s.setRequestHeader(OC,jR),!e.headers.has(AC)){let m=e.detectContentTypeHeader();m!==null&&s.setRequestHeader(AC,m)}if(e.responseType){let m=e.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",v=new zi(s.getAllResponseHeaders()),w=GR(s)||e.url;return l=new td({headers:v,status:s.status,statusText:m,url:w}),l},u=()=>{let{headers:m,status:v,statusText:w,url:y}=c(),b=null;v!==BR&&(b=typeof s.response>"u"?s.responseText:s.response),v===0&&(v=b?VR:0);let I=v>=200&&v<300;if(e.responseType==="json"&&typeof b=="string"){let x=b;b=b.replace(zR,"");try{b=b!==""?JSON.parse(b):null}catch(E){b=x,I&&(I=!1,b={error:E,text:b})}}I?(o.next(new ul({body:b,headers:m,status:v,statusText:w,url:y||void 0})),o.complete()):o.error(new dl({error:b,headers:m,status:v,statusText:w,url:y||void 0}))},d=m=>{let{url:v}=c(),w=new dl({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});o.error(w)},h=!1,f=m=>{h||(o.next(c()),h=!0);let v={type:Po.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),e.responseType==="text"&&s.responseText&&(v.partialText=s.responseText),o.next(v)},g=m=>{let v={type:Po.UploadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),o.next(v)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Po.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(Le(No))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),VC=new je(""),YR="XSRF-TOKEN",QR=new je("",{providedIn:"root",factory:()=>YR}),ZR="X-XSRF-TOKEN",KR=new je("",{providedIn:"root",factory:()=>ZR}),fl=class{},XR=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=il(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(Le(tn),Le(QR))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();function JR(t,n){let e=t.url.toLowerCase();if(!Ae(VC)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=Ae(fl).getToken(),i=Ae(KR);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var Yg=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Yg||{});function eN(t,n){return{\u0275kind:t,\u0275providers:n}}function Qg(...t){let n=[zs,zg,nd,{provide:Hs,useExisting:nd},{provide:cl,useFactory:()=>Ae(UR,{optional:!0})??Ae(zg)},{provide:Wg,useValue:JR,multi:!0},{provide:VC,useValue:!0},{provide:fl,useClass:XR}];for(let e of t)n.push(...e.\u0275providers);return Ds(n)}var RC=new je("");function Zg(){return eN(Yg.LegacyInterceptors,[{provide:RC,useFactory:qR},{provide:Wg,useExisting:RC,multi:!0}])}var Ws=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(Le(tn))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gi=class{},BC=(()=>{class t extends Gi{getTranslation(e){return We({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),pl=class{},UC=(()=>{class t{handle(e){return e.key}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();function id(t,n){if(t===n)return!0;if(t===null||n===null)return!1;if(t!==t&&n!==n)return!0;let e=typeof t,r=typeof n,i,o,s;if(e==r&&e=="object")if(Array.isArray(t)){if(!Array.isArray(n))return!1;if((i=t.length)==n.length){for(o=0;o<i;o++)if(!id(t[o],n[o]))return!1;return!0}}else{if(Array.isArray(n))return!1;s=Object.create(null);for(o in t){if(!id(t[o],n[o]))return!1;s[o]=!0}for(o in n)if(!(o in s)&&typeof n[o]<"u")return!1;return!0}return!1}function Wi(t){return typeof t<"u"&&t!==null}function ml(t){return rd(t)&&!im(t)&&t!==null}function rd(t){return typeof t=="object"}function im(t){return Array.isArray(t)}function om(t){return typeof t=="string"}function nN(t){return typeof t=="function"}function Xg(t,n){let e=Object.assign({},t);return rd(t)?(rd(t)&&rd(n)&&Object.keys(n).forEach(r=>{ml(n[r])?r in t?e[r]=Xg(t[r],n[r]):Object.assign(e,{[r]:n[r]}):Object.assign(e,{[r]:n[r]})}),e):Xg({},n)}function Jg(t,n){let e=n.split(".");n="";do n+=e.shift(),Wi(t)&&Wi(t[n])&&(ml(t[n])||im(t[n])||!e.length)?(t=t[n],n=""):e.length?n+=".":t=void 0;while(e.length);return t}function rN(t,n,e){let r=n.split("."),i=t;for(let o=0;o<r.length;o++){let s=r[o];o===r.length-1?i[s]=e:((!i[s]||!ml(i[s]))&&(i[s]={}),i=i[s])}}var Gs=class{},$C=(()=>{class t extends Gs{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){if(om(e))return this.interpolateString(e,r);if(nN(e))return this.interpolateFunction(e,r)}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,o)=>{let s=Jg(r,o);return Wi(s)?s:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),Ys=class{},HC=(()=>{class t extends Ys{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),gl=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new mt;onLangChange=new mt;onDefaultLangChange=new mt},em=new je("ISOLATE_TRANSLATE_SERVICE"),tm=new je("USE_DEFAULT_LANG"),nm=new je("DEFAULT_LANGUAGE"),rm=new je("USE_EXTEND"),hl=t=>si(t)?t:We(t),tr=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,r,i,o,s,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=r,this.compiler=i,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.extend=c,l&&(this.store=new gl),u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;let r=this.retrieveTranslations(e);typeof r<"u"?(this.defaultLang==null&&(this.defaultLang=e),r.pipe(Pn(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return We(this.translations[e]);this.currentLang||(this.currentLang=e);let r=this.retrieveTranslations(e);return si(r)?(r.pipe(Pn(1)).subscribe(()=>{this.changeLang(e)}),r):(this.changeLang(e),We(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let r=this.currentLoader.getTranslation(e).pipe(Fc(1),Pn(1));return this.loadingTranslations=r.pipe(Ke(i=>this.compiler.compileTranslations(i,e)),Fc(1),Pn(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?we(we({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){let o=this.compiler.compileTranslations(r,e);(i||this.extend)&&this.translations[e]?this.translations[e]=Xg(this.translations[e],o):this.translations[e]=o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let r=e.filter(i=>!this.langs.includes(i));r.length>0&&(this.langs=[...this.langs,...r])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,r,i){let o;if(e&&(o=this.runInterpolation(Jg(e,r),i)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(Jg(this.translations[this.defaultLang],r),i)),o===void 0){let s={key:r,translateService:this};typeof i<"u"&&(s.interpolateParams=i),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:r}runInterpolation(e,r){if(im(e))return e.map(i=>this.runInterpolation(i,r));if(ml(e)){let i={};for(let o in e){let s=this.runInterpolation(e[o],r);s!==void 0&&(i[o]=s)}return i}else return this.parser.interpolate(e,r)}getParsedResult(e,r,i){if(r instanceof Array){let o={},s=!1;for(let l of r)o[l]=this.getParsedResultForKey(e,l,i),s=s||si(o[l]);if(!s)return o;let a=r.map(l=>hl(o[l]));return Ta(a).pipe(Ke(l=>{let c={};return l.forEach((u,d)=>{c[r[d]]=u}),c}))}return this.getParsedResultForKey(e,r,i)}get(e,r){if(!Wi(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Or(i=>hl(this.getParsedResult(i,e,r)))):hl(this.getParsedResult(this.translations[this.currentLang],e,r))}getStreamOnTranslationChange(e,r){if(!Wi(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return li(mo(()=>this.get(e,r)),this.onTranslationChange.pipe(dn(i=>{let o=this.getParsedResult(i.translations,e,r);return hl(o)})))}stream(e,r){if(!Wi(e)||!e.length)throw new Error('Parameter "key" required');return li(mo(()=>this.get(e,r)),this.onLangChange.pipe(dn(i=>{let o=this.getParsedResult(i.translations,e,r);return hl(o)})))}instant(e,r){if(!Wi(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],e,r);return si(i)?Array.isArray(e)?e.reduce((o,s)=>(o[s]=s,o),{}):e:i}set(e,r,i=this.currentLang){rN(this.translations[i],e,om(r)?this.compiler.compile(r,i):this.compiler.compileTranslations(r,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(r){return new(r||t)(Le(gl),Le(Gi),Le(Ys),Le(Gs),Le(pl),Le(tm),Le(em),Le(rm),Le(nm))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Mt=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,r){this.translate=e,this._ref=r}updateValue(e,r,i){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,e,r);si(s)?s.subscribe(o):o(s)}this.translate.get(e,r).subscribe(o)}transform(e,...r){if(!e||!e.length)return e;if(id(e,this.lastKey)&&id(r,this.lastParams))return this.value;let i;if(Wi(r[0])&&r.length)if(om(r[0])&&r[0].length){let o=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else ml(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||t)(be(tr,16),be(Hi,16))};static \u0275pipe=Sg({name:"translate",type:t,pure:!1});static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();var bt=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Gi,useClass:BC},e.compiler||{provide:Ys,useClass:HC},e.parser||{provide:Gs,useClass:$C},e.missingTranslationHandler||{provide:pl,useClass:UC},gl,{provide:em,useValue:e.isolate},{provide:tm,useValue:e.useDefaultLang},{provide:rm,useValue:e.extend},{provide:nm,useValue:e.defaultLanguage},tr]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Gi,useClass:BC},e.compiler||{provide:Ys,useClass:HC},e.parser||{provide:Gs,useClass:$C},e.missingTranslationHandler||{provide:pl,useClass:UC},{provide:em,useValue:e.isolate},{provide:tm,useValue:e.useDefaultLang},{provide:rm,useValue:e.extend},{provide:nm,useValue:e.defaultLanguage},tr]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=ur({})}return t})();var qC=(()=>{class t{http;prefix;suffix;constructor(e,r="/assets/i18n/",i=".json"){this.http=e,this.prefix=r,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(r){return new(r||t)(Le(zs),Le(String),Le(String))};static \u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();var tt="primary",Al=Symbol("RouteTitle"),um=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Lo(t){return new um(t)}function XC(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function iN(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Hr(t[e],n[e]))return!1;return!0}function Hr(t,n){let e=t?dm(t):void 0,r=n?dm(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!JC(t[i],n[i]))return!1;return!0}function dm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JC(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function eE(t){return t.length>0?t[t.length-1]:null}function Zi(t){return si(t)?t:Oo(t)?At(Promise.resolve(t)):We(t)}var oN={exact:nE,subset:rE},tE={exact:sN,subset:aN,ignored:()=>!0};function zC(t,n,e){return oN[e.paths](t.root,n.root,e.matrixParams)&&tE[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function sN(t,n){return Hr(t,n)}function nE(t,n,e){if(!ko(t.segments,n.segments)||!ad(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!nE(t.children[r],n.children[r],e))return!1;return!0}function aN(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>JC(t[e],n[e]))}function rE(t,n,e){return iE(t,n,n.segments,e)}function iE(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!ko(i,e)||n.hasChildren()||!ad(i,e,r))}else if(t.segments.length===e.length){if(!ko(t.segments,e)||!ad(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!rE(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!ko(t.segments,i)||!ad(t.segments,i,r)||!t.children[tt]?!1:iE(t.children[tt],n,o,r)}}function ad(t,n,e){return n.every((r,i)=>tE[e](t[i].parameters,r.parameters))}var zr=class{root;queryParams;fragment;_queryParamMap;constructor(n=new vt([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){return uN.serialize(this)}},vt=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}},Yi=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Lo(this.parameters),this._parameterMap}toString(){return sE(this)}};function lN(t,n){return ko(t,n)&&t.every((e,r)=>Hr(e.parameters,n[r].parameters))}function ko(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function cN(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===tt&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==tt&&(e=e.concat(n(i,r)))}),e}var Ol=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>new jo,providedIn:"root"})}return t})(),jo=class{parse(n){let e=new hm(n);return new zr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${vl(n.root,!0)}`,r=hN(n.queryParams),i=typeof n.fragment=="string"?`#${dN(n.fragment)}`:"";return`${e}${r}${i}`}},uN=new jo;function ld(t){return t.segments.map(n=>sE(n)).join("/")}function vl(t,n){if(!t.hasChildren())return ld(t);if(n){let e=t.children[tt]?vl(t.children[tt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==tt&&r.push(`${i}:${vl(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=cN(t,(r,i)=>i===tt?[vl(t.children[tt],!1)]:[`${i}:${vl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[tt]!=null?`${ld(t)}/${e[0]}`:`${ld(t)}/(${e.join("//")})`}}function oE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(t){return oE(t).replace(/%3B/gi,";")}function dN(t){return encodeURI(t)}function fm(t){return oE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cd(t){return decodeURIComponent(t)}function WC(t){return cd(t.replace(/\+/g,"%20"))}function sE(t){return`${fm(t.path)}${fN(t.parameters)}`}function fN(t){return Object.entries(t).map(([n,e])=>`;${fm(n)}=${fm(e)}`).join("")}function hN(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${od(e)}=${od(i)}`).join("&"):`${od(e)}=${od(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var pN=/^[^\/()?;#]+/;function sm(t){let n=t.match(pN);return n?n[0]:""}var gN=/^[^\/()?;=#]+/;function mN(t){let n=t.match(gN);return n?n[0]:""}var vN=/^[^=?&#]+/;function yN(t){let n=t.match(vN);return n?n[0]:""}var _N=/^[^&#]+/;function bN(t){let n=t.match(_N);return n?n[0]:""}var hm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[tt]=new vt(n,e)),r}parseSegment(){let n=sm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new Ve(4009,!1);return this.capture(n),new Yi(cd(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=mN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=sm(this.remaining);i&&(r=i,this.capture(r))}n[cd(e)]=cd(r)}parseQueryParam(n){let e=yN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=bN(this.remaining);s&&(r=s,this.capture(r))}let i=WC(e),o=WC(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ve(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=tt);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[tt]:new vt([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new Ve(4011,!1)}};function aE(t){return t.segments.length>0?new vt([],{[tt]:t}):t}function lE(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=lE(i);if(r===tt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new vt(t.segments,n);return wN(e)}function wN(t){if(t.numberOfChildren===1&&t.children[tt]){let n=t.children[tt];return new vt(t.segments.concat(n.segments),n.children)}return t}function Qi(t){return t instanceof zr}function cE(t,n,e=null,r=null){let i=uE(t);return dE(i,n,e,r)}function uE(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new vt(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=aE(r);return n??i}function dE(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return am(i,i,i,e,r);let o=CN(n);if(o.toRoot())return am(i,i,new vt([],{}),e,r);let s=EN(o,i,t),a=s.processChildren?_l(s.segmentGroup,s.index,o.commands):hE(s.segmentGroup,s.index,o.commands);return am(i,s.segmentGroup,a,e,r)}function dd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wl(t){return typeof t=="object"&&t!=null&&t.outlets}function am(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=fE(t,n,e);let a=aE(lE(s));return new zr(a,o,i)}function fE(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=fE(o,n,e)}),new vt(t.segments,r)}var fd=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&dd(r[0]))throw new Ve(4003,!1);let i=r.find(wl);if(i&&i!==eE(r))throw new Ve(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fd(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fd(e,n,r)}var Ks=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function EN(t,n,e){if(t.isAbsolute)return new Ks(n,!0,0);if(!e)return new Ks(n,!1,NaN);if(e.parent===null)return new Ks(e,!0,0);let r=dd(t.commands[0])?0:1,i=e.segments.length-1+r;return SN(e,i,t.numberOfDoubleDots)}function SN(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ve(4005,!1);i=r.segments.length}return new Ks(r,!1,i-o)}function IN(t){return wl(t[0])?t[0].outlets:{[tt]:t}}function hE(t,n,e){if(t??=new vt([],{}),t.segments.length===0&&t.hasChildren())return _l(t,n,e);let r=DN(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new vt(t.segments.slice(0,r.pathIndex),{});return o.children[tt]=new vt(t.segments.slice(r.pathIndex),t.children),_l(o,0,i)}else return r.match&&i.length===0?new vt(t.segments,{}):r.match&&!t.hasChildren()?pm(t,n,e):r.match?_l(t,0,i):pm(t,n,e)}function _l(t,n,e){if(e.length===0)return new vt(t.segments,{});{let r=IN(e),i={};if(Object.keys(r).some(o=>o!==tt)&&t.children[tt]&&t.numberOfChildren===1&&t.children[tt].segments.length===0){let o=_l(t.children[tt],n,e);return new vt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hE(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new vt(t.segments,i)}}function DN(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(wl(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!YC(l,c,s))return o;r+=2}else{if(!YC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pm(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(wl(o)){let l=xN(o.outlets);return new vt(r,l)}if(i===0&&dd(e[0])){let l=t.segments[n];r.push(new Yi(l.path,GC(e[0]))),i++;continue}let s=wl(o)?o.outlets[tt]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&dd(a)?(r.push(new Yi(s,GC(a))),i+=2):(r.push(new Yi(s,{})),i++)}return new vt(r,{})}function xN(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=pm(new vt([],{}),0,r))}),n}function GC(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function YC(t,n,e){return t==e.path&&Hr(n,e.parameters)}var ud="imperative",rn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rn||{}),rr=class{id;url;constructor(n,e){this.id=n,this.url=e}},Vo=class extends rr{type=rn.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wr=class extends rr{urlAfterRedirects;type=rn.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(qn||{}),Cl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cl||{}),qr=class extends rr{reason;code;type=rn.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bi=class extends rr{reason;code;type=rn.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},Js=class extends rr{error;target;type=rn.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},El=class extends rr{urlAfterRedirects;state;type=rn.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hd=class extends rr{urlAfterRedirects;state;type=rn.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pd=class extends rr{urlAfterRedirects;state;shouldActivate;type=rn.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gd=class extends rr{urlAfterRedirects;state;type=rn.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends rr{urlAfterRedirects;state;type=rn.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class{route;type=rn.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yd=class{route;type=rn.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_d=class{snapshot;type=rn.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=rn.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{snapshot;type=rn.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cd=class{snapshot;type=rn.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sl=class{},ea=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function MN(t,n){return t.providers&&!t._injector&&(t._injector=Vu(t.providers,n,`Route: ${t.path}`)),t._injector??n}function xr(t){return t.outlet||tt}function TN(t,n){let e=t.filter(r=>xr(r)===n);return e.push(...t.filter(r=>xr(r)!==n)),e}function Rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ed=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Rl(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new ra(this.rootInjector)}},ra=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ed(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(Le(En))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sd=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=gm(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=gm(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=mm(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return mm(n,this._root).map(e=>e.value)}};function gm(t,n){if(t===n.value)return n;for(let e of n.children){let r=gm(t,e);if(r)return r}return null}function mm(t,n){if(t===n.value)return[n];for(let e of n.children){let r=mm(t,e);if(r.length)return r.unshift(n),r}return[]}var nr=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zs(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Il=class extends Sd{snapshot;constructor(n,e){super(n),this.snapshot=e,Sm(this,n)}toString(){return this.snapshot.toString()}};function pE(t){let n=AN(t),e=new zt([new Yi("",{})]),r=new zt({}),i=new zt({}),o=new zt({}),s=new zt(""),a=new ir(e,r,o,s,i,tt,t,n.root);return a.snapshot=n.root,new Il(new nr(a,[]),n)}function AN(t){let n={},e={},r={},i="",o=new Fo([],n,r,i,e,tt,t,null,{});return new Dl("",new nr(o,[]))}var ir=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ke(c=>c[Al]))??We(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ke(n=>Lo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ke(n=>Lo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Id(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:we(we({},n.params),t.params),data:we(we({},n.data),t.data),resolve:we(we(we(we({},t.data),n.data),i?.data),t._resolvedData)}:r={params:we({},t.params),data:we({},t.data),resolve:we(we({},t.data),t._resolvedData??{})},i&&mE(i)&&(r.resolve[Al]=i.title),r}var Fo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Al]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Dl=class extends Sd{url;constructor(n,e){super(e),this.url=n,Sm(this,e)}toString(){return gE(this._root)}};function Sm(t,n){n.value._routerState=t,n.children.forEach(e=>Sm(t,e))}function gE(t){let n=t.children.length>0?` { ${t.children.map(gE).join(", ")} } `:"";return`${t.value}${n}`}function lm(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Hr(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Hr(n.params,e.params)||t.paramsSubject.next(e.params),iN(n.url,e.url)||t.urlSubject.next(e.url),Hr(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vm(t,n){let e=Hr(t.params,n.params)&&lN(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||vm(t.parent,n.parent))}function mE(t){return typeof t.title=="string"||t.title===null}var vE=new je(""),Nl=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=tt;activateEvents=new mt;deactivateEvents=new mt;attachEvents=new mt;detachEvents=new mt;routerOutletData=Cb(void 0);parentContexts=Ae(ra);location=Ae(Br);changeDetector=Ae(Hi);inputBinder=Ae(Td,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ve(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ve(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ym(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ft({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[dr]})}return t})(),ym=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===ir?this.route:n===ra?this.childContexts:n===vE?this.outletData:this.parent.get(n,e)}},Td=new je("");var Im=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=lt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&me(0,"router-outlet")},dependencies:[Nl],encapsulation:2})}return t})();function Dm(t){let n=t.children&&t.children.map(Dm),e=n?Ye(we({},t),{children:n}):we({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==tt&&(e.component=Im),e}function ON(t,n,e){let r=xl(t,n._root,e?e._root:void 0);return new Il(r,n)}function xl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=RN(t,n,e);return new nr(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>xl(t,a)),s}}let r=NN(n.value),i=n.children.map(o=>xl(t,o));return new nr(r,i)}}function RN(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xl(t,r,i);return xl(t,r)})}function NN(t){return new ir(new zt(t.url),new zt(t.params),new zt(t.queryParams),new zt(t.fragment),new zt(t.data),t.outlet,t.component,t)}var ta=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},yE="ngNavigationCancelingError";function Dd(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=Qi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=_E(!1,qn.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function _E(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[yE]=!0,e.cancellationCode=n,e}function PN(t){return bE(t)&&Qi(t.url)}function bE(t){return!!t&&t[yE]}var kN=(t,n,e,r)=>Ke(i=>(new _m(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),_m=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),lm(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=Zs(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Zs(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Zs(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=Zs(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cd(o.value.snapshot))}),n.children.length&&this.forwardEvent(new bd(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(lm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},xd=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Xs=class{component;route;constructor(n,e){this.component=n,this.route=e}};function FN(t,n,e){let r=t._root,i=n?n._root:null;return yl(r,i,e,[r.value])}function LN(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function ia(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!m_(t)?t:n.get(t):r}function yl(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(n);return t.children.forEach(s=>{jN(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bl(a,e.getContext(s),i)),i}function jN(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=VN(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new xd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yl(t,n,a?a.children:null,r,i):yl(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&bl(n,a,i),i.canActivateChecks.push(new xd(r)),o.component?yl(t,null,a?a.children:null,r,i):yl(t,null,e,r,i);return i}function VN(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!ko(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ko(t.url,n.url)||!Hr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vm(t,n)||!Hr(t.queryParams,n.queryParams);case"paramsChange":default:return!vm(t,n)}}function bl(t,n,e){let r=Zs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?bl(s,n.children.getContext(o),e):bl(s,null,e):bl(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Xs(n.outlet.component,i)):e.canDeactivateChecks.push(new Xs(null,i)):e.canDeactivateChecks.push(new Xs(null,i))}function Pl(t){return typeof t=="function"}function BN(t){return typeof t=="boolean"}function UN(t){return t&&Pl(t.canLoad)}function $N(t){return t&&Pl(t.canActivate)}function HN(t){return t&&Pl(t.canActivateChild)}function qN(t){return t&&Pl(t.canDeactivate)}function zN(t){return t&&Pl(t.canMatch)}function wE(t){return t instanceof ai||t?.name==="EmptyError"}var sd=Symbol("INITIAL_VALUE");function na(){return dn(t=>Pc(t.map(n=>n.pipe(Pn(1),ph(sd)))).pipe(Ke(n=>{for(let e of n)if(e!==!0){if(e===sd)return sd;if(e===!1||WN(e))return e}return!0}),Qn(n=>n!==sd),Pn(1)))}function WN(t){return Qi(t)||t instanceof ta}function GN(t,n){return Wt(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?We(Ye(we({},e),{guardsResult:!0})):YN(s,r,i,t).pipe(Wt(a=>a&&BN(a)?QN(r,o,t,n):We(a)),Ke(a=>Ye(we({},e),{guardsResult:a})))})}function YN(t,n,e,r){return At(t).pipe(Wt(i=>eP(i.component,i.route,e,n,r)),ci(i=>i!==!0,!0))}function QN(t,n,e,r){return At(n).pipe(Or(i=>li(KN(i.route.parent,r),ZN(i.route,r),JN(t,i.path,e),XN(t,i.route,e))),ci(i=>i!==!0,!0))}function ZN(t,n){return t!==null&&n&&n(new wd(t)),We(!0)}function KN(t,n){return t!==null&&n&&n(new _d(t)),We(!0)}function XN(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return We(!0);let i=r.map(o=>mo(()=>{let s=Rl(n)??e,a=ia(o,s),l=$N(a)?a.canActivate(n,t):Kn(s,()=>a(n,t));return Zi(l).pipe(ci())}));return We(i).pipe(na())}function JN(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>LN(s)).filter(s=>s!==null).map(s=>mo(()=>{let a=s.guards.map(l=>{let c=Rl(s.node)??e,u=ia(l,c),d=HN(u)?u.canActivateChild(r,t):Kn(c,()=>u(r,t));return Zi(d).pipe(ci())});return We(a).pipe(na())}));return We(o).pipe(na())}function eP(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return We(!0);let s=o.map(a=>{let l=Rl(n)??i,c=ia(a,l),u=qN(c)?c.canDeactivate(t,n,e,r):Kn(l,()=>c(t,n,e,r));return Zi(u).pipe(ci())});return We(s).pipe(na())}function tP(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return We(!0);let o=i.map(s=>{let a=ia(s,t),l=UN(a)?a.canLoad(n,e):Kn(t,()=>a(n,e));return Zi(l)});return We(o).pipe(na(),CE(r))}function CE(t){return sh(an(n=>{if(typeof n!="boolean")throw Dd(t,n)}),Ke(n=>n===!0))}function nP(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return We(!0);let o=i.map(s=>{let a=ia(s,t),l=zN(a)?a.canMatch(n,e):Kn(t,()=>a(n,e));return Zi(l)});return We(o).pipe(na(),CE(r))}var Ml=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Tl=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Qs(t){return cs(new Ml(t))}function rP(t){return cs(new Ve(4e3,!1))}function iP(t){return cs(_E(!1,qn.GuardRejected))}var bm=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return We(r);if(i.numberOfChildren>1||!i.children[tt])return rP(`${n.redirectTo}`);i=i.children[tt]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:g,title:m}=i,v=Kn(o,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(v instanceof zr)throw new Tl(v);e=v}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new Tl(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new zr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new vt(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new Ve(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oP(t,n,e,r,i){let o=EE(t,n,e);return o.matched?(r=MN(n,r),nP(r,n,e,i).pipe(Ke(s=>s===!0?o:we({},wm)))):We(o)}function EE(t,n,e){if(n.path==="**")return sP(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?we({},wm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||XC)(e,t,n);if(!i)return we({},wm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?we(we({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sP(t){return{matched:!0,parameters:t.length>0?eE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QC(t,n,e,r){return e.length>0&&cP(t,e,r)?{segmentGroup:new vt(n,lP(r,new vt(e,t.children))),slicedSegments:[]}:e.length===0&&uP(t,e,r)?{segmentGroup:new vt(t.segments,aP(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new vt(t.segments,t.children),slicedSegments:e}}function aP(t,n,e,r){let i={};for(let o of e)if(Ad(t,n,o)&&!r[xr(o)]){let s=new vt([],{});i[xr(o)]=s}return we(we({},r),i)}function lP(t,n){let e={};e[tt]=n;for(let r of t)if(r.path===""&&xr(r)!==tt){let i=new vt([],{});e[xr(r)]=i}return e}function cP(t,n,e){return e.some(r=>Ad(t,n,r)&&xr(r)!==tt)}function uP(t,n,e){return e.some(r=>Ad(t,n,r))}function Ad(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function dP(t,n,e){return n.length===0&&!t.children[e]}var Cm=class{};function fP(t,n,e,r,i,o,s="emptyOnly"){return new Em(t,n,e,r,i,s,o).recognize()}var hP=31,Em=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new bm(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ve(4002,`'${n.segmentGroup}'`)}recognize(){let n=QC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Ke(({children:e,rootSnapshot:r})=>{let i=new nr(r,e),o=new Dl("",i),s=cE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Fo([],Object.freeze({}),Object.freeze(we({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),tt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,tt,e).pipe(Ke(r=>({children:r,rootSnapshot:e})),Fi(r=>{if(r instanceof Tl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ml?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(Ke(s=>s instanceof nr?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return At(o).pipe(Or(s=>{let a=r.children[s],l=TN(e,s);return this.processSegmentGroup(n,l,a,s,i)}),fh((s,a)=>(s.push(...a),s)),Li(null),dh(),Wt(s=>{if(s===null)return Qs(r);let a=SE(s);return pP(a),We(a)}))}processSegment(n,e,r,i,o,s,a){return At(e).pipe(Or(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(Fi(c=>{if(c instanceof Ml)return We(null);throw c}))),ci(l=>!!l),Fi(l=>{if(wE(l))return dP(r,i,o)?We(new Cm):Qs(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return xr(r)!==s&&(s===tt||!Ad(i,o,r))?Qs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):Qs(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=EE(e,i,o);if(!l)return Qs(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hP&&(this.allowRedirects=!1));let f=new Fo(o,c,Object.freeze(we({},this.urlTree.queryParams)),this.urlTree.fragment,ZC(i),xr(i),i.component??i._loadedComponent??null,i,KC(i)),g=Id(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,m).pipe(Wt(v=>this.processSegment(n,r,e,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=oP(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(dn(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(dn(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=l,g=new Fo(h,d,Object.freeze(we({},this.urlTree.queryParams)),this.urlTree.fragment,ZC(r),xr(r),r.component??r._loadedComponent??null,r,KC(r)),m=Id(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:w}=QC(e,h,f,c);if(w.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(Ke(b=>new nr(g,b)));if(c.length===0&&w.length===0)return We(new nr(g,[]));let y=xr(r)===o;return this.processSegment(u,c,v,w,y?tt:o,!0,g).pipe(Ke(b=>new nr(g,b instanceof nr?[b]:[])))}))):Qs(e)))}getChildConfig(n,e,r){return e.children?We({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?We({routes:e._loadedRoutes,injector:e._loadedInjector}):tP(n,e,r,this.urlSerializer).pipe(Wt(i=>i?this.configLoader.loadChildren(n,e).pipe(an(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):iP(e))):We({routes:[],injector:n})}};function pP(t){t.sort((n,e)=>n.value.outlet===tt?-1:e.value.outlet===tt?1:n.value.outlet.localeCompare(e.value.outlet))}function gP(t){let n=t.value.routeConfig;return n&&n.path===""}function SE(t){let n=[],e=new Set;for(let r of t){if(!gP(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=SE(r.children);n.push(new nr(r.value,i))}return n.filter(r=>!e.has(r))}function ZC(t){return t.data||{}}function KC(t){return t.resolve||{}}function mP(t,n,e,r,i,o){return Wt(s=>fP(t,n,e,r,s.extractedUrl,i,o).pipe(Ke(({state:a,tree:l})=>Ye(we({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function vP(t,n){return Wt(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return We(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of IE(l))s.add(c);let a=0;return At(s).pipe(Or(l=>o.has(l)?yP(l,r,t,n):(l.data=Id(l,l.parent,t).resolve,We(void 0))),an(()=>a++),us(1),Wt(l=>a===s.size?We(e):Rn))})}function IE(t){let n=t.children.map(e=>IE(e)).flat();return[t,...n]}function yP(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mE(i)&&(o[Al]=i.title),_P(o,t,n,r).pipe(Ke(s=>(t._resolvedData=s,t.data=Id(t,t.parent,e).resolve,null)))}function _P(t,n,e,r){let i=dm(t);if(i.length===0)return We({});let o={};return At(i).pipe(Wt(s=>bP(t[s],n,e,r).pipe(ci(),an(a=>{if(a instanceof ta)throw Dd(new jo,a);o[s]=a}))),us(1),Ke(()=>o),Fi(s=>wE(s)?Rn:cs(s)))}function bP(t,n,e,r){let i=Rl(n)??r,o=ia(t,i),s=o.resolve?o.resolve(n,e):Kn(i,()=>o(n,e));return Zi(s)}function cm(t){return dn(n=>{let e=t(n);return e?At(e).pipe(Ke(()=>n)):We(n)})}var Bo=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===tt);return r}getResolvedTitleForRoute(e){return e.data[Al]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(DE),providedIn:"root"})}return t})(),DE=(()=>{class t extends Bo{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Le(Ws))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kl=new je("",{providedIn:"root",factory:()=>({})}),Fl=new je(""),xE=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ae(nC);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return We(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Zi(e.loadComponent()).pipe(Ke(TE),an(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ji(()=>{this.componentLoaders.delete(e)})),i=new ls(r,()=>new Tt).pipe(as());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return We({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ME(r,this.compiler,e,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(r)})),s=new ls(o,()=>new Tt).pipe(as());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ME(t,n,e,r){return Zi(t.loadChildren()).pipe(Ke(TE),Wt(i=>i instanceof Eg||Array.isArray(i)?We(i):At(n.compileModuleAsync(i))),Ke(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Fl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}function wP(t){return t&&typeof t=="object"&&"default"in t}function TE(t){return wP(t)?t.default:t}var Od=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(CP),providedIn:"root"})}return t})(),CP=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AE=new je("");var OE=new je(""),RE=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Tt;transitionAbortSubject=new Tt;configLoader=Ae(xE);environmentInjector=Ae(En);destroyRef=Ae(xu);urlSerializer=Ae(Ol);rootContexts=Ae(ra);location=Ae(Us);inputBindingEnabled=Ae(Td,{optional:!0})!==null;titleStrategy=Ae(Bo);options=Ae(kl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ae(Od);createViewTransition=Ae(AE,{optional:!0});navigationErrorHandler=Ae(OE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>We(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new vd(i)),r=i=>this.events.next(new yd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Ye(we({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new zt(null),this.transitions.pipe(Qn(r=>r!==null),dn(r=>{let i=!1,o=!1;return We(r).pipe(dn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),Rn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ye(we({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new bi(s.id,this.urlSerializer.serialize(s.rawUrl),c,Cl.IgnoredSameUrlNavigation)),s.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return We(s).pipe(dn(c=>(this.events.next(new Vo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Rn:Promise.resolve(c))),mP(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),an(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Ye(we({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new El(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new Vo(c,this.urlSerializer.serialize(u),d,h);this.events.next(g);let m=pE(this.rootComponentType).snapshot;return this.currentTransition=r=Ye(we({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:Ye(we({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,We(r)}else{let c="";return this.events.next(new bi(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Cl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rn}}),an(s=>{let a=new hd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ke(s=>(this.currentTransition=r=Ye(we({},s),{guards:FN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),GN(this.environmentInjector,s=>this.events.next(s)),an(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Dd(this.urlSerializer,s.guardsResult);let a=new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Qn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",qn.GuardRejected),!1)),cm(s=>{if(s.guards.canActivateChecks.length!==0)return We(s).pipe(an(a=>{let l=new gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),dn(a=>{let l=!1;return We(a).pipe(vP(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",qn.NoDataFromResolver)}}))}),an(a=>{let l=new md(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),cm(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(an(u=>{l.component=u}),Ke(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Pc(a(s.targetSnapshot.root)).pipe(Li(null),Pn(1))}),cm(()=>this.afterPreactivation()),dn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?At(l).pipe(Ke(()=>r)):We(r)}),Ke(s=>{let a=ON(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ye(we({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),an(()=>{this.events.next(new Sl)}),kN(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Pn(1),an({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),gh(this.transitionAbortSubject.pipe(an(s=>{throw s}))),ji(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fi(s=>{if(this.destroyed)return r.resolve(!1),Rn;if(o=!0,bE(s))this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),PN(s)?this.events.next(new ea(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Js(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Kn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof ta){let{message:c,cancellationCode:u}=Dd(this.urlSerializer,l);this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ea(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Rn}))}))}cancelNavigationTransition(e,r,i){let o=new qr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EP(t){return t!==ud}var NE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(SP),providedIn:"root"})}return t})(),Md=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},SP=(()=>{class t extends Md{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PE=(()=>{class t{urlSerializer=Ae(Ol);options=Ae(kl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ae(Us);urlHandlingStrategy=Ae(Od);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof zr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=pE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:()=>Ae(IP),providedIn:"root"})}return t})(),IP=(()=>{class t extends PE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Vo?this.updateStateMemento():e instanceof bi?this.commitTransition(r):e instanceof El?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Sl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof qr&&(e.code===qn.GuardRejected||e.code===qn.NoDataFromResolver)?this.restoreHistory(r):e instanceof Js?this.restoreHistory(r,!0):e instanceof Wr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=we(we({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=we(we({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xm(t,n){t.events.pipe(Qn(e=>e instanceof Wr||e instanceof qr||e instanceof Js||e instanceof bi),Ke(e=>e instanceof Wr||e instanceof bi?0:(e instanceof qr?e.code===qn.Redirect||e.code===qn.SupersededByNewNavigation:!1)?2:1),Qn(e=>e!==2),Pn(1)).subscribe(()=>{n()})}var DP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ae(Rw);stateManager=Ae(PE);options=Ae(kl,{optional:!0})||{};pendingTasks=Ae(vi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ae(RE);urlSerializer=Ae(Ol);location=Ae(Us);urlHandlingStrategy=Ae(Od);_events=new Tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ae(NE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ae(Fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ae(Td,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ht;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==qn.Redirect&&r.code!==qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wr)this.navigated=!0;else if(r instanceof ea){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=we({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||EP(i.source)},s);this.scheduleNavigation(a,ud,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}TP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=we({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=we(we({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=uE(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return dE(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Qi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ud,null,r)}navigate(e,r={skipLocationChange:!1}){return MP(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=we({},DP):r===!1?i=we({},xP):i=r,Qi(e))return zC(this.currentUrlTree,e,i);let o=this.parseUrl(e);return zC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return xm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MP(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new Ve(4008,!1)}function TP(t){return!(t instanceof Sl)&&!(t instanceof ea)}var mr=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Tt;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:qb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(be(xn),be(ir),tg("tabindex"),be(Vr),be(ln),be(Bs))};static \u0275dir=ft({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ks("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",js],skipLocationChange:[2,"skipLocationChange","skipLocationChange",js],replaceUrl:[2,"replaceUrl","replaceUrl",js],routerLink:"routerLink"},features:[dr]})}return t})();var OP=new je("");function Mm(t,...n){return Ds([{provide:Fl,multi:!0,useValue:t},[],{provide:ir,useFactory:RP,deps:[xn]},{provide:xg,multi:!0,useFactory:NP},n.map(e=>e.\u0275providers)])}function RP(t){return t.routerState.root}function NP(){let t=Ae(fi);return n=>{let e=t.get(To);if(n!==e.components[0])return;let r=t.get(xn),i=t.get(PP);t.get(kP)===1&&r.initialNavigation(),t.get(FP,null,nt.Optional)?.setUpPreloading(),t.get(OP,null,nt.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PP=new je("",{factory:()=>new Tt}),kP=new je("",{providedIn:"root",factory:()=>1});var FP=new je("");var qE=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(be(Vr),be(ln))};static \u0275dir=ft({type:t})}return t})(),Hl=(()=>{class t extends qE{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,features:[Zt]})}return t})(),$o=new je("");var LP={provide:$o,useExisting:pn(()=>vn),multi:!0};function jP(){let t=gr()?gr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var VP=new je(""),vn=(()=>{class t extends qE{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!jP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(be(Vr),be(ln),be(VP,8))};static \u0275dir=ft({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$n([LP]),Zt]})}return t})();function Om(t){return t==null||Rm(t)===0}function Rm(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Xi=new je(""),ca=new je(""),BP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xt=class{static min(n){return zE(n)}static max(n){return WE(n)}static required(n){return UP(n)}static requiredTrue(n){return $P(n)}static email(n){return HP(n)}static minLength(n){return qP(n)}static maxLength(n){return zP(n)}static pattern(n){return WP(n)}static nullValidator(n){return Nd()}static compose(n){return XE(n)}static composeAsync(n){return JE(n)}};function zE(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function WE(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function UP(t){return Om(t.value)?{required:!0}:null}function $P(t){return t.value===!0?null:{required:!0}}function HP(t){return Om(t.value)||BP.test(t.value)?null:{email:!0}}function qP(t){return n=>{let e=n.value?.length??Rm(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function zP(t){return n=>{let e=n.value?.length??Rm(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function WP(t){if(!t)return Nd;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Om(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Nd(t){return null}function GE(t){return t!=null}function YE(t){return Oo(t)?At(t):t}function QE(t){let n={};return t.forEach(e=>{n=e!=null?we(we({},n),e):n}),Object.keys(n).length===0?null:n}function ZE(t,n){return n.map(e=>e(t))}function GP(t){return!t.validate}function KE(t){return t.map(n=>GP(n)?n:e=>n.validate(e))}function XE(t){if(!t)return null;let n=t.filter(GE);return n.length==0?null:function(e){return QE(ZE(e,n))}}function Nm(t){return t!=null?XE(KE(t)):null}function JE(t){if(!t)return null;let n=t.filter(GE);return n.length==0?null:function(e){let r=ZE(e,n).map(YE);return Ta(r).pipe(Ke(QE))}}function Pm(t){return t!=null?JE(KE(t)):null}function kE(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function eS(t){return t._rawValidators}function tS(t){return t._rawAsyncValidators}function Tm(t){return t?Array.isArray(t)?t:[t]:[]}function Pd(t,n){return Array.isArray(t)?t.includes(n):t===n}function FE(t,n){let e=Tm(n);return Tm(t).forEach(i=>{Pd(e,i)||e.push(i)}),e}function LE(t,n){return Tm(n).filter(e=>!Pd(t,e))}var kd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Nm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Mn=class extends kd{name;get formDirective(){return null}get path(){return null}},Uo=class extends kd{_parent=null;name=null;valueAccessor=null},Fd=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iq=Ye(we({},YP),{"[class.ng-submitted]":"isSubmitted"}),yn=(()=>{class t extends Fd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(be(Uo,2))};static \u0275dir=ft({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Uu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Zt]})}return t})(),Gr=(()=>{class t extends Fd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(be(Mn,10))};static \u0275dir=ft({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Uu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Zt]})}return t})();var Ll="VALID",Rd="INVALID",sa="PENDING",jl="DISABLED",Ki=class{},Ld=class extends Ki{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Bl=class extends Ki{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Ul=class extends Ki{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},aa=class extends Ki{status;source;constructor(n,e){super(),this.status=n,this.source=e}},jd=class extends Ki{source;constructor(n){super(),this.source=n}},Vd=class extends Ki{source;constructor(n){super(),this.source=n}};function km(t){return(Hd(t)?t.validators:t)||null}function QP(t){return Array.isArray(t)?Nm(t):t||null}function Fm(t,n){return(Hd(n)?n.asyncValidators:t)||null}function ZP(t){return Array.isArray(t)?Pm(t):t||null}function Hd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nS(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new Ve(1e3,"");if(!r[e])throw new Ve(1001,"")}function rS(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new Ve(1002,"")})}var la=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return $r(this.statusReactive)}set status(n){$r(()=>this.statusReactive.set(n))}_status=Vs(()=>this.statusReactive());statusReactive=Ns(void 0);get valid(){return this.status===Ll}get invalid(){return this.status===Rd}get pending(){return this.status==sa}get disabled(){return this.status===jl}get enabled(){return this.status!==jl}errors;get pristine(){return $r(this.pristineReactive)}set pristine(n){$r(()=>this.pristineReactive.set(n))}_pristine=Vs(()=>this.pristineReactive());pristineReactive=Ns(!0);get dirty(){return!this.pristine}get touched(){return $r(this.touchedReactive)}set touched(n){$r(()=>this.touchedReactive.set(n))}_touched=Vs(()=>this.touchedReactive());touchedReactive=Ns(!1);get untouched(){return!this.touched}_events=new Tt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(FE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(FE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(LE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(LE(n,this._rawAsyncValidators))}hasValidator(n){return Pd(this._rawValidators,n)}hasAsyncValidator(n){return Pd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Ye(we({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Ul(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Ul(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Ye(we({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Bl(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Bl(!0,r))}markAsPending(n={}){this.status=sa;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new aa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Ye(we({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=jl,this.errors=null,this._forEachChild(i=>{i.disable(Ye(we({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ld(this.value,r)),this._events.next(new aa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ye(we({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ll,this._forEachChild(r=>{r.enable(Ye(we({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Ye(we({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ll||this.status===sa)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ld(this.value,e)),this._events.next(new aa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Ye(we({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jl:Ll}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=YE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new aa(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new mt,this.statusChanges=new mt}_calculateStatus(){return this._allControlsDisabled()?jl:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Rd)?Rd:Ll}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new Bl(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ul(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=QP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ZP(this._rawAsyncValidators)}},vr=class extends la{constructor(n,e,r){super(km(e),Fm(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){rS(this,!0,n),Object.keys(n).forEach(r=>{nS(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Am=class extends vr{};var ql=new je("",{providedIn:"root",factory:()=>qd}),qd="always";function zd(t,n){return[...n.path,t]}function Bd(t,n,e=qd){Lm(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),XP(t,n),ek(t,n),JP(t,n),KP(t,n)}function jE(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),$d(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ud(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function KP(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Lm(t,n){let e=eS(t);n.validator!==null?t.setValidators(kE(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=tS(t);n.asyncValidator!==null?t.setAsyncValidators(kE(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ud(n._rawValidators,i),Ud(n._rawAsyncValidators,i)}function $d(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=eS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let i=tS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ud(n._rawValidators,r),Ud(n._rawAsyncValidators,r),e}function XP(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iS(t,n)})}function JP(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iS(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function iS(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ek(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function oS(t,n){t==null,Lm(t,n)}function tk(t,n){return $d(t,n)}function sS(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function nk(t){return Object.getPrototypeOf(t.constructor)===Hl}function aS(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lS(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===vn?e=o:nk(o)?r=o:i=o}),i||r||e||null}function rk(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var ik={provide:Mn,useExisting:pn(()=>jm)},Vl=Promise.resolve(),jm=(()=>{class t extends Mn{callSetDisabledState;get submitted(){return $r(this.submittedReactive)}_submitted=Vs(()=>this.submittedReactive());submittedReactive=Ns(!1);_directives=new Set;form;ngSubmit=new mt;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new vr({},Nm(e),Pm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Vl.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Bd(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Vl.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Vl.then(()=>{let r=this._findContainer(e.path),i=new vr({});oS(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Vl.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Vl.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),aS(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new jd(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Vd(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(be(Xi,10),be(ca,10),be(ql,8))};static \u0275dir=ft({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$n([ik]),Zt]})}return t})();function VE(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function BE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mn=class extends la{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(km(e),Fm(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(BE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){VE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){VE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){BE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var ok=t=>t instanceof mn,sk=(()=>{class t extends Mn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,standalone:!1,features:[Zt]})}return t})();var ak={provide:Uo,useExisting:pn(()=>wi)},UE=Promise.resolve(),wi=(()=>{class t extends Uo{_changeDetectorRef;callSetDisabledState;control=new mn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new mt;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){UE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&js(r);UE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?zd(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(be(Mn,9),be(Xi,10),be(ca,10),be($o,10),be(Hi,8),be(ql,8))};static \u0275dir=ft({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$n([ak]),Zt,dr]})}return t})();var Ji=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ft({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),lk={provide:$o,useExisting:pn(()=>zl),multi:!0},zl=(()=>{class t extends Hl{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ne("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[$n([lk]),Zt]})}return t})();var ck={provide:$o,useExisting:pn(()=>Vm),multi:!0},Vm=(()=>{class t extends Hl{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&Ne("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[$n([ck]),Zt]})}return t})(),cS=new je("");var uk={provide:Mn,useExisting:pn(()=>Yr)},Yr=(()=>{class t extends Mn{callSetDisabledState;get submitted(){return $r(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Vs(()=>this._submittedReactive());_submittedReactive=Ns(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new mt;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Bd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){jE(e.control||null,e,!1),rk(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),aS(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new jd(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Vd(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(jE(r||null,e),ok(i)&&(Bd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);oS(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&tk(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lm(this.form,this),this._oldForm&&$d(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(be(Xi,10),be(ca,10),be(ql,8))};static \u0275dir=ft({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$n([uk]),Zt,dr]})}return t})(),dk={provide:Mn,useExisting:pn(()=>Wd)},Wd=(()=>{class t extends sk{name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){uS(this._parent)}static \u0275fac=function(r){return new(r||t)(be(Mn,13),be(Xi,10),be(ca,10))};static \u0275dir=ft({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[$n([dk]),Zt]})}return t})(),fk={provide:Mn,useExisting:pn(()=>Gd)},Gd=(()=>{class t extends Mn{_parent;name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){uS(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||t)(be(Mn,13),be(Xi,10),be(ca,10))};static \u0275dir=ft({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[$n([fk]),Zt]})}return t})();function uS(t){return!(t instanceof Wd)&&!(t instanceof Yr)&&!(t instanceof Gd)}var hk={provide:Uo,useExisting:pn(()=>Ci)},Ci=(()=>{class t extends Uo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new mt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),sS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(be(Mn,13),be(Xi,10),be(ca,10),be($o,10),be(cS,8))};static \u0275dir=ft({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[$n([hk]),Zt,dr]})}return t})();var pk={provide:$o,useExisting:pn(()=>Qr),multi:!0};function dS(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function gk(t){return t.split(":")[0]}var Qr=(()=>{class t extends Hl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=dS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=gk(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[$n([pk]),Zt]})}return t})(),eo=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(dS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(be(ln),be(Vr),be(Qr,9))};static \u0275dir=ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),mk={provide:$o,useExisting:pn(()=>fS),multi:!0};function $E(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function vk(t){return t.split(":")[0]}var fS=(()=>{class t extends Hl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=vk(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[$n([mk]),Zt]})}return t})(),to=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($E(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($E(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(be(ln),be(Vr),be(fS,9))};static \u0275dir=ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function hS(t){return typeof t=="number"?t:parseFloat(t)}var pS=(()=>{class t{_validator=Nd;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ft({type:t,features:[dr]})}return t})(),yk={provide:Xi,useExisting:pn(()=>Bm),multi:!0},Bm=(()=>{class t extends pS{max;inputName="max";normalizeInput=e=>hS(e);createValidator=e=>WE(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ks("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[$n([yk]),Zt]})}return t})(),_k={provide:Xi,useExisting:pn(()=>Um),multi:!0},Um=(()=>{class t extends pS{min;inputName="min";normalizeInput=e=>hS(e);createValidator=e=>zE(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(t)))(i||t)}})();static \u0275dir=ft({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ks("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[$n([_k]),Zt]})}return t})();var gS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=ur({})}return t})(),$l=class extends la{constructor(n,e,r){super(km(e),Fm(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){rS(this,!1,n),n.forEach((r,i)=>{nS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function HE(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var mS=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return HE(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new vr(i,o)}record(e,r=null){let i=this._reduceControls(e);return new Am(i,r)}control(e,r,i){let o={};return this.useNonNullable?(HE(r)?o=r:(o.validators=r,o.asyncValidators=i),new mn(e,Ye(we({},o),{nonNullable:!0}))):new mn(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new $l(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof mn)return e;if(e instanceof la)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ql,useValue:e.callSetDisabledState??qd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=ur({imports:[gS]})}return t})(),Kr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:cS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ql,useValue:e.callSetDisabledState??qd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=ur({imports:[gS]})}return t})();var et={ambiente:"prod",apiUrlBase:"https://zb00jfnlm6.execute-api.sa-east-1.amazonaws.com"};var zn=class t{token;dados;constructor(){this.atualizarToken(localStorage.getItem("token"))}atualizarToken(n){if(this.token=n??void 0,this.token){localStorage.setItem("token",this.token);let e=/^(.+)\.(.+)\.(.+)$/.exec(this.token);if(e){let[,r,i]=e;this.dados=JSON.parse(atob(decodeURIComponent(i)))}}else localStorage.removeItem("token"),this.dados=void 0}estaLogado(){return this.token!=null}login(n,e){return fetch(`${et.apiUrlBase}/usuarios/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:n,senha:e})}).then(r=>r.json()).then(r=>r.status=="ok"&&r.token?(this.atualizarToken(r.token),!0):r.erro??"desconhecido")}logout(){this.atualizarToken(null)}singup(n,e,r){return fetch(`${et.apiUrlBase}/usuarios/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:n,usuario:e,senha:r})}).then(i=>i.json()).then(i=>i.status=="ok"&&i.token?(this.atualizarToken(i.token),!0):i.erro??"desconhecido")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})};function bk(t,n){if(t&1&&(R(0,"span",11),me(1,"i",12),oe(2),Ce(3,"translate"),V()),t&2){let e=ne();A(2),qe(" ",Ie(3,1,"login.form.erros."+e.erro),"")}}var Yd=class t{constructor(n,e){this.authService=n;this.router=e;n.estaLogado()&&e.navigateByUrl("/inicio"),this.form=new vr({usuario:new mn("",Xt.required),senha:new mn("",Xt.required)})}form;erro="";login(){this.authService.login(this.form.controls.usuario.value,this.form.controls.senha.value).then(n=>{if(n==!0)this.router.navigateByUrl("/home");else{let e=n.split("/");e[0]=="requisicao-ruim"&&e[1]=="falha-autenticacao"?this.erro=e[2]??"desconhecido":this.erro="desconhecido"}})}static \u0275fac=function(e){return new(e||t)(be(zn),be(xn))};static \u0275cmp=lt({type:t,selectors:[["app-login"]],decls:23,vars:19,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"display","flex","flex-direction","column","align-items","center","gap","10px","width","100%"],[1,"form","tamanho-grande","container",2,"padding","40px","padding-top","20px","width","100%","max-width","350px",3,"formGroup"],[2,"margin-bottom","20px"],["for","username"],["type","text","name","username","id","username","formControlName","usuario"],["for","password"],["type","password","name","password","id","password","formControlName","senha"],[1,"btn","primario",3,"click","disabled"],["style","color: rgb(255, 80, 80);",4,"ngIf"],[3,"routerLink"],[2,"color","rgb(255, 80, 80)"],[1,"bi","bi-exclamation-circle"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"form",2)(3,"h2",3),oe(4),Ce(5,"translate"),V(),R(6,"div")(7,"label",4),oe(8),Ce(9,"translate"),V(),me(10,"input",5),V(),R(11,"div")(12,"label",6),oe(13),Ce(14,"translate"),V(),me(15,"input",7),V(),R(16,"button",8),Ne("click",function(){return r.login()}),oe(17),Ce(18,"translate"),V(),Re(19,bk,4,3,"span",9),V(),R(20,"a",10),oe(21),Ce(22,"translate"),V()()()),e&2&&(A(2),Z("formGroup",r.form),A(2),He(Ie(5,9,"login.form.titulo")),A(4),He(Ie(9,11,"login.form.usuario")),A(5),He(Ie(14,13,"login.form.senha")),A(3),Z("disabled",!r.form.valid),A(),He(Ie(18,15,"login.form.entrar")),A(2),Z("ngIf",r.erro),A(),Z("routerLink","/signup"),A(),He(Ie(22,17,"login.criar")))},dependencies:[Kr,Ji,vn,yn,Gr,Yr,Ci,pt,Kt,bt,Mt,mr],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]})};var wk=["*"],Ck=t=>[t],da=class t{estado;tamanho="normal";estadoChange=new mt;change=new mt;disabled;id="";toggle(){this.disabled||(typeof this.estado=="boolean"?this.estadoChange.emit(!this.estado):this.estadoChange.emit(this.estado==1?0:1),this.change.emit(this.estado))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=lt({type:t,selectors:[["app-toggle-switch"]],inputs:{estado:"estado",tamanho:"tamanho",disabled:"disabled",id:"id"},outputs:{estadoChange:"estadoChange",change:"change"},ngContentSelectors:wk,decls:7,vars:7,consts:[[1,"toggle-switch",3,"click"],["type","checkbox",3,"id","checked","disabled"],[3,"ngClass"],[3,"for"]],template:function(e,r){e&1&&($u(),R(0,"div",0),Ne("click",function(){return r.toggle()}),me(1,"input",1),R(2,"div",2),me(3,"div")(4,"div"),V(),R(5,"label",3),Hu(6),V()()),e&2&&(A(),Z("id",r.id)("checked",r.estado==1)("disabled",r.disabled),A(),Z("ngClass",ct(5,Ck,r.tamanho)),A(3),Z("for",r.id))},dependencies:[pt,In,Zr],styles:[".toggle-switch[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{cursor:pointer}.toggle-switch[_ngcontent-%COMP%]{display:inline-flex;gap:10px;width:100%;align-items:center;-webkit-user-select:none;user-select:none;cursor:pointer}.toggle-switch[_ngcontent-%COMP%]:has(input:disabled){opacity:.6}.toggle-switch[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{--size: .85;position:relative;width:calc(60px * var(--size));min-width:calc(60px * var(--size));height:calc(30px * var(--size));border-radius:calc(15px * var(--size));border:calc(2px * var(--size)) solid lightgray}.toggle-switch[_ngcontent-%COMP%] > div.pequeno[_ngcontent-%COMP%]{--size: .62}.toggle-switch[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;top:calc(6px * var(--size));left:calc(6px * var(--size));border-radius:calc(7px * var(--size));width:calc(13px * var(--size));height:calc(14px * var(--size));margin:auto;transition:width 75ms linear;background-color:var(--secundario)}.toggle-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:calc(44px * var(--size))}.toggle-switch[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{position:absolute;top:calc(3px * var(--size));left:calc(3px * var(--size));height:calc(20px * var(--size));width:calc(20px * var(--size));border-radius:calc(10px * var(--size));background-color:var(--primario);border:none;transition:transform 75ms linear}.toggle-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{transform:translate(calc(29px * var(--size)))}"]})};var gy=Object.defineProperty,Ek=Object.getOwnPropertyDescriptor,Sk=Object.getOwnPropertyNames,Ik=Object.prototype.hasOwnProperty,Tn=(t,n)=>()=>(t&&(n=t(t=0)),n),Ee=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),pa=(t,n)=>{for(var e in n)gy(t,e,{get:n[e],enumerable:!0})},Dk=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Sk(n))!Ik.call(t,i)&&i!==e&&gy(t,i,{get:()=>n[i],enumerable:!(r=Ek(n,i))||r.enumerable});return t},Et=t=>Dk(gy({},"__esModule",{value:!0}),t),ue=Tn(()=>{}),gt={};pa(gt,{_debugEnd:()=>Ov,_debugProcess:()=>Av,_events:()=>Wv,_eventsCount:()=>Gv,_exiting:()=>mv,_fatalExceptions:()=>xv,_getActiveHandles:()=>XS,_getActiveRequests:()=>KS,_kill:()=>_v,_linkedBinding:()=>QS,_maxListeners:()=>zv,_preload_modules:()=>Hv,_rawDebug:()=>hv,_startProfilerIdleNotifier:()=>Rv,_stopProfilerIdleNotifier:()=>Nv,_tickCallback:()=>Tv,abort:()=>Lv,addListener:()=>Yv,allowedNodeEnvironmentFlags:()=>Iv,arch:()=>ev,argv:()=>rv,argv0:()=>$v,assert:()=>JS,binding:()=>lv,chdir:()=>dv,config:()=>vv,cpuUsage:()=>Gl,cwd:()=>uv,debugPort:()=>Uv,default:()=>vy,dlopen:()=>ZS,domain:()=>gv,emit:()=>Jv,emitWarning:()=>av,env:()=>nv,execArgv:()=>iv,execPath:()=>Bv,exit:()=>Ev,features:()=>Dv,hasUncaughtExceptionCaptureCallback:()=>eI,hrtime:()=>ef,kill:()=>Cv,listeners:()=>nI,memoryUsage:()=>wv,moduleLoadList:()=>pv,nextTick:()=>GS,off:()=>Zv,on:()=>Si,once:()=>Qv,openStdin:()=>Sv,pid:()=>jv,platform:()=>tv,ppid:()=>Vv,prependListener:()=>ey,prependOnceListener:()=>ty,reallyExit:()=>yv,release:()=>fv,removeAllListeners:()=>Xv,removeListener:()=>Kv,resourceUsage:()=>bv,setSourceMapsEnabled:()=>qv,setUncaughtExceptionCaptureCallback:()=>Mv,stderr:()=>kv,stdin:()=>Fv,stdout:()=>Pv,title:()=>Jm,umask:()=>cv,uptime:()=>tI,version:()=>ov,versions:()=>sv});function my(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function xk(){!Qo||!Go||(Qo=!1,Go.length?Jr=Go.concat(Jr):Zl=-1,Jr.length&&WS())}function WS(){if(!Qo){var t=setTimeout(xk,0);Qo=!0;for(var n=Jr.length;n;){for(Go=Jr,Jr=[];++Zl<n;)Go&&Go[Zl].run();Zl=-1,n=Jr.length}Go=null,Qo=!1,clearTimeout(t)}}function GS(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];Jr.push(new YS(t,n)),Jr.length===1&&!Qo&&setTimeout(WS,0)}function YS(t,n){this.fun=t,this.array=n}function bn(){}function QS(t){my("_linkedBinding")}function ZS(t){my("dlopen")}function KS(){return[]}function XS(){return[]}function JS(t,n){if(!t)throw new Error(n||"assertion error")}function eI(){return!1}function tI(){return Mi.now()/1e3}function ef(t){var n=Math.floor((Date.now()-Mi.now())*.001),e=Mi.now()*.001,r=Math.floor(e)+n,i=Math.floor(e%1*1e9);return t&&(r=r-t[0],i=i-t[1],i<0&&(r--,i+=tf)),[r,i]}function Si(){return vy}function nI(t){return[]}var Jr,Qo,Go,Zl,Jm,ev,tv,nv,rv,iv,ov,sv,av,lv,cv,uv,dv,fv,hv,pv,gv,mv,vv,yv,_v,Gl,bv,wv,Cv,Ev,Sv,Iv,Dv,xv,Mv,Tv,Av,Ov,Rv,Nv,Pv,kv,Fv,Lv,jv,Vv,Bv,Uv,$v,Hv,qv,Mi,$m,tf,zv,Wv,Gv,Yv,Qv,Zv,Kv,Xv,Jv,ey,ty,vy,Mk=Tn(()=>{ue(),fe(),de(),Jr=[],Qo=!1,Zl=-1,YS.prototype.run=function(){this.fun.apply(null,this.array)},Jm="browser",ev="x64",tv="browser",nv={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},rv=["/usr/bin/node"],iv=[],ov="v16.8.0",sv={},av=function(t,n){console.warn((n?n+": ":"")+t)},lv=function(t){my("binding")},cv=function(t){return 0},uv=function(){return"/"},dv=function(t){},fv={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},hv=bn,pv=[],gv={},mv=!1,vv={},yv=bn,_v=bn,Gl=function(){return{}},bv=Gl,wv=Gl,Cv=bn,Ev=bn,Sv=bn,Iv={},Dv={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},xv=bn,Mv=bn,Tv=bn,Av=bn,Ov=bn,Rv=bn,Nv=bn,Pv=void 0,kv=void 0,Fv=void 0,Lv=bn,jv=2,Vv=1,Bv="/bin/usr/node",Uv=9229,$v="node",Hv=[],qv=bn,Mi={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Mi.now===void 0&&($m=Date.now(),Mi.timing&&Mi.timing.navigationStart&&($m=Mi.timing.navigationStart),Mi.now=()=>Date.now()-$m),tf=1e9,ef.bigint=function(t){var n=ef(t);return typeof BigInt>"u"?n[0]*tf+n[1]:BigInt(n[0]*tf)+BigInt(n[1])},zv=10,Wv={},Gv=0,Yv=Si,Qv=Si,Zv=Si,Kv=Si,Xv=Si,Jv=bn,ey=Si,ty=Si,vy={version:ov,versions:sv,arch:ev,platform:tv,release:fv,_rawDebug:hv,moduleLoadList:pv,binding:lv,_linkedBinding:QS,_events:Wv,_eventsCount:Gv,_maxListeners:zv,on:Si,addListener:Yv,once:Qv,off:Zv,removeListener:Kv,removeAllListeners:Xv,emit:Jv,prependListener:ey,prependOnceListener:ty,listeners:nI,domain:gv,_exiting:mv,config:vv,dlopen:ZS,uptime:tI,_getActiveRequests:KS,_getActiveHandles:XS,reallyExit:yv,_kill:_v,cpuUsage:Gl,resourceUsage:bv,memoryUsage:wv,kill:Cv,exit:Ev,openStdin:Sv,allowedNodeEnvironmentFlags:Iv,assert:JS,features:Dv,_fatalExceptions:xv,setUncaughtExceptionCaptureCallback:Mv,hasUncaughtExceptionCaptureCallback:eI,emitWarning:av,nextTick:GS,_tickCallback:Tv,_debugProcess:Av,_debugEnd:Ov,_startProfilerIdleNotifier:Rv,_stopProfilerIdleNotifier:Nv,stdout:Pv,stdin:Fv,stderr:kv,abort:Lv,umask:cv,chdir:dv,cwd:uv,env:nv,title:Jm,argv:rv,execArgv:iv,pid:jv,ppid:Vv,execPath:Bv,debugPort:Uv,hrtime:ef,argv0:$v,_preload_modules:Hv,setSourceMapsEnabled:qv}}),de=Tn(()=>{Mk()}),on={};pa(on,{Buffer:()=>af,INSPECT_MAX_BYTES:()=>rI,default:()=>Ii,kMaxLength:()=>iI});function Tk(){if(ny)return ha;ny=!0,ha.byteLength=a,ha.toByteArray=c,ha.fromByteArray=h;for(var t=[],n=[],e=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],n[r.charCodeAt(i)]=i;n[45]=62,n[95]=63;function s(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");m===-1&&(m=g);var v=m===g?0:4-m%4;return[m,v]}function a(f){var g=s(f),m=g[0],v=g[1];return(m+v)*3/4-v}function l(f,g,m){return(g+m)*3/4-m}function c(f){var g,m=s(f),v=m[0],w=m[1],y=new e(l(f,v,w)),b=0,I=w>0?v-4:v,x;for(x=0;x<I;x+=4)g=n[f.charCodeAt(x)]<<18|n[f.charCodeAt(x+1)]<<12|n[f.charCodeAt(x+2)]<<6|n[f.charCodeAt(x+3)],y[b++]=g>>16&255,y[b++]=g>>8&255,y[b++]=g&255;return w===2&&(g=n[f.charCodeAt(x)]<<2|n[f.charCodeAt(x+1)]>>4,y[b++]=g&255),w===1&&(g=n[f.charCodeAt(x)]<<10|n[f.charCodeAt(x+1)]<<4|n[f.charCodeAt(x+2)]>>2,y[b++]=g>>8&255,y[b++]=g&255),y}function u(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function d(f,g,m){for(var v,w=[],y=g;y<m;y+=3)v=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(f[y+2]&255),w.push(u(v));return w.join("")}function h(f){for(var g,m=f.length,v=m%3,w=[],y=16383,b=0,I=m-v;b<I;b+=y)w.push(d(f,b,b+y>I?I:b+y));return v===1?(g=f[m-1],w.push(t[g>>2]+t[g<<4&63]+"==")):v===2&&(g=(f[m-2]<<8)+f[m-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return ha}function Ak(){return ry?Yl:(ry=!0,Yl.read=function(t,n,e,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=e?i-1:0,h=e?-1:1,f=t[n+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=o*256+t[n+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[n+d],d+=h,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(f?-1:1)*s*Math.pow(2,o-r)},Yl.write=function(t,n,e,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,g=r?1:-1,m=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,s=u):(s=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?n+=h/l:n+=h*Math.pow(2,1-d),n*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(n*l-1)*Math.pow(2,i),s=s+d):(a=n*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[e+f]=a&255,f+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[e+f]=s&255,f+=g,s/=256,c-=8);t[e+f-g]|=m*128},Yl)}function Ok(){if(iy)return ro;iy=!0;let t=Tk(),n=Ak(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ro.Buffer=s,ro.SlowBuffer=w,ro.INSPECT_MAX_BYTES=50;let r=2147483647;ro.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let p=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(p,_),p.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(p){if(p>r)throw new RangeError('The value "'+p+'" is invalid for option "size"');let _=new Uint8Array(p);return Object.setPrototypeOf(_,s.prototype),_}function s(p,_,C){if(typeof p=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(p)}return a(p,_,C)}s.poolSize=8192;function a(p,_,C){if(typeof p=="string")return d(p,_);if(ArrayBuffer.isView(p))return f(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(j(p,ArrayBuffer)||p&&j(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(j(p,SharedArrayBuffer)||p&&j(p.buffer,SharedArrayBuffer)))return g(p,_,C);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let F=p.valueOf&&p.valueOf();if(F!=null&&F!==p)return s.from(F,_,C);let B=m(p);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),_,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,_,C){return a(p,_,C)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function c(p,_,C){return l(p),p<=0?o(p):_!==void 0?typeof C=="string"?o(p).fill(_,C):o(p).fill(_):o(p)}s.alloc=function(p,_,C){return c(p,_,C)};function u(p){return l(p),o(p<0?0:v(p)|0)}s.allocUnsafe=function(p){return u(p)},s.allocUnsafeSlow=function(p){return u(p)};function d(p,_){if((typeof _!="string"||_==="")&&(_="utf8"),!s.isEncoding(_))throw new TypeError("Unknown encoding: "+_);let C=y(p,_)|0,F=o(C),B=F.write(p,_);return B!==C&&(F=F.slice(0,B)),F}function h(p){let _=p.length<0?0:v(p.length)|0,C=o(_);for(let F=0;F<_;F+=1)C[F]=p[F]&255;return C}function f(p){if(j(p,Uint8Array)){let _=new Uint8Array(p);return g(_.buffer,_.byteOffset,_.byteLength)}return h(p)}function g(p,_,C){if(_<0||p.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<_+(C||0))throw new RangeError('"length" is outside of buffer bounds');let F;return _===void 0&&C===void 0?F=new Uint8Array(p):C===void 0?F=new Uint8Array(p,_):F=new Uint8Array(p,_,C),Object.setPrototypeOf(F,s.prototype),F}function m(p){if(s.isBuffer(p)){let _=v(p.length)|0,C=o(_);return C.length===0||p.copy(C,0,0,_),C}if(p.length!==void 0)return typeof p.length!="number"||re(p.length)?o(0):h(p);if(p.type==="Buffer"&&Array.isArray(p.data))return h(p.data)}function v(p){if(p>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return p|0}function w(p){return+p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==s.prototype},s.compare=function(p,_){if(j(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),j(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),!s.isBuffer(p)||!s.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===_)return 0;let C=p.length,F=_.length;for(let B=0,K=Math.min(C,F);B<K;++B)if(p[B]!==_[B]){C=p[B],F=_[B];break}return C<F?-1:F<C?1:0},s.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(p,_){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return s.alloc(0);let C;if(_===void 0)for(_=0,C=0;C<p.length;++C)_+=p[C].length;let F=s.allocUnsafe(_),B=0;for(C=0;C<p.length;++C){let K=p[C];if(j(K,Uint8Array))B+K.length>F.length?(s.isBuffer(K)||(K=s.from(K)),K.copy(F,B)):Uint8Array.prototype.set.call(F,K,B);else if(s.isBuffer(K))K.copy(F,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=K.length}return F};function y(p,_){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||j(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let C=p.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&C===0)return 0;let B=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return k(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return ie(p).length;default:if(B)return F?-1:k(p).length;_=(""+_).toLowerCase(),B=!0}}s.byteLength=y;function b(p,_,C){let F=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,_>>>=0,C<=_))return"";for(p||(p="utf8");;)switch(p){case"hex":return Se(this,_,C);case"utf8":case"utf-8":return Y(this,_,C);case"ascii":return ce(this,_,C);case"latin1":case"binary":return _e(this,_,C);case"base64":return L(this,_,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe(this,_,C);default:if(F)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),F=!0}}s.prototype._isBuffer=!0;function I(p,_,C){let F=p[_];p[_]=p[C],p[C]=F}s.prototype.swap16=function(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<p;_+=2)I(this,_,_+1);return this},s.prototype.swap32=function(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<p;_+=4)I(this,_,_+3),I(this,_+1,_+2);return this},s.prototype.swap64=function(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<p;_+=8)I(this,_,_+7),I(this,_+1,_+6),I(this,_+2,_+5),I(this,_+3,_+4);return this},s.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?Y(this,0,p):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(p){if(!s.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:s.compare(this,p)===0},s.prototype.inspect=function(){let p="",_=ro.INSPECT_MAX_BYTES;return p=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(p+=" ... "),"<Buffer "+p+">"},e&&(s.prototype[e]=s.prototype.inspect),s.prototype.compare=function(p,_,C,F,B){if(j(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),!s.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(_===void 0&&(_=0),C===void 0&&(C=p?p.length:0),F===void 0&&(F=0),B===void 0&&(B=this.length),_<0||C>p.length||F<0||B>this.length)throw new RangeError("out of range index");if(F>=B&&_>=C)return 0;if(F>=B)return-1;if(_>=C)return 1;if(_>>>=0,C>>>=0,F>>>=0,B>>>=0,this===p)return 0;let K=B-F,De=C-_,ut=Math.min(K,De),_t=this.slice(F,B),Dt=p.slice(_,C);for(let yt=0;yt<ut;++yt)if(_t[yt]!==Dt[yt]){K=_t[yt],De=Dt[yt];break}return K<De?-1:De<K?1:0};function x(p,_,C,F,B){if(p.length===0)return-1;if(typeof C=="string"?(F=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,re(C)&&(C=B?0:p.length-1),C<0&&(C=p.length+C),C>=p.length){if(B)return-1;C=p.length-1}else if(C<0)if(B)C=0;else return-1;if(typeof _=="string"&&(_=s.from(_,F)),s.isBuffer(_))return _.length===0?-1:E(p,_,C,F,B);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(p,_,C):Uint8Array.prototype.lastIndexOf.call(p,_,C):E(p,[_],C,F,B);throw new TypeError("val must be string, number or Buffer")}function E(p,_,C,F,B){let K=1,De=p.length,ut=_.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(p.length<2||_.length<2)return-1;K=2,De/=2,ut/=2,C/=2}function _t(yt,Lt){return K===1?yt[Lt]:yt.readUInt16BE(Lt*K)}let Dt;if(B){let yt=-1;for(Dt=C;Dt<De;Dt++)if(_t(p,Dt)===_t(_,yt===-1?0:Dt-yt)){if(yt===-1&&(yt=Dt),Dt-yt+1===ut)return yt*K}else yt!==-1&&(Dt-=Dt-yt),yt=-1}else for(C+ut>De&&(C=De-ut),Dt=C;Dt>=0;Dt--){let yt=!0;for(let Lt=0;Lt<ut;Lt++)if(_t(p,Dt+Lt)!==_t(_,Lt)){yt=!1;break}if(yt)return Dt}return-1}s.prototype.includes=function(p,_,C){return this.indexOf(p,_,C)!==-1},s.prototype.indexOf=function(p,_,C){return x(this,p,_,C,!0)},s.prototype.lastIndexOf=function(p,_,C){return x(this,p,_,C,!1)};function D(p,_,C,F){C=Number(C)||0;let B=p.length-C;F?(F=Number(F),F>B&&(F=B)):F=B;let K=_.length;F>K/2&&(F=K/2);let De;for(De=0;De<F;++De){let ut=parseInt(_.substr(De*2,2),16);if(re(ut))return De;p[C+De]=ut}return De}function N(p,_,C,F){return le(k(_,p.length-C),p,C,F)}function W(p,_,C,F){return le($(_),p,C,F)}function J(p,_,C,F){return le(ie(_),p,C,F)}function he(p,_,C,F){return le(ee(_,p.length-C),p,C,F)}s.prototype.write=function(p,_,C,F){if(_===void 0)F="utf8",C=this.length,_=0;else if(C===void 0&&typeof _=="string")F=_,C=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(C)?(C=C>>>0,F===void 0&&(F="utf8")):(F=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let B=this.length-_;if((C===void 0||C>B)&&(C=B),p.length>0&&(C<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let K=!1;for(;;)switch(F){case"hex":return D(this,p,_,C);case"utf8":case"utf-8":return N(this,p,_,C);case"ascii":case"latin1":case"binary":return W(this,p,_,C);case"base64":return J(this,p,_,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,p,_,C);default:if(K)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),K=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(p,_,C){return _===0&&C===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(_,C))}function Y(p,_,C){C=Math.min(p.length,C);let F=[],B=_;for(;B<C;){let K=p[B],De=null,ut=K>239?4:K>223?3:K>191?2:1;if(B+ut<=C){let _t,Dt,yt,Lt;switch(ut){case 1:K<128&&(De=K);break;case 2:_t=p[B+1],(_t&192)===128&&(Lt=(K&31)<<6|_t&63,Lt>127&&(De=Lt));break;case 3:_t=p[B+1],Dt=p[B+2],(_t&192)===128&&(Dt&192)===128&&(Lt=(K&15)<<12|(_t&63)<<6|Dt&63,Lt>2047&&(Lt<55296||Lt>57343)&&(De=Lt));break;case 4:_t=p[B+1],Dt=p[B+2],yt=p[B+3],(_t&192)===128&&(Dt&192)===128&&(yt&192)===128&&(Lt=(K&15)<<18|(_t&63)<<12|(Dt&63)<<6|yt&63,Lt>65535&&Lt<1114112&&(De=Lt))}}De===null?(De=65533,ut=1):De>65535&&(De-=65536,F.push(De>>>10&1023|55296),De=56320|De&1023),F.push(De),B+=ut}return U(F)}let X=4096;function U(p){let _=p.length;if(_<=X)return String.fromCharCode.apply(String,p);let C="",F=0;for(;F<_;)C+=String.fromCharCode.apply(String,p.slice(F,F+=X));return C}function ce(p,_,C){let F="";C=Math.min(p.length,C);for(let B=_;B<C;++B)F+=String.fromCharCode(p[B]&127);return F}function _e(p,_,C){let F="";C=Math.min(p.length,C);for(let B=_;B<C;++B)F+=String.fromCharCode(p[B]);return F}function Se(p,_,C){let F=p.length;(!_||_<0)&&(_=0),(!C||C<0||C>F)&&(C=F);let B="";for(let K=_;K<C;++K)B+=Me[p[K]];return B}function Oe(p,_,C){let F=p.slice(_,C),B="";for(let K=0;K<F.length-1;K+=2)B+=String.fromCharCode(F[K]+F[K+1]*256);return B}s.prototype.slice=function(p,_){let C=this.length;p=~~p,_=_===void 0?C:~~_,p<0?(p+=C,p<0&&(p=0)):p>C&&(p=C),_<0?(_+=C,_<0&&(_=0)):_>C&&(_=C),_<p&&(_=p);let F=this.subarray(p,_);return Object.setPrototypeOf(F,s.prototype),F};function H(p,_,C){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+_>C)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(p,_,C){p=p>>>0,_=_>>>0,C||H(p,_,this.length);let F=this[p],B=1,K=0;for(;++K<_&&(B*=256);)F+=this[p+K]*B;return F},s.prototype.readUintBE=s.prototype.readUIntBE=function(p,_,C){p=p>>>0,_=_>>>0,C||H(p,_,this.length);let F=this[p+--_],B=1;for(;_>0&&(B*=256);)F+=this[p+--_]*B;return F},s.prototype.readUint8=s.prototype.readUInt8=function(p,_){return p=p>>>0,_||H(p,1,this.length),this[p]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(p,_){return p=p>>>0,_||H(p,2,this.length),this[p]|this[p+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(p,_){return p=p>>>0,_||H(p,2,this.length),this[p]<<8|this[p+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(p,_){return p=p>>>0,_||H(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(p,_){return p=p>>>0,_||H(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},s.prototype.readBigUInt64LE=ae(function(p){p=p>>>0,z(p,"offset");let _=this[p],C=this[p+7];(_===void 0||C===void 0)&&pe(p,this.length-8);let F=_+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,B=this[++p]+this[++p]*2**8+this[++p]*2**16+C*2**24;return BigInt(F)+(BigInt(B)<<BigInt(32))}),s.prototype.readBigUInt64BE=ae(function(p){p=p>>>0,z(p,"offset");let _=this[p],C=this[p+7];(_===void 0||C===void 0)&&pe(p,this.length-8);let F=_*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],B=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+C;return(BigInt(F)<<BigInt(32))+BigInt(B)}),s.prototype.readIntLE=function(p,_,C){p=p>>>0,_=_>>>0,C||H(p,_,this.length);let F=this[p],B=1,K=0;for(;++K<_&&(B*=256);)F+=this[p+K]*B;return B*=128,F>=B&&(F-=Math.pow(2,8*_)),F},s.prototype.readIntBE=function(p,_,C){p=p>>>0,_=_>>>0,C||H(p,_,this.length);let F=_,B=1,K=this[p+--F];for(;F>0&&(B*=256);)K+=this[p+--F]*B;return B*=128,K>=B&&(K-=Math.pow(2,8*_)),K},s.prototype.readInt8=function(p,_){return p=p>>>0,_||H(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},s.prototype.readInt16LE=function(p,_){p=p>>>0,_||H(p,2,this.length);let C=this[p]|this[p+1]<<8;return C&32768?C|4294901760:C},s.prototype.readInt16BE=function(p,_){p=p>>>0,_||H(p,2,this.length);let C=this[p+1]|this[p]<<8;return C&32768?C|4294901760:C},s.prototype.readInt32LE=function(p,_){return p=p>>>0,_||H(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},s.prototype.readInt32BE=function(p,_){return p=p>>>0,_||H(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},s.prototype.readBigInt64LE=ae(function(p){p=p>>>0,z(p,"offset");let _=this[p],C=this[p+7];(_===void 0||C===void 0)&&pe(p,this.length-8);let F=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(C<<24);return(BigInt(F)<<BigInt(32))+BigInt(_+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),s.prototype.readBigInt64BE=ae(function(p){p=p>>>0,z(p,"offset");let _=this[p],C=this[p+7];(_===void 0||C===void 0)&&pe(p,this.length-8);let F=(_<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(F)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+C)}),s.prototype.readFloatLE=function(p,_){return p=p>>>0,_||H(p,4,this.length),n.read(this,p,!0,23,4)},s.prototype.readFloatBE=function(p,_){return p=p>>>0,_||H(p,4,this.length),n.read(this,p,!1,23,4)},s.prototype.readDoubleLE=function(p,_){return p=p>>>0,_||H(p,8,this.length),n.read(this,p,!0,52,8)},s.prototype.readDoubleBE=function(p,_){return p=p>>>0,_||H(p,8,this.length),n.read(this,p,!1,52,8)};function ve(p,_,C,F,B,K){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>B||_<K)throw new RangeError('"value" argument is out of bounds');if(C+F>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(p,_,C,F){if(p=+p,_=_>>>0,C=C>>>0,!F){let De=Math.pow(2,8*C)-1;ve(this,p,_,C,De,0)}let B=1,K=0;for(this[_]=p&255;++K<C&&(B*=256);)this[_+K]=p/B&255;return _+C},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(p,_,C,F){if(p=+p,_=_>>>0,C=C>>>0,!F){let De=Math.pow(2,8*C)-1;ve(this,p,_,C,De,0)}let B=C-1,K=1;for(this[_+B]=p&255;--B>=0&&(K*=256);)this[_+B]=p/K&255;return _+C},s.prototype.writeUint8=s.prototype.writeUInt8=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,1,255,0),this[_]=p&255,_+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,2,65535,0),this[_]=p&255,this[_+1]=p>>>8,_+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,2,65535,0),this[_]=p>>>8,this[_+1]=p&255,_+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,4,4294967295,0),this[_+3]=p>>>24,this[_+2]=p>>>16,this[_+1]=p>>>8,this[_]=p&255,_+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,4,4294967295,0),this[_]=p>>>24,this[_+1]=p>>>16,this[_+2]=p>>>8,this[_+3]=p&255,_+4};function T(p,_,C,F,B){q(_,F,B,p,C,7);let K=Number(_&BigInt(4294967295));p[C++]=K,K=K>>8,p[C++]=K,K=K>>8,p[C++]=K,K=K>>8,p[C++]=K;let De=Number(_>>BigInt(32)&BigInt(4294967295));return p[C++]=De,De=De>>8,p[C++]=De,De=De>>8,p[C++]=De,De=De>>8,p[C++]=De,C}function ge(p,_,C,F,B){q(_,F,B,p,C,7);let K=Number(_&BigInt(4294967295));p[C+7]=K,K=K>>8,p[C+6]=K,K=K>>8,p[C+5]=K,K=K>>8,p[C+4]=K;let De=Number(_>>BigInt(32)&BigInt(4294967295));return p[C+3]=De,De=De>>8,p[C+2]=De,De=De>>8,p[C+1]=De,De=De>>8,p[C]=De,C+8}s.prototype.writeBigUInt64LE=ae(function(p,_=0){return T(this,p,_,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ae(function(p,_=0){return ge(this,p,_,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(p,_,C,F){if(p=+p,_=_>>>0,!F){let ut=Math.pow(2,8*C-1);ve(this,p,_,C,ut-1,-ut)}let B=0,K=1,De=0;for(this[_]=p&255;++B<C&&(K*=256);)p<0&&De===0&&this[_+B-1]!==0&&(De=1),this[_+B]=(p/K>>0)-De&255;return _+C},s.prototype.writeIntBE=function(p,_,C,F){if(p=+p,_=_>>>0,!F){let ut=Math.pow(2,8*C-1);ve(this,p,_,C,ut-1,-ut)}let B=C-1,K=1,De=0;for(this[_+B]=p&255;--B>=0&&(K*=256);)p<0&&De===0&&this[_+B+1]!==0&&(De=1),this[_+B]=(p/K>>0)-De&255;return _+C},s.prototype.writeInt8=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,1,127,-128),p<0&&(p=255+p+1),this[_]=p&255,_+1},s.prototype.writeInt16LE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,2,32767,-32768),this[_]=p&255,this[_+1]=p>>>8,_+2},s.prototype.writeInt16BE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,2,32767,-32768),this[_]=p>>>8,this[_+1]=p&255,_+2},s.prototype.writeInt32LE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,4,2147483647,-2147483648),this[_]=p&255,this[_+1]=p>>>8,this[_+2]=p>>>16,this[_+3]=p>>>24,_+4},s.prototype.writeInt32BE=function(p,_,C){return p=+p,_=_>>>0,C||ve(this,p,_,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[_]=p>>>24,this[_+1]=p>>>16,this[_+2]=p>>>8,this[_+3]=p&255,_+4},s.prototype.writeBigInt64LE=ae(function(p,_=0){return T(this,p,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ae(function(p,_=0){return ge(this,p,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(p,_,C,F,B,K){if(C+F>p.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function te(p,_,C,F,B){return _=+_,C=C>>>0,B||Te(p,_,C,4),n.write(p,_,C,F,23,4),C+4}s.prototype.writeFloatLE=function(p,_,C){return te(this,p,_,!0,C)},s.prototype.writeFloatBE=function(p,_,C){return te(this,p,_,!1,C)};function Fe(p,_,C,F,B){return _=+_,C=C>>>0,B||Te(p,_,C,8),n.write(p,_,C,F,52,8),C+8}s.prototype.writeDoubleLE=function(p,_,C){return Fe(this,p,_,!0,C)},s.prototype.writeDoubleBE=function(p,_,C){return Fe(this,p,_,!1,C)},s.prototype.copy=function(p,_,C,F){if(!s.isBuffer(p))throw new TypeError("argument should be a Buffer");if(C||(C=0),!F&&F!==0&&(F=this.length),_>=p.length&&(_=p.length),_||(_=0),F>0&&F<C&&(F=C),F===C||p.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-_<F-C&&(F=p.length-_+C);let B=F-C;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,C,F):Uint8Array.prototype.set.call(p,this.subarray(C,F),_),B},s.prototype.fill=function(p,_,C,F){if(typeof p=="string"){if(typeof _=="string"?(F=_,_=0,C=this.length):typeof C=="string"&&(F=C,C=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!s.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){let K=p.charCodeAt(0);(F==="utf8"&&K<128||F==="latin1")&&(p=K)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(_<0||this.length<_||this.length<C)throw new RangeError("Out of range index");if(C<=_)return this;_=_>>>0,C=C===void 0?this.length:C>>>0,p||(p=0);let B;if(typeof p=="number")for(B=_;B<C;++B)this[B]=p;else{let K=s.isBuffer(p)?p:s.from(p,F),De=K.length;if(De===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(B=0;B<C-_;++B)this[B+_]=K[B%De]}return this};let G={};function P(p,_,C){G[p]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}P("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(p,_){return`The "${p}" argument must be of type number. Received type ${typeof _}`},TypeError),P("ERR_OUT_OF_RANGE",function(p,_,C){let F=`The value of "${p}" is out of range.`,B=C;return Number.isInteger(C)&&Math.abs(C)>2**32?B=se(String(C)):typeof C=="bigint"&&(B=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(B=se(B)),B+="n"),F+=` It must be ${_}. Received ${B}`,F},RangeError);function se(p){let _="",C=p.length,F=p[0]==="-"?1:0;for(;C>=F+4;C-=3)_=`_${p.slice(C-3,C)}${_}`;return`${p.slice(0,C)}${_}`}function Q(p,_,C){z(_,"offset"),(p[_]===void 0||p[_+C]===void 0)&&pe(_,p.length-(C+1))}function q(p,_,C,F,B,K){if(p>C||p<_){let De=typeof _=="bigint"?"n":"",ut;throw K>3?_===0||_===BigInt(0)?ut=`>= 0${De} and < 2${De} ** ${(K+1)*8}${De}`:ut=`>= -(2${De} ** ${(K+1)*8-1}${De}) and < 2 ** ${(K+1)*8-1}${De}`:ut=`>= ${_}${De} and <= ${C}${De}`,new G.ERR_OUT_OF_RANGE("value",ut,p)}Q(F,B,K)}function z(p,_){if(typeof p!="number")throw new G.ERR_INVALID_ARG_TYPE(_,"number",p)}function pe(p,_,C){throw Math.floor(p)!==p?(z(p,C),new G.ERR_OUT_OF_RANGE(C||"offset","an integer",p)):_<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE(C||"offset",`>= ${C?1:0} and <= ${_}`,p)}let ye=/[^+/0-9A-Za-z-_]/g;function O(p){if(p=p.split("=")[0],p=p.trim().replace(ye,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function k(p,_){_=_||1/0;let C,F=p.length,B=null,K=[];for(let De=0;De<F;++De){if(C=p.charCodeAt(De),C>55295&&C<57344){if(!B){if(C>56319){(_-=3)>-1&&K.push(239,191,189);continue}else if(De+1===F){(_-=3)>-1&&K.push(239,191,189);continue}B=C;continue}if(C<56320){(_-=3)>-1&&K.push(239,191,189),B=C;continue}C=(B-55296<<10|C-56320)+65536}else B&&(_-=3)>-1&&K.push(239,191,189);if(B=null,C<128){if((_-=1)<0)break;K.push(C)}else if(C<2048){if((_-=2)<0)break;K.push(C>>6|192,C&63|128)}else if(C<65536){if((_-=3)<0)break;K.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((_-=4)<0)break;K.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return K}function $(p){let _=[];for(let C=0;C<p.length;++C)_.push(p.charCodeAt(C)&255);return _}function ee(p,_){let C,F,B,K=[];for(let De=0;De<p.length&&!((_-=2)<0);++De)C=p.charCodeAt(De),F=C>>8,B=C%256,K.push(B),K.push(F);return K}function ie(p){return t.toByteArray(O(p))}function le(p,_,C,F){let B;for(B=0;B<F&&!(B+C>=_.length||B>=p.length);++B)_[B+C]=p[B];return B}function j(p,_){return p instanceof _||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===_.name}function re(p){return p!==p}let Me=function(){let p="0123456789abcdef",_=new Array(256);for(let C=0;C<16;++C){let F=C*16;for(let B=0;B<16;++B)_[F+B]=p[C]+p[B]}return _}();function ae(p){return typeof BigInt>"u"?$e:p}function $e(){throw new Error("BigInt not supported")}return ro}var ha,ny,Yl,ry,ro,iy,Ii,af,rI,iI,sn=Tn(()=>{ue(),fe(),de(),ha={},ny=!1,Yl={},ry=!1,ro={},iy=!1,Ii=Ok(),Ii.Buffer,Ii.SlowBuffer,Ii.INSPECT_MAX_BYTES,Ii.kMaxLength,af=Ii.Buffer,rI=Ii.INSPECT_MAX_BYTES,iI=Ii.kMaxLength}),fe=Tn(()=>{sn()}),Rk=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};t.default=n}),Ft=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let o=0;o<r.length;o++)i+=`    ${r[o].stack}
`;super(i),this.name="AggregateError",this.errors=r}};n.exports={AggregateError:e,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,i){return r.includes(i)},ArrayPrototypeIndexOf(r,i){return r.indexOf(i)},ArrayPrototypeJoin(r,i){return r.join(i)},ArrayPrototypeMap(r,i){return r.map(i)},ArrayPrototypePop(r,i){return r.pop(i)},ArrayPrototypePush(r,i){return r.push(i)},ArrayPrototypeSlice(r,i,o){return r.slice(i,o)},Error,FunctionPrototypeCall(r,i,...o){return r.call(i,...o)},FunctionPrototypeSymbolHasInstance(r,i){return Function.prototype[Symbol.hasInstance].call(r,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,i){return Object.defineProperties(r,i)},ObjectDefineProperty(r,i,o){return Object.defineProperty(r,i,o)},ObjectGetOwnPropertyDescriptor(r,i){return Object.getOwnPropertyDescriptor(r,i)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,i){return Object.setPrototypeOf(r,i)},Promise,PromisePrototypeCatch(r,i){return r.catch(i)},PromisePrototypeThen(r,i,o){return r.then(i,o)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,i){return r.test(i)},SafeSet:Set,String,StringPrototypeSlice(r,i,o){return r.slice(i,o)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,i,o){return r.set(i,o)},Boolean,Uint8Array}}),oI=Ee((t,n)=>{"use strict";ue(),fe(),de(),n.exports={format(e,...r){return e.replace(/%([sdifj])/g,function(...[i,o]){let s=r.shift();return o==="f"?s.toFixed(6):o==="j"?JSON.stringify(s):o==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}}),An=Ee((t,n)=>{"use strict";ue(),fe(),de();var{format:e,inspect:r}=oI(),{AggregateError:i}=Ft(),o=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function d(y,b){if(!y)throw new u.ERR_INTERNAL_ASSERTION(b)}function h(y){let b="",I=y.length,x=y[0]==="-"?1:0;for(;I>=x+4;I-=3)b=`_${y.slice(I-3,I)}${b}`;return`${y.slice(0,I)}${b}`}function f(y,b,I){if(typeof b=="function")return d(b.length<=I.length,`Code: ${y}; The provided arguments length (${I.length}) does not match the required ones (${b.length}).`),b(...I);let x=(b.match(/%[dfijoOs]/g)||[]).length;return d(x===I.length,`Code: ${y}; The provided arguments length (${I.length}) does not match the required ones (${x}).`),I.length===0?b:e(b,...I)}function g(y,b,I){I||(I=Error);class x extends I{constructor(...D){super(f(y,b,D))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(x.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),x.prototype.code=y,x.prototype[s]=!0,u[y]=x}function m(y){let b=c+y.name;return Object.defineProperty(y,"name",{value:b}),y}function v(y,b){if(y&&b&&y!==b){if(Array.isArray(b.errors))return b.errors.push(y),b;let I=new o([b,y],b.message);return I.code=b.code,I}return y||b}var w=class extends Error{constructor(y="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",b);super(y,b),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(y,b,I)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let x="The ";y.endsWith(" argument")?x+=`${y} `:x+=`"${y}" ${y.includes(".")?"property":"argument"} `,x+="must be ";let E=[],D=[],N=[];for(let J of b)d(typeof J=="string","All expected entries have to be of type string"),a.includes(J)?E.push(J.toLowerCase()):l.test(J)?D.push(J):(d(J!=="object",'The value "object" should be written as "Object"'),N.push(J));if(D.length>0){let J=E.indexOf("object");J!==-1&&(E.splice(E,J,1),D.push("Object"))}if(E.length>0){switch(E.length){case 1:x+=`of type ${E[0]}`;break;case 2:x+=`one of type ${E[0]} or ${E[1]}`;break;default:{let J=E.pop();x+=`one of type ${E.join(", ")}, or ${J}`}}(D.length>0||N.length>0)&&(x+=" or ")}if(D.length>0){switch(D.length){case 1:x+=`an instance of ${D[0]}`;break;case 2:x+=`an instance of ${D[0]} or ${D[1]}`;break;default:{let J=D.pop();x+=`an instance of ${D.join(", ")}, or ${J}`}}N.length>0&&(x+=" or ")}switch(N.length){case 0:break;case 1:N[0].toLowerCase()!==N[0]&&(x+="an "),x+=`${N[0]}`;break;case 2:x+=`one of ${N[0]} or ${N[1]}`;break;default:{let J=N.pop();x+=`one of ${N.join(", ")}, or ${J}`}}if(I==null)x+=`. Received ${I}`;else if(typeof I=="function"&&I.name)x+=`. Received function ${I.name}`;else if(typeof I=="object"){var W;if((W=I.constructor)!==null&&W!==void 0&&W.name)x+=`. Received an instance of ${I.constructor.name}`;else{let J=r(I,{depth:-1});x+=`. Received ${J}`}}else{let J=r(I,{colors:!1});J.length>25&&(J=`${J.slice(0,25)}...`),x+=`. Received type ${typeof I} (${J})`}return x},TypeError),g("ERR_INVALID_ARG_VALUE",(y,b,I="is invalid")=>{let x=r(b);return x.length>128&&(x=x.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${I}. Received ${x}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(y,b,I)=>{var x;let E=I!=null&&(x=I.constructor)!==null&&x!==void 0&&x.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${y} to be returned from the "${b}" function but got ${E}.`},TypeError),g("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let b,I=y.length;switch(y=(Array.isArray(y)?y:[y]).map(x=>`"${x}"`).join(" or "),I){case 1:b+=`The ${y[0]} argument`;break;case 2:b+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let x=y.pop();b+=`The ${y.join(", ")}, and ${x} arguments`}break}return`${b} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(y,b,I)=>{d(b,'Missing "range" argument');let x;if(Number.isInteger(I)&&Math.abs(I)>2**32)x=h(String(I));else if(typeof I=="bigint"){x=String(I);let E=BigInt(2)**BigInt(32);(I>E||I<-E)&&(x=h(x)),x+="n"}else x=r(I);return`The value of "${y}" is out of range. It must be ${b}. Received ${x}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),n.exports={AbortError:w,aggregateTwoErrors:m(v),hideStackFrames:m,codes:u}}),Xl=Ee((t,n)=>{"use strict";ue(),fe(),de();var{AbortController:e,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;n.exports=e,n.exports.AbortSignal=r,n.exports.default=e});function Ct(){Ct.init.call(this)}function nf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function sI(t){return t._maxListeners===void 0?Ct.defaultMaxListeners:t._maxListeners}function vS(t,n,e,r){var i,o,s,a;if(nf(e),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",n,e.listener?e.listener:e),o=t._events),s=o[n]),s===void 0)s=o[n]=e,++t._eventsCount;else if(typeof s=="function"?s=o[n]=r?[e,s]:[s,e]:r?s.unshift(e):s.push(e),(i=sI(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=n,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return t}function Nk(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yS(t,n,e){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:e},i=Nk.bind(r);return i.listener=e,r.wrapFn=i,i}function _S(t,n,e){var r=t._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):aI(i,i.length)}function bS(t){var n=this._events;if(n!==void 0){var e=n[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}function aI(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t[r];return e}var wS,CS,Ho,Hm,qm,zm,or,ES=Tn(()=>{ue(),fe(),de(),Ho=typeof Reflect=="object"?Reflect:null,Hm=Ho&&typeof Ho.apply=="function"?Ho.apply:function(t,n,e){return Function.prototype.apply.call(t,n,e)},CS=Ho&&typeof Ho.ownKeys=="function"?Ho.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},qm=Number.isNaN||function(t){return t!=t},wS=Ct,Ct.EventEmitter=Ct,Ct.prototype._events=void 0,Ct.prototype._eventsCount=0,Ct.prototype._maxListeners=void 0,zm=10,Object.defineProperty(Ct,"defaultMaxListeners",{enumerable:!0,get:function(){return zm},set:function(t){if(typeof t!="number"||t<0||qm(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");zm=t}}),Ct.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ct.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||qm(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Ct.prototype.getMaxListeners=function(){return sI(this)},Ct.prototype.emit=function(t){for(var n=[],e=1;e<arguments.length;e++)n.push(arguments[e]);var r=t==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Hm(a,this,n);else{var l=a.length,c=aI(a,l);for(e=0;e<l;++e)Hm(c[e],this,n)}return!0},Ct.prototype.addListener=function(t,n){return vS(this,t,n,!1)},Ct.prototype.on=Ct.prototype.addListener,Ct.prototype.prependListener=function(t,n){return vS(this,t,n,!0)},Ct.prototype.once=function(t,n){return nf(n),this.on(t,yS(this,t,n)),this},Ct.prototype.prependOnceListener=function(t,n){return nf(n),this.prependListener(t,yS(this,t,n)),this},Ct.prototype.removeListener=function(t,n){var e,r,i,o,s;if(nf(n),(r=this._events)===void 0)return this;if((e=r[t])===void 0)return this;if(e===n||e.listener===n)--this._eventsCount==0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,e.listener||n));else if(typeof e!="function"){for(i=-1,o=e.length-1;o>=0;o--)if(e[o]===n||e[o].listener===n){s=e[o].listener,i=o;break}if(i<0)return this;i===0?e.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(e,i),e.length===1&&(r[t]=e[0]),r.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this},Ct.prototype.off=Ct.prototype.removeListener,Ct.prototype.removeAllListeners=function(t){var n,e,r;if((e=this._events)===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var i,o=Object.keys(e);for(r=0;r<o.length;++r)(i=o[r])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=e[t])=="function")this.removeListener(t,n);else if(n!==void 0)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},Ct.prototype.listeners=function(t){return _S(this,t,!0)},Ct.prototype.rawListeners=function(t){return _S(this,t,!1)},Ct.listenerCount=function(t,n){return typeof t.listenerCount=="function"?t.listenerCount(n):bS.call(t,n)},Ct.prototype.listenerCount=bS,Ct.prototype.eventNames=function(){return this._eventsCount>0?CS(this._events):[]},or=wS,or.EventEmitter,or.defaultMaxListeners,or.init,or.listenerCount,or.EventEmitter,or.defaultMaxListeners,or.init,or.listenerCount}),oo={};pa(oo,{EventEmitter:()=>lI,default:()=>or,defaultMaxListeners:()=>cI,init:()=>uI,listenerCount:()=>dI,on:()=>fI,once:()=>hI});var lI,cI,uI,dI,fI,hI,Xo=Tn(()=>{ue(),fe(),de(),ES(),ES(),or.once=function(t,n){return new Promise((e,r)=>{function i(...s){o!==void 0&&t.removeListener("error",o),e(s)}let o;n!=="error"&&(o=s=>{t.removeListener(name,i),r(s)},t.once("error",o)),t.once(n,i)})},or.on=function(t,n){let e=[],r=[],i=null,o=!1,s={next(){return Ge(this,null,function*(){let u=e.shift();if(u)return createIterResult(u,!1);if(i){let d=Promise.reject(i);return i=null,d}return o?createIterResult(void 0,!0):new Promise((d,h)=>r.push({resolve:d,reject:h}))})},return(){return Ge(this,null,function*(){t.removeListener(n,a),t.removeListener("error",l),o=!0;for(let u of r)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)})},throw(u){i=u,t.removeListener(n,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(n,a),t.on("error",l),s;function a(...u){let d=r.shift();d?d.resolve(createIterResult(u,!1)):e.push(u)}function l(u){o=!0;let d=r.shift();d?d.reject(u):i=u,s.return()}},{EventEmitter:lI,defaultMaxListeners:cI,init:uI,listenerCount:dI,on:fI,once:hI}=or}),Wn=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=(sn(),Et(on)),{format:r,inspect:i}=oI(),{codes:{ERR_INVALID_ARG_TYPE:o}}=An(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=Ft(),c=globalThis.AbortSignal||Xl().AbortSignal,u=globalThis.AbortController||Xl().AbortController,d=Object.getPrototypeOf(function(){return Ge(this,null,function*(){})}).constructor,h=globalThis.Blob||e.Blob,f=typeof h<"u"?function(v){return v instanceof h}:function(v){return!1},g=(v,w)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new o(w,"AbortSignal",v)},m=(v,w)=>{if(typeof v!="function")throw new o(w,"Function",v)};n.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(v){let w=!1;return function(...y){w||(w=!0,v.apply(this,y))}},createDeferredPromise:function(){let v,w;return{promise:new Promise((y,b)=>{v=y,w=b}),resolve:v,reject:w}},promisify(v){return new Promise((w,y)=>{v((b,...I)=>b?y(b):w(...I))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(v){return v instanceof d},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:f,deprecate(v,w){return v},addAbortListener:(Xo(),Et(oo)).addAbortListener||function(v,w){if(v===void 0)throw new o("signal","AbortSignal",v);g(v,"signal"),m(w,"listener");let y;return v.aborted?queueMicrotask(()=>w()):(v.addEventListener("abort",w,{__proto__:null,once:!0,[s]:!0}),y=()=>{v.removeEventListener("abort",w)}),{__proto__:null,[l](){var b;(b=y)===null||b===void 0||b()}}},AbortSignalAny:c.any||function(v){if(v.length===1)return v[0];let w=new u,y=()=>w.abort();return v.forEach(b=>{g(b,"signals"),b.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{v.forEach(b=>b.removeEventListener("abort",y))},{once:!0}),w.signal}},n.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Jl=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ArrayIsArray:e,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:i,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:h,String:f,StringPrototypeToUpperCase:g,StringPrototypeTrim:m}=Ft(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:x}}=An(),{normalizeEncoding:E}=Wn(),{isAsyncFunction:D,isArrayBufferView:N}=Wn().types,W={};function J(j){return j===(j|0)}function he(j){return j===j>>>0}var L=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function X(j,re,Me){if(typeof j>"u"&&(j=Me),typeof j=="string"){if(h(L,j)===null)throw new b(re,j,Y);j=u(j,8)}return _e(j,re),j}var U=v((j,re,Me=c,ae=l)=>{if(typeof j!="number")throw new y(re,"number",j);if(!s(j))throw new I(re,"an integer",j);if(j<Me||j>ae)throw new I(re,`>= ${Me} && <= ${ae}`,j)}),ce=v((j,re,Me=-2147483648,ae=2147483647)=>{if(typeof j!="number")throw new y(re,"number",j);if(!s(j))throw new I(re,"an integer",j);if(j<Me||j>ae)throw new I(re,`>= ${Me} && <= ${ae}`,j)}),_e=v((j,re,Me=!1)=>{if(typeof j!="number")throw new y(re,"number",j);if(!s(j))throw new I(re,"an integer",j);let ae=Me?1:0,$e=4294967295;if(j<ae||j>$e)throw new I(re,`>= ${ae} && <= ${$e}`,j)});function Se(j,re){if(typeof j!="string")throw new y(re,"string",j)}function Oe(j,re,Me=void 0,ae){if(typeof j!="number")throw new y(re,"number",j);if(Me!=null&&j<Me||ae!=null&&j>ae||(Me!=null||ae!=null)&&a(j))throw new I(re,`${Me!=null?`>= ${Me}`:""}${Me!=null&&ae!=null?" && ":""}${ae!=null?`<= ${ae}`:""}`,j)}var H=v((j,re,Me)=>{if(!r(Me,j)){let ae="must be one of: "+i(o(Me,$e=>typeof $e=="string"?`'${$e}'`:f($e)),", ");throw new b(re,j,ae)}});function ve(j,re){if(typeof j!="boolean")throw new y(re,"boolean",j)}function T(j,re,Me){return j==null||!d(j,re)?Me:j[re]}var ge=v((j,re,Me=null)=>{let ae=T(Me,"allowArray",!1),$e=T(Me,"allowFunction",!1);if(!T(Me,"nullable",!1)&&j===null||!ae&&e(j)||typeof j!="object"&&(!$e||typeof j!="function"))throw new y(re,"Object",j)}),Te=v((j,re)=>{if(j!=null&&typeof j!="object"&&typeof j!="function")throw new y(re,"a dictionary",j)}),te=v((j,re,Me=0)=>{if(!e(j))throw new y(re,"Array",j);if(j.length<Me){let ae=`must be longer than ${Me}`;throw new b(re,j,ae)}});function Fe(j,re){te(j,re);for(let Me=0;Me<j.length;Me++)Se(j[Me],`${re}[${Me}]`)}function G(j,re){te(j,re);for(let Me=0;Me<j.length;Me++)ve(j[Me],`${re}[${Me}]`)}function P(j,re){te(j,re);for(let Me=0;Me<j.length;Me++){let ae=j[Me],$e=`${re}[${Me}]`;if(ae==null)throw new y($e,"AbortSignal",ae);pe(ae,$e)}}function se(j,re="signal"){if(Se(j,re),W[j]===void 0)throw W[g(j)]!==void 0?new x(j+" (signals must use all capital letters)"):new x(j)}var Q=v((j,re="buffer")=>{if(!N(j))throw new y(re,["Buffer","TypedArray","DataView"],j)});function q(j,re){let Me=E(re),ae=j.length;if(Me==="hex"&&ae%2!==0)throw new b("encoding",re,`is invalid for data of length ${ae}`)}function z(j,re="Port",Me=!0){if(typeof j!="number"&&typeof j!="string"||typeof j=="string"&&m(j).length===0||+j!==+j>>>0||j>65535||j===0&&!Me)throw new w(re,j,Me);return j|0}var pe=v((j,re)=>{if(j!==void 0&&(j===null||typeof j!="object"||!("aborted"in j)))throw new y(re,"AbortSignal",j)}),ye=v((j,re)=>{if(typeof j!="function")throw new y(re,"Function",j)}),O=v((j,re)=>{if(typeof j!="function"||D(j))throw new y(re,"Function",j)}),k=v((j,re)=>{if(j!==void 0)throw new y(re,"undefined",j)});function $(j,re,Me){if(!r(Me,j))throw new y(re,`('${i(Me,"|")}')`,j)}var ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(j,re){if(typeof j>"u"||!h(ee,j))throw new b(re,j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function le(j){if(typeof j=="string")return ie(j,"hints"),j;if(e(j)){let re=j.length,Me="";if(re===0)return Me;for(let ae=0;ae<re;ae++){let $e=j[ae];ie($e,"hints"),Me+=$e,ae!==re-1&&(Me+=", ")}return Me}throw new b("hints",j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}n.exports={isInt32:J,isUint32:he,parseFileMode:X,validateArray:te,validateStringArray:Fe,validateBooleanArray:G,validateAbortSignalArray:P,validateBoolean:ve,validateBuffer:Q,validateDictionary:Te,validateEncoding:q,validateFunction:ye,validateInt32:ce,validateInteger:U,validateNumber:Oe,validateObject:ge,validateOneOf:H,validatePlainFunction:O,validatePort:z,validateSignalName:se,validateString:Se,validateUint32:_e,validateUndefined:k,validateUnion:$,validateAbortSignal:pe,validateLinkHeaderValue:le}}),Jo=Ee((t,n)=>{ue(),fe(),de();var e=n.exports={},r,i;function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=o}catch{r=o}try{typeof clearTimeout=="function"?i=clearTimeout:i=s}catch{i=s}})();function a(w){if(r===setTimeout)return setTimeout(w,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(w,0);try{return r(w,0)}catch{try{return r.call(null,w,0)}catch{return r.call(this,w,0)}}}function l(w){if(i===clearTimeout)return clearTimeout(w);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(w);try{return i(w)}catch{try{return i.call(null,w)}catch{return i.call(this,w)}}}var c=[],u=!1,d,h=-1;function f(){!u||!d||(u=!1,d.length?c=d.concat(c):h=-1,c.length&&g())}function g(){if(!u){var w=a(f);u=!0;for(var y=c.length;y;){for(d=c,c=[];++h<y;)d&&d[h].run();h=-1,y=c.length}d=null,u=!1,l(w)}}e.nextTick=function(w){var y=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)y[b-1]=arguments[b];c.push(new m(w,y)),c.length===1&&!u&&a(g)};function m(w,y){this.fun=w,this.array=y}m.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(w){return[]},e.binding=function(w){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(w){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),Oi=Ee((t,n)=>{"use strict";ue(),fe(),de();var{SymbolAsyncIterator:e,SymbolIterator:r,SymbolFor:i}=Ft(),o=i("nodejs.stream.destroyed"),s=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),c=i("nodejs.stream.disturbed"),u=i("nodejs.webstream.isClosedPromise"),d=i("nodejs.webstream.controllerErrorFunction");function h(T,ge=!1){var Te;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!ge||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((Te=T._readableState)===null||Te===void 0?void 0:Te.readable)!==!1)&&(!T._writableState||T._readableState))}function f(T){var ge;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||((ge=T._writableState)===null||ge===void 0?void 0:ge.writable)!==!1))}function g(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function m(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function v(T){return!!(T&&!m(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function w(T){return!!(T&&!m(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function y(T){return!!(T&&!m(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function b(T){return v(T)||w(T)||y(T)}function I(T,ge){return T==null?!1:ge===!0?typeof T[e]=="function":ge===!1?typeof T[r]=="function":typeof T[e]=="function"||typeof T[r]=="function"}function x(T){if(!m(T))return null;let ge=T._writableState,Te=T._readableState,te=ge||Te;return!!(T.destroyed||T[o]||te!=null&&te.destroyed)}function E(T){if(!f(T))return null;if(T.writableEnded===!0)return!0;let ge=T._writableState;return ge!=null&&ge.errored?!1:typeof ge?.ended!="boolean"?null:ge.ended}function D(T,ge){if(!f(T))return null;if(T.writableFinished===!0)return!0;let Te=T._writableState;return Te!=null&&Te.errored?!1:typeof Te?.finished!="boolean"?null:!!(Te.finished||ge===!1&&Te.ended===!0&&Te.length===0)}function N(T){if(!h(T))return null;if(T.readableEnded===!0)return!0;let ge=T._readableState;return!ge||ge.errored?!1:typeof ge?.ended!="boolean"?null:ge.ended}function W(T,ge){if(!h(T))return null;let Te=T._readableState;return Te!=null&&Te.errored?!1:typeof Te?.endEmitted!="boolean"?null:!!(Te.endEmitted||ge===!1&&Te.ended===!0&&Te.length===0)}function J(T){return T&&T[a]!=null?T[a]:typeof T?.readable!="boolean"?null:x(T)?!1:h(T)&&T.readable&&!W(T)}function he(T){return T&&T[l]!=null?T[l]:typeof T?.writable!="boolean"?null:x(T)?!1:f(T)&&T.writable&&!E(T)}function L(T,ge){return m(T)?x(T)?!0:!(ge?.readable!==!1&&J(T)||ge?.writable!==!1&&he(T)):null}function Y(T){var ge,Te;return m(T)?T.writableErrored?T.writableErrored:(ge=(Te=T._writableState)===null||Te===void 0?void 0:Te.errored)!==null&&ge!==void 0?ge:null:null}function X(T){var ge,Te;return m(T)?T.readableErrored?T.readableErrored:(ge=(Te=T._readableState)===null||Te===void 0?void 0:Te.errored)!==null&&ge!==void 0?ge:null:null}function U(T){if(!m(T))return null;if(typeof T.closed=="boolean")return T.closed;let ge=T._writableState,Te=T._readableState;return typeof ge?.closed=="boolean"||typeof Te?.closed=="boolean"?ge?.closed||Te?.closed:typeof T._closed=="boolean"&&ce(T)?T._closed:null}function ce(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function _e(T){return typeof T._sent100=="boolean"&&ce(T)}function Se(T){var ge;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&((ge=T.req)===null||ge===void 0?void 0:ge.upgradeOrConnect)===void 0}function Oe(T){if(!m(T))return null;let ge=T._writableState,Te=T._readableState,te=ge||Te;return!te&&_e(T)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function H(T){var ge;return!!(T&&((ge=T[c])!==null&&ge!==void 0?ge:T.readableDidRead||T.readableAborted))}function ve(T){var ge,Te,te,Fe,G,P,se,Q,q,z;return!!(T&&((ge=(Te=(te=(Fe=(G=(P=T[s])!==null&&P!==void 0?P:T.readableErrored)!==null&&G!==void 0?G:T.writableErrored)!==null&&Fe!==void 0?Fe:(se=T._readableState)===null||se===void 0?void 0:se.errorEmitted)!==null&&te!==void 0?te:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&Te!==void 0?Te:(q=T._readableState)===null||q===void 0?void 0:q.errored)!==null&&ge!==void 0?ge:!((z=T._writableState)===null||z===void 0)&&z.errored))}n.exports={isDestroyed:x,kIsDestroyed:o,isDisturbed:H,kIsDisturbed:c,isErrored:ve,kIsErrored:s,isReadable:J,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:d,kIsWritable:l,isClosed:U,isDuplexNodeStream:g,isFinished:L,isIterable:I,isReadableNodeStream:h,isReadableStream:v,isReadableEnded:N,isReadableFinished:W,isReadableErrored:X,isNodeStream:m,isWebStream:b,isWritable:he,isWritableNodeStream:f,isWritableStream:w,isWritableEnded:E,isWritableFinished:D,isWritableErrored:Y,isServerRequest:Se,isServerResponse:_e,willEmitClose:Oe,isTransformStream:y}}),so=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=Jo(),{AbortError:r,codes:i}=An(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:a,once:l}=Wn(),{validateAbortSignal:c,validateFunction:u,validateObject:d,validateBoolean:h}=Jl(),{Promise:f,PromisePrototypeThen:g,SymbolDispose:m}=Ft(),{isClosed:v,isReadable:w,isReadableNodeStream:y,isReadableStream:b,isReadableFinished:I,isReadableErrored:x,isWritable:E,isWritableNodeStream:D,isWritableStream:N,isWritableFinished:W,isWritableErrored:J,isNodeStream:he,willEmitClose:L,kIsClosedPromise:Y}=Oi(),X;function U(H){return H.setHeader&&typeof H.abort=="function"}var ce=()=>{};function _e(H,ve,T){var ge,Te;if(arguments.length===2?(T=ve,ve=a):ve==null?ve=a:d(ve,"options"),u(T,"callback"),c(ve.signal,"options.signal"),T=l(T),b(H)||N(H))return Se(H,ve,T);if(!he(H))throw new o("stream",["ReadableStream","WritableStream","Stream"],H);let te=(ge=ve.readable)!==null&&ge!==void 0?ge:y(H),Fe=(Te=ve.writable)!==null&&Te!==void 0?Te:D(H),G=H._writableState,P=H._readableState,se=()=>{H.writable||z()},Q=L(H)&&y(H)===te&&D(H)===Fe,q=W(H,!1),z=()=>{q=!0,H.destroyed&&(Q=!1),!(Q&&(!H.readable||te))&&(!te||pe)&&T.call(H)},pe=I(H,!1),ye=()=>{pe=!0,H.destroyed&&(Q=!1),!(Q&&(!H.writable||Fe))&&(!Fe||q)&&T.call(H)},O=j=>{T.call(H,j)},k=v(H),$=()=>{k=!0;let j=J(H)||x(H);if(j&&typeof j!="boolean")return T.call(H,j);if(te&&!pe&&y(H,!0)&&!I(H,!1))return T.call(H,new s);if(Fe&&!q&&!W(H,!1))return T.call(H,new s);T.call(H)},ee=()=>{k=!0;let j=J(H)||x(H);if(j&&typeof j!="boolean")return T.call(H,j);T.call(H)},ie=()=>{H.req.on("finish",z)};U(H)?(H.on("complete",z),Q||H.on("abort",$),H.req?ie():H.on("request",ie)):Fe&&!G&&(H.on("end",se),H.on("close",se)),!Q&&typeof H.aborted=="boolean"&&H.on("aborted",$),H.on("end",ye),H.on("finish",z),ve.error!==!1&&H.on("error",O),H.on("close",$),k?e.nextTick($):G!=null&&G.errorEmitted||P!=null&&P.errorEmitted?Q||e.nextTick(ee):(!te&&(!Q||w(H))&&(q||E(H)===!1)||!Fe&&(!Q||E(H))&&(pe||w(H)===!1)||P&&H.req&&H.aborted)&&e.nextTick(ee);let le=()=>{T=ce,H.removeListener("aborted",$),H.removeListener("complete",z),H.removeListener("abort",$),H.removeListener("request",ie),H.req&&H.req.removeListener("finish",z),H.removeListener("end",se),H.removeListener("close",se),H.removeListener("finish",z),H.removeListener("end",ye),H.removeListener("error",O),H.removeListener("close",$)};if(ve.signal&&!k){let j=()=>{let re=T;le(),re.call(H,new r(void 0,{cause:ve.signal.reason}))};if(ve.signal.aborted)e.nextTick(j);else{X=X||Wn().addAbortListener;let re=X(ve.signal,j),Me=T;T=l((...ae)=>{re[m](),Me.apply(H,ae)})}}return le}function Se(H,ve,T){let ge=!1,Te=ce;if(ve.signal)if(Te=()=>{ge=!0,T.call(H,new r(void 0,{cause:ve.signal.reason}))},ve.signal.aborted)e.nextTick(Te);else{X=X||Wn().addAbortListener;let Fe=X(ve.signal,Te),G=T;T=l((...P)=>{Fe[m](),G.apply(H,P)})}let te=(...Fe)=>{ge||e.nextTick(()=>T.apply(H,Fe))};return g(H[Y].promise,te,te),ce}function Oe(H,ve){var T;let ge=!1;return ve===null&&(ve=a),(T=ve)!==null&&T!==void 0&&T.cleanup&&(h(ve.cleanup,"cleanup"),ge=ve.cleanup),new f((Te,te)=>{let Fe=_e(H,ve,G=>{ge&&Fe(),G?te(G):Te()})})}n.exports=_e,n.exports.finished=Oe}),ga=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=Jo(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:o}=An(),{Symbol:s}=Ft(),{kIsDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=Oi(),d=s("kDestroy"),h=s("kConstruct");function f(L,Y,X){L&&(L.stack,Y&&!Y.errored&&(Y.errored=L),X&&!X.errored&&(X.errored=L))}function g(L,Y){let X=this._readableState,U=this._writableState,ce=U||X;return U!=null&&U.destroyed||X!=null&&X.destroyed?(typeof Y=="function"&&Y(),this):(f(L,U,X),U&&(U.destroyed=!0),X&&(X.destroyed=!0),ce.constructed?m(this,L,Y):this.once(d,function(_e){m(this,r(_e,L),Y)}),this)}function m(L,Y,X){let U=!1;function ce(_e){if(U)return;U=!0;let Se=L._readableState,Oe=L._writableState;f(_e,Oe,Se),Oe&&(Oe.closed=!0),Se&&(Se.closed=!0),typeof X=="function"&&X(_e),_e?e.nextTick(v,L,_e):e.nextTick(w,L)}try{L._destroy(Y||null,ce)}catch(_e){ce(_e)}}function v(L,Y){y(L,Y),w(L)}function w(L){let Y=L._readableState,X=L._writableState;X&&(X.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(X!=null&&X.emitClose||Y!=null&&Y.emitClose)&&L.emit("close")}function y(L,Y){let X=L._readableState,U=L._writableState;U!=null&&U.errorEmitted||X!=null&&X.errorEmitted||(U&&(U.errorEmitted=!0),X&&(X.errorEmitted=!0),L.emit("error",Y))}function b(){let L=this._readableState,Y=this._writableState;L&&(L.constructed=!0,L.closed=!1,L.closeEmitted=!1,L.destroyed=!1,L.errored=null,L.errorEmitted=!1,L.reading=!1,L.ended=L.readable===!1,L.endEmitted=L.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function I(L,Y,X){let U=L._readableState,ce=L._writableState;if(ce!=null&&ce.destroyed||U!=null&&U.destroyed)return this;U!=null&&U.autoDestroy||ce!=null&&ce.autoDestroy?L.destroy(Y):Y&&(Y.stack,ce&&!ce.errored&&(ce.errored=Y),U&&!U.errored&&(U.errored=Y),X?e.nextTick(y,L,Y):y(L,Y))}function x(L,Y){if(typeof L._construct!="function")return;let X=L._readableState,U=L._writableState;X&&(X.constructed=!1),U&&(U.constructed=!1),L.once(h,Y),!(L.listenerCount(h)>1)&&e.nextTick(E,L)}function E(L){let Y=!1;function X(U){if(Y){I(L,U??new i);return}Y=!0;let ce=L._readableState,_e=L._writableState,Se=_e||ce;ce&&(ce.constructed=!0),_e&&(_e.constructed=!0),Se.destroyed?L.emit(d,U):U?I(L,U,!0):e.nextTick(D,L)}try{L._construct(U=>{e.nextTick(X,U)})}catch(U){e.nextTick(X,U)}}function D(L){L.emit(h)}function N(L){return L?.setHeader&&typeof L.abort=="function"}function W(L){L.emit("close")}function J(L,Y){L.emit("error",Y),e.nextTick(W,L)}function he(L,Y){!L||l(L)||(!Y&&!c(L)&&(Y=new o),u(L)?(L.socket=null,L.destroy(Y)):N(L)?L.abort():N(L.req)?L.req.abort():typeof L.destroy=="function"?L.destroy(Y):typeof L.close=="function"?L.close():Y?e.nextTick(J,L,Y):e.nextTick(W,L),L.destroyed||(L[a]=!0))}n.exports={construct:x,destroyer:he,destroy:g,undestroy:b,errorOrDestroy:I}}),yy=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ArrayIsArray:e,ObjectSetPrototypeOf:r}=Ft(),{EventEmitter:i}=(Xo(),Et(oo));function o(a){i.call(this,a)}r(o.prototype,i.prototype),r(o,i),o.prototype.pipe=function(a,l){let c=this;function u(w){a.writable&&a.write(w)===!1&&c.pause&&c.pause()}c.on("data",u);function d(){c.readable&&c.resume&&c.resume()}a.on("drain",d),!a._isStdio&&(!l||l.end!==!1)&&(c.on("end",f),c.on("close",g));let h=!1;function f(){h||(h=!0,a.end())}function g(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function m(w){v(),i.listenerCount(this,"error")===0&&this.emit("error",w)}s(c,"error",m),s(a,"error",m);function v(){c.removeListener("data",u),a.removeListener("drain",d),c.removeListener("end",f),c.removeListener("close",g),c.removeListener("error",m),a.removeListener("error",m),c.removeListener("end",v),c.removeListener("close",v),a.removeListener("close",v)}return c.on("end",v),c.on("close",v),a.on("close",v),a.emit("pipe",c),a};function s(a,l,c){if(typeof a.prependListener=="function")return a.prependListener(l,c);!a._events||!a._events[l]?a.on(l,c):e(a._events[l])?a._events[l].unshift(c):a._events[l]=[c,a._events[l]]}n.exports={Stream:o,prependListener:s}}),uf=Ee((t,n)=>{"use strict";ue(),fe(),de();var{SymbolDispose:e}=Ft(),{AbortError:r,codes:i}=An(),{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=Oi(),l=so(),{ERR_INVALID_ARG_TYPE:c}=i,u,d=(h,f)=>{if(typeof h!="object"||!("aborted"in h))throw new c(f,"AbortSignal",h)};n.exports.addAbortSignal=function(h,f){if(d(h,"signal"),!o(f)&&!s(f))throw new c("stream",["ReadableStream","WritableStream","Stream"],f);return n.exports.addAbortSignalNoValidate(h,f)},n.exports.addAbortSignalNoValidate=function(h,f){if(typeof h!="object"||!("aborted"in h))return f;let g=o(f)?()=>{f.destroy(new r(void 0,{cause:h.reason}))}:()=>{f[a](new r(void 0,{cause:h.reason}))};if(h.aborted)g();else{u=u||Wn().addAbortListener;let m=u(h,g);l(f,m[e])}return f}}),Pk=Ee((t,n)=>{"use strict";ue(),fe(),de();var{StringPrototypeSlice:e,SymbolIterator:r,TypedArrayPrototypeSet:i,Uint8Array:o}=Ft(),{Buffer:s}=(sn(),Et(on)),{inspect:a}=Wn();n.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=l+c.data;return u}concat(l){if(this.length===0)return s.alloc(0);let c=s.allocUnsafe(l>>>0),u=this.head,d=0;for(;u;)i(c,u.data,d),d+=u.data.length,u=u.next;return c}consume(l,c){let u=this.head.data;if(l<u.length){let d=u.slice(0,l);return this.head.data=u.slice(l),d}return l===u.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[r](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",u=this.head,d=0;do{let h=u.data;if(l>h.length)c+=h,l-=h.length;else{l===h.length?(c+=h,++d,u.next?this.head=u.next:this.head=this.tail=null):(c+=e(h,0,l),this.head=u,u.data=e(h,l));break}++d}while((u=u.next)!==null);return this.length-=d,c}_getBuffer(l){let c=s.allocUnsafe(l),u=l,d=this.head,h=0;do{let f=d.data;if(l>f.length)i(c,f,u-l),l-=f.length;else{l===f.length?(i(c,f,u-l),++h,d.next?this.head=d.next:this.head=this.tail=null):(i(c,new o(f.buffer,f.byteOffset,l),u-l),this.head=d,d.data=f.slice(l));break}++h}while((d=d.next)!==null);return this.length-=h,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return a(this,Ye(we({},c),{depth:0,customInspect:!1}))}}}),df=Ee((t,n)=>{"use strict";ue(),fe(),de();var{MathFloor:e,NumberIsInteger:r}=Ft(),{validateInteger:i}=Jl(),{ERR_INVALID_ARG_VALUE:o}=An().codes,s=16*1024,a=16;function l(h,f,g){return h.highWaterMark!=null?h.highWaterMark:f?h[g]:null}function c(h){return h?a:s}function u(h,f){i(f,"value",0),h?a=f:s=f}function d(h,f,g,m){let v=l(f,m,g);if(v!=null){if(!r(v)||v<0){let w=m?`options.${g}`:"options.highWaterMark";throw new o(w,v)}return e(v)}return c(h.objectMode)}n.exports={getHighWaterMark:d,getDefaultHighWaterMark:c,setDefaultHighWaterMark:u}}),kk=Ee((t,n)=>{ue(),fe(),de();var e=(sn(),Et(on)),r=e.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(i(e,t),t.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(s)}}),Fk=Ee(t=>{"use strict";ue(),fe(),de();var n=kk().Buffer,e=n.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var b;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(b)return;y=(""+y).toLowerCase(),b=!0}}function i(y){var b=r(y);if(typeof b!="string"&&(n.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return b||y}t.StringDecoder=o;function o(y){this.encoding=i(y);var b;switch(this.encoding){case"utf16le":this.text=h,this.end=f,b=4;break;case"utf8":this.fillLast=c,b=4;break;case"base64":this.text=g,this.end=m,b=3;break;default:this.write=v,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(b)}o.prototype.write=function(y){if(y.length===0)return"";var b,I;if(this.lastNeed){if(b=this.fillLast(y),b===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<y.length?b?b+this.text(y,I):this.text(y,I):b||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function s(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,b,I){var x=b.length-1;if(x<I)return 0;var E=s(b[x]);return E>=0?(E>0&&(y.lastNeed=E-1),E):--x<I||E===-2?0:(E=s(b[x]),E>=0?(E>0&&(y.lastNeed=E-2),E):--x<I||E===-2?0:(E=s(b[x]),E>=0?(E>0&&(E===2?E=0:y.lastNeed=E-3),E):0))}function l(y,b,I){if((b[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function c(y){var b=this.lastTotal-this.lastNeed,I=l(this,y,b);if(I!==void 0)return I;if(this.lastNeed<=y.length)return y.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,b,0,y.length),this.lastNeed-=y.length}function u(y,b){var I=a(this,y,b);if(!this.lastNeed)return y.toString("utf8",b);this.lastTotal=I;var x=y.length-(I-this.lastNeed);return y.copy(this.lastChar,0,x),y.toString("utf8",b,x)}function d(y){var b=y&&y.length?this.write(y):"";return this.lastNeed?b+"\uFFFD":b}function h(y,b){if((y.length-b)%2===0){var I=y.toString("utf16le",b);if(I){var x=I.charCodeAt(I.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",b,y.length-1)}function f(y){var b=y&&y.length?this.write(y):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,I)}return b}function g(y,b){var I=(y.length-b)%3;return I===0?y.toString("base64",b):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",b,y.length-I))}function m(y){var b=y&&y.length?this.write(y):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function v(y){return y.toString(this.encoding)}function w(y){return y&&y.length?this.write(y):""}}),pI=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=Jo(),{PromisePrototypeThen:r,SymbolAsyncIterator:i,SymbolIterator:o}=Ft(),{Buffer:s}=(sn(),Et(on)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=An().codes;function c(u,d,h){let f;if(typeof d=="string"||d instanceof s)return new u(Ye(we({objectMode:!0},h),{read(){this.push(d),this.push(null)}}));let g;if(d&&d[i])g=!0,f=d[i]();else if(d&&d[o])g=!1,f=d[o]();else throw new a("iterable",["Iterable"],d);let m=new u(we({objectMode:!0,highWaterMark:1},h)),v=!1;m._read=function(){v||(v=!0,y())},m._destroy=function(b,I){r(w(b),()=>e.nextTick(I,b),x=>e.nextTick(I,x||b))};function w(b){return Ge(this,null,function*(){let I=b!=null,x=typeof f.throw=="function";if(I&&x){let{value:E,done:D}=yield f.throw(b);if(yield E,D)return}if(typeof f.return=="function"){let{value:E}=yield f.return();yield E}})}function y(){return Ge(this,null,function*(){for(;;){try{let{value:b,done:I}=g?yield f.next():f.next();if(I)m.push(null);else{let x=b&&typeof b.then=="function"?yield b:b;if(x===null)throw v=!1,new l;if(m.push(x))continue;v=!1}}catch(b){m.destroy(b)}break}})}return m}n.exports=c}),ff=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=Jo(),{ArrayPrototypeIndexOf:r,NumberIsInteger:i,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:d,SymbolAsyncDispose:h,SymbolAsyncIterator:f,Symbol:g}=Ft();n.exports=ae,ae.ReadableState=Me;var{EventEmitter:m}=(Xo(),Et(oo)),{Stream:v,prependListener:w}=yy(),{Buffer:y}=(sn(),Et(on)),{addAbortSignal:b}=uf(),I=so(),x=Wn().debuglog("stream",S=>{x=S}),E=Pk(),D=ga(),{getHighWaterMark:N,getDefaultHighWaterMark:W}=df(),{aggregateTwoErrors:J,codes:{ERR_INVALID_ARG_TYPE:he,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:X,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:U},AbortError:ce}=An(),{validateObject:_e}=Jl(),Se=g("kPaused"),{StringDecoder:Oe}=Fk(),H=pI();c(ae.prototype,v.prototype),c(ae,v);var ve=()=>{},{errorOrDestroy:T}=D,ge=1,Te=2,te=4,Fe=8,G=16,P=32,se=64,Q=128,q=256,z=512,pe=1024,ye=2048,O=4096,k=8192,$=16384,ee=32768,ie=65536,le=1<<17,j=1<<18;function re(S){return{enumerable:!1,get(){return(this.state&S)!==0},set(M){M?this.state|=S:this.state&=~S}}}a(Me.prototype,{objectMode:re(ge),ended:re(Te),endEmitted:re(te),reading:re(Fe),constructed:re(G),sync:re(P),needReadable:re(se),emittedReadable:re(Q),readableListening:re(q),resumeScheduled:re(z),errorEmitted:re(pe),emitClose:re(ye),autoDestroy:re(O),destroyed:re(k),closed:re($),closeEmitted:re(ee),multiAwaitDrain:re(ie),readingMore:re(le),dataEmitted:re(j)});function Me(S,M,xe){typeof xe!="boolean"&&(xe=M instanceof Ti()),this.state=ye|O|G|P,S&&S.objectMode&&(this.state|=ge),xe&&S&&S.readableObjectMode&&(this.state|=ge),this.highWaterMark=S?N(this,S,"readableHighWaterMark",xe):W(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[Se]=null,S&&S.emitClose===!1&&(this.state&=~ye),S&&S.autoDestroy===!1&&(this.state&=~O),this.errored=null,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,S&&S.encoding&&(this.decoder=new Oe(S.encoding),this.encoding=S.encoding)}function ae(S){if(!(this instanceof ae))return new ae(S);let M=this instanceof Ti();this._readableState=new Me(S,this,M),S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&!M&&b(S.signal,this)),v.call(this,S),D.construct(this,()=>{this._readableState.needReadable&&ut(this,this._readableState)})}ae.prototype.destroy=D.destroy,ae.prototype._undestroy=D.undestroy,ae.prototype._destroy=function(S,M){M(S)},ae.prototype[m.captureRejectionSymbol]=function(S){this.destroy(S)},ae.prototype[h]=function(){let S;return this.destroyed||(S=this.readableEnded?null:new ce,this.destroy(S)),new u((M,xe)=>I(this,ke=>ke&&ke!==S?xe(ke):M(null)))},ae.prototype.push=function(S,M){return $e(this,S,M,!1)},ae.prototype.unshift=function(S,M){return $e(this,S,M,!0)};function $e(S,M,xe,ke){x("readableAddChunk",M);let ze=S._readableState,un;if((ze.state&ge)===0&&(typeof M=="string"?(xe=xe||ze.defaultEncoding,ze.encoding!==xe&&(ke&&ze.encoding?M=y.from(M,xe).toString(ze.encoding):(M=y.from(M,xe),xe=""))):M instanceof y?xe="":v._isUint8Array(M)?(M=v._uint8ArrayToBuffer(M),xe=""):M!=null&&(un=new he("chunk",["string","Buffer","Uint8Array"],M))),un)T(S,un);else if(M===null)ze.state&=~Fe,B(S,ze);else if((ze.state&ge)!==0||M&&M.length>0)if(ke)if((ze.state&te)!==0)T(S,new U);else{if(ze.destroyed||ze.errored)return!1;p(S,ze,M,!0)}else if(ze.ended)T(S,new X);else{if(ze.destroyed||ze.errored)return!1;ze.state&=~Fe,ze.decoder&&!xe?(M=ze.decoder.write(M),ze.objectMode||M.length!==0?p(S,ze,M,!1):ut(S,ze)):p(S,ze,M,!1)}else ke||(ze.state&=~Fe,ut(S,ze));return!ze.ended&&(ze.length<ze.highWaterMark||ze.length===0)}function p(S,M,xe,ke){M.flowing&&M.length===0&&!M.sync&&S.listenerCount("data")>0?((M.state&ie)!==0?M.awaitDrainWriters.clear():M.awaitDrainWriters=null,M.dataEmitted=!0,S.emit("data",xe)):(M.length+=M.objectMode?1:xe.length,ke?M.buffer.unshift(xe):M.buffer.push(xe),(M.state&se)!==0&&K(S)),ut(S,M)}ae.prototype.isPaused=function(){let S=this._readableState;return S[Se]===!0||S.flowing===!1},ae.prototype.setEncoding=function(S){let M=new Oe(S);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;let xe=this._readableState.buffer,ke="";for(let ze of xe)ke+=M.write(ze);return xe.clear(),ke!==""&&xe.push(ke),this._readableState.length=ke.length,this};var _=1073741824;function C(S){if(S>_)throw new Y("size","<= 1GiB",S);return S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++,S}function F(S,M){return S<=0||M.length===0&&M.ended?0:(M.state&ge)!==0?1:o(S)?M.flowing&&M.length?M.buffer.first().length:M.length:S<=M.length?S:M.ended?M.length:0}ae.prototype.read=function(S){x("read",S),S===void 0?S=NaN:i(S)||(S=s(S,10));let M=this._readableState,xe=S;if(S>M.highWaterMark&&(M.highWaterMark=C(S)),S!==0&&(M.state&=~Q),S===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return x("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?Of(this):K(this),null;if(S=F(S,M),S===0&&M.ended)return M.length===0&&Of(this),null;let ke=(M.state&se)!==0;if(x("need readable",ke),(M.length===0||M.length-S<M.highWaterMark)&&(ke=!0,x("length less than watermark",ke)),M.ended||M.reading||M.destroyed||M.errored||!M.constructed)ke=!1,x("reading, ended or constructing",ke);else if(ke){x("do read"),M.state|=Fe|P,M.length===0&&(M.state|=se);try{this._read(M.highWaterMark)}catch(un){T(this,un)}M.state&=~P,M.reading||(S=F(xe,M))}let ze;return S>0?ze=Oy(S,M):ze=null,ze===null?(M.needReadable=M.length<=M.highWaterMark,S=0):(M.length-=S,M.multiAwaitDrain?M.awaitDrainWriters.clear():M.awaitDrainWriters=null),M.length===0&&(M.ended||(M.needReadable=!0),xe!==S&&M.ended&&Of(this)),ze!==null&&!M.errorEmitted&&!M.closeEmitted&&(M.dataEmitted=!0,this.emit("data",ze)),ze};function B(S,M){if(x("onEofChunk"),!M.ended){if(M.decoder){let xe=M.decoder.end();xe&&xe.length&&(M.buffer.push(xe),M.length+=M.objectMode?1:xe.length)}M.ended=!0,M.sync?K(S):(M.needReadable=!1,M.emittedReadable=!0,De(S))}}function K(S){let M=S._readableState;x("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(x("emitReadable",M.flowing),M.emittedReadable=!0,e.nextTick(De,S))}function De(S){let M=S._readableState;x("emitReadable_",M.destroyed,M.length,M.ended),!M.destroyed&&!M.errored&&(M.length||M.ended)&&(S.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,Ty(S)}function ut(S,M){!M.readingMore&&M.constructed&&(M.readingMore=!0,e.nextTick(_t,S,M))}function _t(S,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){let xe=M.length;if(x("maybeReadMore read 0"),S.read(0),xe===M.length)break}M.readingMore=!1}ae.prototype._read=function(S){throw new L("_read()")},ae.prototype.pipe=function(S,M){let xe=this,ke=this._readableState;ke.pipes.length===1&&(ke.multiAwaitDrain||(ke.multiAwaitDrain=!0,ke.awaitDrainWriters=new d(ke.awaitDrainWriters?[ke.awaitDrainWriters]:[]))),ke.pipes.push(S),x("pipe count=%d opts=%j",ke.pipes.length,M);let ze=(!M||M.end!==!1)&&S!==e.stdout&&S!==e.stderr?sr:wa;ke.endEmitted?e.nextTick(ze):xe.once("end",ze),S.on("unpipe",un);function un(fo,ni){x("onunpipe"),fo===xe&&ni&&ni.hasUnpiped===!1&&(ni.hasUnpiped=!0,HD())}function sr(){x("onend"),S.end()}let uo,Ny=!1;function HD(){x("cleanup"),S.removeListener("close",Pf),S.removeListener("finish",kf),uo&&S.removeListener("drain",uo),S.removeListener("error",Nf),S.removeListener("unpipe",un),xe.removeListener("end",sr),xe.removeListener("end",wa),xe.removeListener("data",ky),Ny=!0,uo&&ke.awaitDrainWriters&&(!S._writableState||S._writableState.needDrain)&&uo()}function Py(){Ny||(ke.pipes.length===1&&ke.pipes[0]===S?(x("false write response, pause",0),ke.awaitDrainWriters=S,ke.multiAwaitDrain=!1):ke.pipes.length>1&&ke.pipes.includes(S)&&(x("false write response, pause",ke.awaitDrainWriters.size),ke.awaitDrainWriters.add(S)),xe.pause()),uo||(uo=Dt(xe,S),S.on("drain",uo))}xe.on("data",ky);function ky(fo){x("ondata");let ni=S.write(fo);x("dest.write",ni),ni===!1&&Py()}function Nf(fo){if(x("onerror",fo),wa(),S.removeListener("error",Nf),S.listenerCount("error")===0){let ni=S._writableState||S._readableState;ni&&!ni.errorEmitted?T(S,fo):S.emit("error",fo)}}w(S,"error",Nf);function Pf(){S.removeListener("finish",kf),wa()}S.once("close",Pf);function kf(){x("onfinish"),S.removeListener("close",Pf),wa()}S.once("finish",kf);function wa(){x("unpipe"),xe.unpipe(S)}return S.emit("pipe",xe),S.writableNeedDrain===!0?Py():ke.flowing||(x("pipe resume"),xe.resume()),S};function Dt(S,M){return function(){let xe=S._readableState;xe.awaitDrainWriters===M?(x("pipeOnDrain",1),xe.awaitDrainWriters=null):xe.multiAwaitDrain&&(x("pipeOnDrain",xe.awaitDrainWriters.size),xe.awaitDrainWriters.delete(M)),(!xe.awaitDrainWriters||xe.awaitDrainWriters.size===0)&&S.listenerCount("data")&&S.resume()}}ae.prototype.unpipe=function(S){let M=this._readableState,xe={hasUnpiped:!1};if(M.pipes.length===0)return this;if(!S){let ze=M.pipes;M.pipes=[],this.pause();for(let un=0;un<ze.length;un++)ze[un].emit("unpipe",this,{hasUnpiped:!1});return this}let ke=r(M.pipes,S);return ke===-1?this:(M.pipes.splice(ke,1),M.pipes.length===0&&this.pause(),S.emit("unpipe",this,xe),this)},ae.prototype.on=function(S,M){let xe=v.prototype.on.call(this,S,M),ke=this._readableState;return S==="data"?(ke.readableListening=this.listenerCount("readable")>0,ke.flowing!==!1&&this.resume()):S==="readable"&&!ke.endEmitted&&!ke.readableListening&&(ke.readableListening=ke.needReadable=!0,ke.flowing=!1,ke.emittedReadable=!1,x("on readable",ke.length,ke.reading),ke.length?K(this):ke.reading||e.nextTick(Lt,this)),xe},ae.prototype.addListener=ae.prototype.on,ae.prototype.removeListener=function(S,M){let xe=v.prototype.removeListener.call(this,S,M);return S==="readable"&&e.nextTick(yt,this),xe},ae.prototype.off=ae.prototype.removeListener,ae.prototype.removeAllListeners=function(S){let M=v.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&e.nextTick(yt,this),M};function yt(S){let M=S._readableState;M.readableListening=S.listenerCount("readable")>0,M.resumeScheduled&&M[Se]===!1?M.flowing=!0:S.listenerCount("data")>0?S.resume():M.readableListening||(M.flowing=null)}function Lt(S){x("readable nexttick read 0"),S.read(0)}ae.prototype.resume=function(){let S=this._readableState;return S.flowing||(x("resume"),S.flowing=!S.readableListening,jD(this,S)),S[Se]=!1,this};function jD(S,M){M.resumeScheduled||(M.resumeScheduled=!0,e.nextTick(VD,S,M))}function VD(S,M){x("resume",M.reading),M.reading||S.read(0),M.resumeScheduled=!1,S.emit("resume"),Ty(S),M.flowing&&!M.reading&&S.read(0)}ae.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Se]=!0,this};function Ty(S){let M=S._readableState;for(x("flow",M.flowing);M.flowing&&S.read()!==null;);}ae.prototype.wrap=function(S){let M=!1;S.on("data",ke=>{!this.push(ke)&&S.pause&&(M=!0,S.pause())}),S.on("end",()=>{this.push(null)}),S.on("error",ke=>{T(this,ke)}),S.on("close",()=>{this.destroy()}),S.on("destroy",()=>{this.destroy()}),this._read=()=>{M&&S.resume&&(M=!1,S.resume())};let xe=l(S);for(let ke=1;ke<xe.length;ke++){let ze=xe[ke];this[ze]===void 0&&typeof S[ze]=="function"&&(this[ze]=S[ze].bind(S))}return this},ae.prototype[f]=function(){return Ay(this)},ae.prototype.iterator=function(S){return S!==void 0&&_e(S,"options"),Ay(this,S)};function Ay(S,M){typeof S.read!="function"&&(S=ae.wrap(S,{objectMode:!0}));let xe=BD(S,M);return xe.stream=S,xe}function BD(S,M){return ri(this,null,function*(){let xe=ve;function ke(sr){this===S?(xe(),xe=ve):xe=sr}S.on("readable",ke);let ze,un=I(S,{writable:!1},sr=>{ze=sr?J(ze,sr):null,xe(),xe=ve});try{for(;;){let sr=S.destroyed?null:S.read();if(sr!==null)yield sr;else{if(ze)throw ze;if(ze===null)return;yield new wn(new u(ke))}}}catch(sr){throw ze=J(ze,sr),ze}finally{(ze||M?.destroyOnReturn!==!1)&&(ze===void 0||S._readableState.autoDestroy)?D.destroyer(S,null):(S.off("readable",ke),un())}})}a(ae.prototype,{readable:{__proto__:null,get(){let S=this._readableState;return!!S&&S.readable!==!1&&!S.destroyed&&!S.errorEmitted&&!S.endEmitted},set(S){this._readableState&&(this._readableState.readable=!!S)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(S){this._readableState&&(this._readableState.destroyed=S)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(Me.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Se]!==!1},set(S){this[Se]=!!S}}}),ae._fromList=Oy;function Oy(S,M){if(M.length===0)return null;let xe;return M.objectMode?xe=M.buffer.shift():!S||S>=M.length?(M.decoder?xe=M.buffer.join(""):M.buffer.length===1?xe=M.buffer.first():xe=M.buffer.concat(M.length),M.buffer.clear()):xe=M.buffer.consume(S,M.decoder),xe}function Of(S){let M=S._readableState;x("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,e.nextTick(UD,M,S))}function UD(S,M){if(x("endReadableNT",S.endEmitted,S.length),!S.errored&&!S.closeEmitted&&!S.endEmitted&&S.length===0){if(S.endEmitted=!0,M.emit("end"),M.writable&&M.allowHalfOpen===!1)e.nextTick($D,M);else if(S.autoDestroy){let xe=M._writableState;(!xe||xe.autoDestroy&&(xe.finished||xe.writable===!1))&&M.destroy()}}}function $D(S){S.writable&&!S.writableEnded&&!S.destroyed&&S.end()}ae.from=function(S,M){return H(ae,S,M)};var Rf;function Ry(){return Rf===void 0&&(Rf={}),Rf}ae.fromWeb=function(S,M){return Ry().newStreamReadableFromReadableStream(S,M)},ae.toWeb=function(S,M){return Ry().newReadableStreamFromStreamReadable(S,M)},ae.wrap=function(S,M){var xe,ke;return new ae(Ye(we({objectMode:(xe=(ke=S.readableObjectMode)!==null&&ke!==void 0?ke:S.objectMode)!==null&&xe!==void 0?xe:!0},M),{destroy(ze,un){D.destroyer(S,ze),un(ze)}})).wrap(S)}}),_y=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=Jo(),{ArrayPrototypeSlice:r,Error:i,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:d}=Ft();n.exports=_e,_e.WritableState=U;var{EventEmitter:h}=(Xo(),Et(oo)),f=yy().Stream,{Buffer:g}=(sn(),Et(on)),m=ga(),{addAbortSignal:v}=uf(),{getHighWaterMark:w,getDefaultHighWaterMark:y}=df(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:D,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:J,ERR_UNKNOWN_ENCODING:he}=An().codes,{errorOrDestroy:L}=m;l(_e.prototype,f.prototype),l(_e,f);function Y(){}var X=u("kOnFinished");function U(O,k,$){typeof $!="boolean"&&($=k instanceof Ti()),this.objectMode=!!(O&&O.objectMode),$&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?w(this,O,"writableHighWaterMark",$):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ee=!!(O&&O.decodeStrings===!1);this.decodeStrings=!ee,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=T.bind(void 0,k),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ce(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function ce(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}U.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},s(U.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _e(O){let k=this instanceof Ti();if(!k&&!o(_e,this))return new _e(O);this._writableState=new U(O,this,k),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&v(O.signal,this)),f.call(this,O),m.construct(this,()=>{let $=this._writableState;$.writing||Fe(this,$),Q(this,$)})}s(_e,d,{__proto__:null,value:function(O){return o(this,O)?!0:this!==_e?!1:O&&O._writableState instanceof U}}),_e.prototype.pipe=function(){L(this,new E)};function Se(O,k,$,ee){let ie=O._writableState;if(typeof $=="function")ee=$,$=ie.defaultEncoding;else{if(!$)$=ie.defaultEncoding;else if($!=="buffer"&&!g.isEncoding($))throw new he($);typeof ee!="function"&&(ee=Y)}if(k===null)throw new W;if(!ie.objectMode)if(typeof k=="string")ie.decodeStrings!==!1&&(k=g.from(k,$),$="buffer");else if(k instanceof g)$="buffer";else if(f._isUint8Array(k))k=f._uint8ArrayToBuffer(k),$="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],k);let le;return ie.ending?le=new J:ie.destroyed&&(le=new D("write")),le?(e.nextTick(ee,le),L(O,le,!0),le):(ie.pendingcb++,Oe(O,ie,k,$,ee))}_e.prototype.write=function(O,k,$){return Se(this,O,k,$)===!0},_e.prototype.cork=function(){this._writableState.corked++},_e.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||Fe(this,O))},_e.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=c(O)),!g.isEncoding(O))throw new he(O);return this._writableState.defaultEncoding=O,this};function Oe(O,k,$,ee,ie){let le=k.objectMode?1:$.length;k.length+=le;let j=k.length<k.highWaterMark;return j||(k.needDrain=!0),k.writing||k.corked||k.errored||!k.constructed?(k.buffered.push({chunk:$,encoding:ee,callback:ie}),k.allBuffers&&ee!=="buffer"&&(k.allBuffers=!1),k.allNoop&&ie!==Y&&(k.allNoop=!1)):(k.writelen=le,k.writecb=ie,k.writing=!0,k.sync=!0,O._write($,ee,k.onwrite),k.sync=!1),j&&!k.errored&&!k.destroyed}function H(O,k,$,ee,ie,le,j){k.writelen=ee,k.writecb=j,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new D("write")):$?O._writev(ie,k.onwrite):O._write(ie,le,k.onwrite),k.sync=!1}function ve(O,k,$,ee){--k.pendingcb,ee($),te(k),L(O,$)}function T(O,k){let $=O._writableState,ee=$.sync,ie=$.writecb;if(typeof ie!="function"){L(O,new x);return}$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0,k?(k.stack,$.errored||($.errored=k),O._readableState&&!O._readableState.errored&&(O._readableState.errored=k),ee?e.nextTick(ve,O,$,k,ie):ve(O,$,k,ie)):($.buffered.length>$.bufferedIndex&&Fe(O,$),ee?$.afterWriteTickInfo!==null&&$.afterWriteTickInfo.cb===ie?$.afterWriteTickInfo.count++:($.afterWriteTickInfo={count:1,cb:ie,stream:O,state:$},e.nextTick(ge,$.afterWriteTickInfo)):Te(O,$,1,ie))}function ge({stream:O,state:k,count:$,cb:ee}){return k.afterWriteTickInfo=null,Te(O,k,$,ee)}function Te(O,k,$,ee){for(!k.ending&&!O.destroyed&&k.length===0&&k.needDrain&&(k.needDrain=!1,O.emit("drain"));$-- >0;)k.pendingcb--,ee();k.destroyed&&te(k),Q(O,k)}function te(O){if(O.writing)return;for(let ie=O.bufferedIndex;ie<O.buffered.length;++ie){var k;let{chunk:le,callback:j}=O.buffered[ie],re=O.objectMode?1:le.length;O.length-=re,j((k=O.errored)!==null&&k!==void 0?k:new D("write"))}let $=O[X].splice(0);for(let ie=0;ie<$.length;ie++){var ee;$[ie]((ee=O.errored)!==null&&ee!==void 0?ee:new D("end"))}ce(O)}function Fe(O,k){if(k.corked||k.bufferProcessing||k.destroyed||!k.constructed)return;let{buffered:$,bufferedIndex:ee,objectMode:ie}=k,le=$.length-ee;if(!le)return;let j=ee;if(k.bufferProcessing=!0,le>1&&O._writev){k.pendingcb-=le-1;let re=k.allNoop?Y:ae=>{for(let $e=j;$e<$.length;++$e)$[$e].callback(ae)},Me=k.allNoop&&j===0?$:r($,j);Me.allBuffers=k.allBuffers,H(O,k,!0,k.length,Me,"",re),ce(k)}else{do{let{chunk:re,encoding:Me,callback:ae}=$[j];$[j++]=null;let $e=ie?1:re.length;H(O,k,!1,$e,re,Me,ae)}while(j<$.length&&!k.writing);j===$.length?ce(k):j>256?($.splice(0,j),k.bufferedIndex=0):k.bufferedIndex=j}k.bufferProcessing=!1}_e.prototype._write=function(O,k,$){if(this._writev)this._writev([{chunk:O,encoding:k}],$);else throw new I("_write()")},_e.prototype._writev=null,_e.prototype.end=function(O,k,$){let ee=this._writableState;typeof O=="function"?($=O,O=null,k=null):typeof k=="function"&&($=k,k=null);let ie;if(O!=null){let le=Se(this,O,k);le instanceof i&&(ie=le)}return ee.corked&&(ee.corked=1,this.uncork()),ie||(!ee.errored&&!ee.ending?(ee.ending=!0,Q(this,ee,!0),ee.ended=!0):ee.finished?ie=new N("end"):ee.destroyed&&(ie=new D("end"))),typeof $=="function"&&(ie||ee.finished?e.nextTick($,ie):ee[X].push($)),this};function G(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function P(O,k){let $=!1;function ee(ie){if($){L(O,ie??x());return}if($=!0,k.pendingcb--,ie){let le=k[X].splice(0);for(let j=0;j<le.length;j++)le[j](ie);L(O,ie,k.sync)}else G(k)&&(k.prefinished=!0,O.emit("prefinish"),k.pendingcb++,e.nextTick(q,O,k))}k.sync=!0,k.pendingcb++;try{O._final(ee)}catch(ie){ee(ie)}k.sync=!1}function se(O,k){!k.prefinished&&!k.finalCalled&&(typeof O._final=="function"&&!k.destroyed?(k.finalCalled=!0,P(O,k)):(k.prefinished=!0,O.emit("prefinish")))}function Q(O,k,$){G(k)&&(se(O,k),k.pendingcb===0&&($?(k.pendingcb++,e.nextTick((ee,ie)=>{G(ie)?q(ee,ie):ie.pendingcb--},O,k)):G(k)&&(k.pendingcb++,q(O,k))))}function q(O,k){k.pendingcb--,k.finished=!0;let $=k[X].splice(0);for(let ee=0;ee<$.length;ee++)$[ee]();if(O.emit("finish"),k.autoDestroy){let ee=O._readableState;(!ee||ee.autoDestroy&&(ee.endEmitted||ee.readable===!1))&&O.destroy()}}a(_e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var z=m.destroy;_e.prototype.destroy=function(O,k){let $=this._writableState;return!$.destroyed&&($.bufferedIndex<$.buffered.length||$[X].length)&&e.nextTick(te,$),z.call(this,O,k),this},_e.prototype._undestroy=m.undestroy,_e.prototype._destroy=function(O,k){k(O)},_e.prototype[h.captureRejectionSymbol]=function(O){this.destroy(O)};var pe;function ye(){return pe===void 0&&(pe={}),pe}_e.fromWeb=function(O,k){return ye().newStreamWritableFromWritableStream(O,k)},_e.toWeb=function(O){return ye().newWritableStreamFromStreamWritable(O)}}),Lk=Ee((t,n)=>{ue(),fe(),de();var e=Jo(),r=(sn(),Et(on)),{isReadable:i,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u,isReadableStream:d,isWritableStream:h}=Oi(),f=so(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:v}}=An(),{destroyer:w}=ga(),y=Ti(),b=ff(),I=_y(),{createDeferredPromise:x}=Wn(),E=pI(),D=globalThis.Blob||r.Blob,N=typeof D<"u"?function(X){return X instanceof D}:function(X){return!1},W=globalThis.AbortController||Xl().AbortController,{FunctionPrototypeCall:J}=Ft(),he=class extends y{constructor(X){super(X),X?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),X?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};n.exports=function X(U,ce){if(u(U))return U;if(l(U))return Y({readable:U});if(c(U))return Y({writable:U});if(a(U))return Y({writable:!1,readable:!1});if(d(U))return Y({readable:b.fromWeb(U)});if(h(U))return Y({writable:I.fromWeb(U)});if(typeof U=="function"){let{value:Se,write:Oe,final:H,destroy:ve}=L(U);if(s(Se))return E(he,Se,{objectMode:!0,write:Oe,final:H,destroy:ve});let T=Se?.then;if(typeof T=="function"){let ge,Te=J(T,Se,te=>{if(te!=null)throw new v("nully","body",te)},te=>{w(ge,te)});return ge=new he({objectMode:!0,readable:!1,write:Oe,final(te){H(()=>Ge(null,null,function*(){try{yield Te,e.nextTick(te,null)}catch(Fe){e.nextTick(te,Fe)}}))},destroy:ve})}throw new v("Iterable, AsyncIterable or AsyncFunction",ce,Se)}if(N(U))return X(U.arrayBuffer());if(s(U))return E(he,U,{objectMode:!0,writable:!1});if(d(U?.readable)&&h(U?.writable))return he.fromWeb(U);if(typeof U?.writable=="object"||typeof U?.readable=="object"){let Se=U!=null&&U.readable?l(U?.readable)?U?.readable:X(U.readable):void 0,Oe=U!=null&&U.writable?c(U?.writable)?U?.writable:X(U.writable):void 0;return Y({readable:Se,writable:Oe})}let _e=U?.then;if(typeof _e=="function"){let Se;return J(_e,U,Oe=>{Oe!=null&&Se.push(Oe),Se.push(null)},Oe=>{w(Se,Oe)}),Se=new he({objectMode:!0,writable:!1,read(){}})}throw new m(ce,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],U)};function L(X){let{promise:U,resolve:ce}=x(),_e=new W,Se=_e.signal;return{value:X(function(){return ri(this,null,function*(){for(;;){let Oe=U;U=null;let{chunk:H,done:ve,cb:T}=yield new wn(Oe);if(e.nextTick(T),ve)return;if(Se.aborted)throw new g(void 0,{cause:Se.reason});({promise:U,resolve:ce}=x()),yield H}})}(),{signal:Se}),write(Oe,H,ve){let T=ce;ce=null,T({chunk:Oe,done:!1,cb:ve})},final(Oe){let H=ce;ce=null,H({done:!0,cb:Oe})},destroy(Oe,H){_e.abort(),H(Oe)}}}function Y(X){let U=X.readable&&typeof X.readable.read!="function"?b.wrap(X.readable):X.readable,ce=X.writable,_e=!!i(U),Se=!!o(ce),Oe,H,ve,T,ge;function Te(te){let Fe=T;T=null,Fe?Fe(te):te&&ge.destroy(te)}return ge=new he({readableObjectMode:!!(U!=null&&U.readableObjectMode),writableObjectMode:!!(ce!=null&&ce.writableObjectMode),readable:_e,writable:Se}),Se&&(f(ce,te=>{Se=!1,te&&w(U,te),Te(te)}),ge._write=function(te,Fe,G){ce.write(te,Fe)?G():Oe=G},ge._final=function(te){ce.end(),H=te},ce.on("drain",function(){if(Oe){let te=Oe;Oe=null,te()}}),ce.on("finish",function(){if(H){let te=H;H=null,te()}})),_e&&(f(U,te=>{_e=!1,te&&w(U,te),Te(te)}),U.on("readable",function(){if(ve){let te=ve;ve=null,te()}}),U.on("end",function(){ge.push(null)}),ge._read=function(){for(;;){let te=U.read();if(te===null){ve=ge._read;return}if(!ge.push(te))return}}),ge._destroy=function(te,Fe){!te&&T!==null&&(te=new g),ve=null,Oe=null,H=null,T===null?Fe(te):(T=Fe,w(ce,te),w(U,te))},ge}}),Ti=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:i,ObjectSetPrototypeOf:o}=Ft();n.exports=l;var s=ff(),a=_y();o(l.prototype,s.prototype),o(l,s);{let h=i(a.prototype);for(let f=0;f<h.length;f++){let g=h[f];l.prototype[g]||(l.prototype[g]=a.prototype[g])}}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(l.prototype,{writable:we({__proto__:null},r(a.prototype,"writable")),writableHighWaterMark:we({__proto__:null},r(a.prototype,"writableHighWaterMark")),writableObjectMode:we({__proto__:null},r(a.prototype,"writableObjectMode")),writableBuffer:we({__proto__:null},r(a.prototype,"writableBuffer")),writableLength:we({__proto__:null},r(a.prototype,"writableLength")),writableFinished:we({__proto__:null},r(a.prototype,"writableFinished")),writableCorked:we({__proto__:null},r(a.prototype,"writableCorked")),writableEnded:we({__proto__:null},r(a.prototype,"writableEnded")),writableNeedDrain:we({__proto__:null},r(a.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});var c;function u(){return c===void 0&&(c={}),c}l.fromWeb=function(h,f){return u().newStreamDuplexFromReadableWritablePair(h,f)},l.toWeb=function(h){return u().newReadableWritablePairFromDuplex(h)};var d;l.from=function(h){return d||(d=Lk()),d(h,"body")}}),gI=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ObjectSetPrototypeOf:e,Symbol:r}=Ft();n.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=An().codes,o=Ti(),{getHighWaterMark:s}=df();e(l.prototype,o.prototype),e(l,o);var a=r("kCallback");function l(d){if(!(this instanceof l))return new l(d);let h=d?s(this,d,"readableHighWaterMark",!0):null;h===0&&(d=Ye(we({},d),{highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:d.writableHighWaterMark||0})),o.call(this,d),this._readableState.sync=!1,this[a]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",u)}function c(d){typeof this._flush=="function"&&!this.destroyed?this._flush((h,f)=>{if(h){d?d(h):this.destroy(h);return}f!=null&&this.push(f),this.push(null),d&&d()}):(this.push(null),d&&d())}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(d,h,f){throw new i("_transform()")},l.prototype._write=function(d,h,f){let g=this._readableState,m=this._writableState,v=g.length;this._transform(d,h,(w,y)=>{if(w){f(w);return}y!=null&&this.push(y),m.ended||v===g.length||g.length<g.highWaterMark?f():this[a]=f})},l.prototype._read=function(){if(this[a]){let d=this[a];this[a]=null,d()}}}),mI=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ObjectSetPrototypeOf:e}=Ft();n.exports=i;var r=gI();e(i.prototype,r.prototype),e(i,r);function i(o){if(!(this instanceof i))return new i(o);r.call(this,o)}i.prototype._transform=function(o,s,a){a(null,o)}}),by=Ee((t,n)=>{ue(),fe(),de();var e=Jo(),{ArrayIsArray:r,Promise:i,SymbolAsyncIterator:o,SymbolDispose:s}=Ft(),a=so(),{once:l}=Wn(),c=ga(),u=Ti(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:w}=An(),{validateFunction:y,validateAbortSignal:b}=Jl(),{isIterable:I,isReadable:x,isReadableNodeStream:E,isNodeStream:D,isTransformStream:N,isWebStream:W,isReadableStream:J,isReadableFinished:he}=Oi(),L=globalThis.AbortController||Xl().AbortController,Y,X,U;function ce(te,Fe,G){let P=!1;te.on("close",()=>{P=!0});let se=a(te,{readable:Fe,writable:G},Q=>{P=!Q});return{destroy:Q=>{P||(P=!0,c.destroyer(te,Q||new m("pipe")))},cleanup:se}}function _e(te){return y(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function Se(te){if(I(te))return te;if(E(te))return Oe(te);throw new h("val",["Readable","Iterable","AsyncIterable"],te)}function Oe(te){return ri(this,null,function*(){X||(X=ff()),yield*Pi(X.prototype[o].call(te))})}function H(se,Q,q,z){return Ge(this,arguments,function*(te,Fe,G,{end:P}){let pe,ye=null,O=re=>{if(re&&(pe=re),ye){let Me=ye;ye=null,Me()}},k=()=>new i((re,Me)=>{pe?Me(pe):ye=()=>{pe?Me(pe):re()}});Fe.on("drain",O);let $=a(Fe,{readable:!1},O);try{Fe.writableNeedDrain&&(yield k());try{for(var ee=Gn(te),ie,le,j;ie=!(le=yield ee.next()).done;ie=!1){let re=le.value;Fe.write(re)||(yield k())}}catch{j=[le]}finally{try{ie&&(le=ee.return)&&(yield le.call(ee))}finally{if(j)throw j[0]}}P&&(Fe.end(),yield k()),G()}catch(re){G(pe!==re?d(pe,re):re)}finally{$(),Fe.off("drain",O)}})}function ve(se,Q,q,z){return Ge(this,arguments,function*(te,Fe,G,{end:P}){N(Fe)&&(Fe=Fe.writable);let pe=Fe.getWriter();try{try{for(var ye=Gn(te),O,k,$;O=!(k=yield ye.next()).done;O=!1){let ee=k.value;yield pe.ready,pe.write(ee).catch(()=>{})}}catch{$=[k]}finally{try{O&&(k=ye.return)&&(yield k.call(ye))}finally{if($)throw $[0]}}yield pe.ready,P&&(yield pe.close()),G()}catch(ee){try{yield pe.abort(ee),G(ee)}catch(ie){G(ie)}}})}function T(...te){return ge(te,l(_e(te)))}function ge(te,Fe,G){if(te.length===1&&r(te[0])&&(te=te[0]),te.length<2)throw new g("streams");let P=new L,se=P.signal,Q=G?.signal,q=[];b(Q,"options.signal");function z(){ie(new w)}U=U||Wn().addAbortListener;let pe;Q&&(pe=U(Q,z));let ye,O,k=[],$=0;function ee(ae){ie(ae,--$===0)}function ie(ae,$e){var p;if(ae&&(!ye||ye.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ye=ae),!(!ye&&!$e)){for(;k.length;)k.shift()(ye);(p=pe)===null||p===void 0||p[s](),P.abort(),$e&&(ye||q.forEach(_=>_()),e.nextTick(Fe,ye,O))}}let le;for(let ae=0;ae<te.length;ae++){let $e=te[ae],p=ae<te.length-1,_=ae>0,C=p||G?.end!==!1,F=ae===te.length-1;if(D($e)){let B=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ee(K)};var j=B;if(C){let{destroy:K,cleanup:De}=ce($e,p,_);k.push(K),x($e)&&F&&q.push(De)}$e.on("error",B),x($e)&&F&&q.push(()=>{$e.removeListener("error",B)})}if(ae===0)if(typeof $e=="function"){if(le=$e({signal:se}),!I(le))throw new f("Iterable, AsyncIterable or Stream","source",le)}else I($e)||E($e)||N($e)?le=$e:le=u.from($e);else if(typeof $e=="function"){if(N(le)){var re;le=Se((re=le)===null||re===void 0?void 0:re.readable)}else le=Se(le);if(le=$e(le,{signal:se}),p){if(!I(le,!0))throw new f("AsyncIterable",`transform[${ae-1}]`,le)}else{var Me;Y||(Y=mI());let B=new Y({objectMode:!0}),K=(Me=le)===null||Me===void 0?void 0:Me.then;if(typeof K=="function")$++,K.call(le,_t=>{O=_t,_t!=null&&B.write(_t),C&&B.end(),e.nextTick(ee)},_t=>{B.destroy(_t),e.nextTick(ee,_t)});else if(I(le,!0))$++,H(le,B,ee,{end:C});else if(J(le)||N(le)){let _t=le.readable||le;$++,H(_t,B,ee,{end:C})}else throw new f("AsyncIterable or Promise","destination",le);le=B;let{destroy:De,cleanup:ut}=ce(le,!1,!0);k.push(De),F&&q.push(ut)}}else if(D($e)){if(E(le)){$+=2;let B=Te(le,$e,ee,{end:C});x($e)&&F&&q.push(B)}else if(N(le)||J(le)){let B=le.readable||le;$++,H(B,$e,ee,{end:C})}else if(I(le))$++,H(le,$e,ee,{end:C});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=$e}else if(W($e)){if(E(le))$++,ve(Se(le),$e,ee,{end:C});else if(J(le)||I(le))$++,ve(le,$e,ee,{end:C});else if(N(le))$++,ve(le.readable,$e,ee,{end:C});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=$e}else le=u.from($e)}return(se!=null&&se.aborted||Q!=null&&Q.aborted)&&e.nextTick(z),le}function Te(te,Fe,G,{end:P}){let se=!1;if(Fe.on("close",()=>{se||G(new v)}),te.pipe(Fe,{end:!1}),P){let q=function(){se=!0,Fe.end()};var Q=q;he(te)?e.nextTick(q):te.once("end",q)}else G();return a(te,{readable:!0,writable:!1},q=>{let z=te._readableState;q&&q.code==="ERR_STREAM_PREMATURE_CLOSE"&&z&&z.ended&&!z.errored&&!z.errorEmitted?te.once("end",G).once("error",G):G(q)}),a(Fe,{readable:!1,writable:!0},G)}n.exports={pipelineImpl:ge,pipeline:T}}),vI=Ee((t,n)=>{"use strict";ue(),fe(),de();var{pipeline:e}=by(),r=Ti(),{destroyer:i}=ga(),{isNodeStream:o,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:d}=Oi(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:g}}=An(),m=so();n.exports=function(...v){if(v.length===0)throw new g("streams");if(v.length===1)return r.from(v[0]);let w=[...v];if(typeof v[0]=="function"&&(v[0]=r.from(v[0])),typeof v[v.length-1]=="function"){let L=v.length-1;v[L]=r.from(v[L])}for(let L=0;L<v.length;++L)if(!(!o(v[L])&&!l(v[L]))){if(L<v.length-1&&!(s(v[L])||d(v[L])||c(v[L])))throw new f(`streams[${L}]`,w[L],"must be readable");if(L>0&&!(a(v[L])||u(v[L])||c(v[L])))throw new f(`streams[${L}]`,w[L],"must be writable")}let y,b,I,x,E;function D(L){let Y=x;x=null,Y?Y(L):L?E.destroy(L):!he&&!J&&E.destroy()}let N=v[0],W=e(v,D),J=!!(a(N)||u(N)||c(N)),he=!!(s(W)||d(W)||c(W));if(E=new r({writableObjectMode:!!(N!=null&&N.writableObjectMode),readableObjectMode:!!(W!=null&&W.readableObjectMode),writable:J,readable:he}),J){if(o(N))E._write=function(Y,X,U){N.write(Y,X)?U():y=U},E._final=function(Y){N.end(),b=Y},N.on("drain",function(){if(y){let Y=y;y=null,Y()}});else if(l(N)){let Y=(c(N)?N.writable:N).getWriter();E._write=function(X,U,ce){return Ge(this,null,function*(){try{yield Y.ready,Y.write(X).catch(()=>{}),ce()}catch(_e){ce(_e)}})},E._final=function(X){return Ge(this,null,function*(){try{yield Y.ready,Y.close().catch(()=>{}),b=X}catch(U){X(U)}})}}let L=c(W)?W.readable:W;m(L,()=>{if(b){let Y=b;b=null,Y()}})}if(he){if(o(W))W.on("readable",function(){if(I){let L=I;I=null,L()}}),W.on("end",function(){E.push(null)}),E._read=function(){for(;;){let L=W.read();if(L===null){I=E._read;return}if(!E.push(L))return}};else if(l(W)){let L=(c(W)?W.readable:W).getReader();E._read=function(){return Ge(this,null,function*(){for(;;)try{let{value:Y,done:X}=yield L.read();if(!E.push(Y))return;if(X){E.push(null);return}}catch{return}})}}}return E._destroy=function(L,Y){!L&&x!==null&&(L=new h),I=null,y=null,b=null,x===null?Y(L):(x=Y,o(W)&&i(W,L))},E}}),jk=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=globalThis.AbortController||Xl().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=An(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=Jl(),d=Ft().Symbol("kWeak"),h=Ft().Symbol("kResistStopPropagation"),{finished:f}=so(),g=vI(),{addAbortSignalNoValidate:m}=uf(),{isWritable:v,isNodeStream:w}=Oi(),{deprecate:y}=Wn(),{ArrayPrototypePush:b,Boolean:I,MathFloor:x,Number:E,NumberIsNaN:D,Promise:N,PromiseReject:W,PromiseResolve:J,PromisePrototypeThen:he,Symbol:L}=Ft(),Y=L("kEmpty"),X=L("kEof");function U(Q,q){if(q!=null&&u(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),w(Q)&&!v(Q))throw new r("stream",Q,"must be writable");let z=g(this,Q);return q!=null&&q.signal&&m(q.signal,z),z}function ce(Q,q){if(typeof Q!="function")throw new i("fn",["Function","AsyncFunction"],Q);q!=null&&u(q,"options"),q?.signal!=null&&l(q.signal,"options.signal");let z=1;q?.concurrency!=null&&(z=x(q.concurrency));let pe=z-1;return q?.highWaterMark!=null&&(pe=x(q.highWaterMark)),c(z,"options.concurrency",1),c(pe,"options.highWaterMark",0),pe+=z,function(){return ri(this,null,function*(){let ye=Wn().AbortSignalAny([q?.signal].filter(I)),O=this,k=[],$={signal:ye},ee,ie,le=!1,j=0;function re(){le=!0,Me()}function Me(){j-=1,ae()}function ae(){ie&&!le&&j<z&&k.length<pe&&(ie(),ie=null)}function $e(){return Ge(this,null,function*(){try{try{for(var p=Gn(O),_,C,F;_=!(C=yield p.next()).done;_=!1){let B=C.value;if(le)return;if(ye.aborted)throw new a;try{if(B=Q(B,$),B===Y)continue;B=J(B)}catch(K){B=W(K)}j+=1,he(B,Me,re),k.push(B),ee&&(ee(),ee=null),!le&&(k.length>=pe||j>=z)&&(yield new N(K=>{ie=K}))}}catch{F=[C]}finally{try{_&&(C=p.return)&&(yield C.call(p))}finally{if(F)throw F[0]}}k.push(X)}catch(B){let K=W(B);he(K,Me,re),k.push(K)}finally{le=!0,ee&&(ee(),ee=null)}})}$e();try{for(;;){for(;k.length>0;){let p=yield new wn(k[0]);if(p===X)return;if(ye.aborted)throw new a;p!==Y&&(yield p),k.shift(),ae()}yield new wn(new N(p=>{ee=p}))}}finally{le=!0,ie&&(ie(),ie=null)}})}.call(this)}function _e(Q=void 0){return Q!=null&&u(Q,"options"),Q?.signal!=null&&l(Q.signal,"options.signal"),function(){return ri(this,null,function*(){let q=0;try{for(var pe=Gn(this),ye,O,k;ye=!(O=yield new wn(pe.next())).done;ye=!1){let $=O.value;var z;if(Q!=null&&(z=Q.signal)!==null&&z!==void 0&&z.aborted)throw new a({cause:Q.signal.reason});yield[q++,$]}}catch{k=[O]}finally{try{ye&&(O=pe.return)&&(yield new wn(O.call(pe)))}finally{if(k)throw k[0]}}})}.call(this)}function Se(Q,q=void 0){return Ge(this,null,function*(){try{for(var z=Gn(T.call(this,Q,q)),pe,ye,O;pe=!(ye=yield z.next()).done;pe=!1){let k=ye.value;return!0}}catch{O=[ye]}finally{try{pe&&(ye=z.return)&&(yield ye.call(z))}finally{if(O)throw O[0]}}return!1})}function Oe(Q,q=void 0){return Ge(this,null,function*(){if(typeof Q!="function")throw new i("fn",["Function","AsyncFunction"],Q);return!(yield Se.call(this,(...z)=>Ge(this,null,function*(){return!(yield Q(...z))}),q))})}function H(Q,q){return Ge(this,null,function*(){try{for(var z=Gn(T.call(this,Q,q)),pe,ye,O;pe=!(ye=yield z.next()).done;pe=!1){let k=ye.value;return k}}catch{O=[ye]}finally{try{pe&&(ye=z.return)&&(yield ye.call(z))}finally{if(O)throw O[0]}}})}function ve(Q,q){return Ge(this,null,function*(){if(typeof Q!="function")throw new i("fn",["Function","AsyncFunction"],Q);function z($,ee){return Ge(this,null,function*(){return yield Q($,ee),Y})}try{for(var pe=Gn(ce.call(this,z,q)),ye,O,k;ye=!(O=yield pe.next()).done;ye=!1){let $=O.value;;}}catch{k=[O]}finally{try{ye&&(O=pe.return)&&(yield O.call(pe))}finally{if(k)throw k[0]}}})}function T(Q,q){if(typeof Q!="function")throw new i("fn",["Function","AsyncFunction"],Q);function z(pe,ye){return Ge(this,null,function*(){return(yield Q(pe,ye))?pe:Y})}return ce.call(this,z,q)}var ge=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function Te(pe,ye,O){return Ge(this,arguments,function*(Q,q,z){var k;if(typeof Q!="function")throw new i("reducer",["Function","AsyncFunction"],Q);z!=null&&u(z,"options"),z?.signal!=null&&l(z.signal,"options.signal");let $=arguments.length>1;if(z!=null&&(k=z.signal)!==null&&k!==void 0&&k.aborted){let p=new a(void 0,{cause:z.signal.reason});throw this.once("error",()=>{}),yield f(this.destroy(p)),p}let ee=new e,ie=ee.signal;if(z!=null&&z.signal){let p={once:!0,[d]:this,[h]:!0};z.signal.addEventListener("abort",()=>ee.abort(),p)}let le=!1;try{try{for(var re=Gn(this),Me,ae,$e;Me=!(ae=yield re.next()).done;Me=!1){let p=ae.value;var j;if(le=!0,z!=null&&(j=z.signal)!==null&&j!==void 0&&j.aborted)throw new a;$?q=yield Q(q,p,{signal:ie}):(q=p,$=!0)}}catch{$e=[ae]}finally{try{Me&&(ae=re.return)&&(yield ae.call(re))}finally{if($e)throw $e[0]}}if(!le&&!$)throw new ge}finally{ee.abort()}return q})}function te(Q){return Ge(this,null,function*(){Q!=null&&u(Q,"options"),Q?.signal!=null&&l(Q.signal,"options.signal");let q=[];try{for(var pe=Gn(this),ye,O,k;ye=!(O=yield pe.next()).done;ye=!1){let $=O.value;var z;if(Q!=null&&(z=Q.signal)!==null&&z!==void 0&&z.aborted)throw new a(void 0,{cause:Q.signal.reason});b(q,$)}}catch{k=[O]}finally{try{ye&&(O=pe.return)&&(yield O.call(pe))}finally{if(k)throw k[0]}}return q})}function Fe(Q,q){let z=ce.call(this,Q,q);return function(){return ri(this,null,function*(){try{for(var pe=Gn(z),ye,O,k;ye=!(O=yield new wn(pe.next())).done;ye=!1){let $=O.value;yield*Pi($)}}catch{k=[O]}finally{try{ye&&(O=pe.return)&&(yield new wn(O.call(pe)))}finally{if(k)throw k[0]}}})}.call(this)}function G(Q){if(Q=E(Q),D(Q))return 0;if(Q<0)throw new s("number",">= 0",Q);return Q}function P(Q,q=void 0){return q!=null&&u(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),Q=G(Q),function(){return ri(this,null,function*(){var z;if(q!=null&&(z=q.signal)!==null&&z!==void 0&&z.aborted)throw new a;try{for(var ye=Gn(this),O,k,$;O=!(k=yield new wn(ye.next())).done;O=!1){let ee=k.value;var pe;if(q!=null&&(pe=q.signal)!==null&&pe!==void 0&&pe.aborted)throw new a;Q--<=0&&(yield ee)}}catch{$=[k]}finally{try{O&&(k=ye.return)&&(yield new wn(k.call(ye)))}finally{if($)throw $[0]}}})}.call(this)}function se(Q,q=void 0){return q!=null&&u(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),Q=G(Q),function(){return ri(this,null,function*(){var z;if(q!=null&&(z=q.signal)!==null&&z!==void 0&&z.aborted)throw new a;try{for(var ye=Gn(this),O,k,$;O=!(k=yield new wn(ye.next())).done;O=!1){let ee=k.value;var pe;if(q!=null&&(pe=q.signal)!==null&&pe!==void 0&&pe.aborted)throw new a;if(Q-- >0&&(yield ee),Q<=0)return}}catch{$=[k]}finally{try{O&&(k=ye.return)&&(yield new wn(k.call(ye)))}finally{if($)throw $[0]}}})}.call(this)}n.exports.streamReturningOperators={asIndexedPairs:y(_e,"readable.asIndexedPairs will be removed in a future version."),drop:P,filter:T,flatMap:Fe,map:ce,take:se,compose:U},n.exports.promiseReturningOperators={every:Oe,forEach:ve,reduce:Te,toArray:te,some:Se,find:H}}),yI=Ee((t,n)=>{"use strict";ue(),fe(),de();var{ArrayPrototypePop:e,Promise:r}=Ft(),{isIterable:i,isNodeStream:o,isWebStream:s}=Oi(),{pipelineImpl:a}=by(),{finished:l}=so();_I();function c(...u){return new r((d,h)=>{let f,g,m=u[u.length-1];if(m&&typeof m=="object"&&!o(m)&&!i(m)&&!s(m)){let v=e(u);f=v.signal,g=v.end}a(u,(v,w)=>{v?h(v):d(w)},{signal:f,end:g})})}n.exports={finished:l,pipeline:c}}),_I=Ee((t,n)=>{"use strict";ue(),fe(),de();var{Buffer:e}=(sn(),Et(on)),{ObjectDefineProperty:r,ObjectKeys:i,ReflectApply:o}=Ft(),{promisify:{custom:s}}=Wn(),{streamReturningOperators:a,promiseReturningOperators:l}=jk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=An(),u=vI(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:h}=df(),{pipeline:f}=by(),{destroyer:g}=ga(),m=so(),v=yI(),w=Oi(),y=n.exports=yy().Stream;y.isDestroyed=w.isDestroyed,y.isDisturbed=w.isDisturbed,y.isErrored=w.isErrored,y.isReadable=w.isReadable,y.isWritable=w.isWritable,y.Readable=ff();for(let I of i(a)){let x=function(...D){if(new.target)throw c();return y.Readable.from(o(E,this,D))},E=a[I];r(x,"name",{__proto__:null,value:E.name}),r(x,"length",{__proto__:null,value:E.length}),r(y.Readable.prototype,I,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}for(let I of i(l)){let x=function(...D){if(new.target)throw c();return o(E,this,D)},E=l[I];r(x,"name",{__proto__:null,value:E.name}),r(x,"length",{__proto__:null,value:E.length}),r(y.Readable.prototype,I,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}y.Writable=_y(),y.Duplex=Ti(),y.Transform=gI(),y.PassThrough=mI(),y.pipeline=f;var{addAbortSignal:b}=uf();y.addAbortSignal=b,y.finished=m,y.destroy=g,y.compose=u,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=h,r(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),r(f,s,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),r(m,s,{__proto__:null,enumerable:!0,get(){return v.finished}}),y.Stream=y,y._isUint8Array=function(I){return I instanceof Uint8Array},y._uint8ArrayToBuffer=function(I){return e.from(I.buffer,I.byteOffset,I.byteLength)}}),es=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=_I(),r=yI(),i=e.Readable.destroy;n.exports=e.Readable,n.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,n.exports._isUint8Array=e._isUint8Array,n.exports.isDisturbed=e.isDisturbed,n.exports.isErrored=e.isErrored,n.exports.isReadable=e.isReadable,n.exports.Readable=e.Readable,n.exports.Writable=e.Writable,n.exports.Duplex=e.Duplex,n.exports.Transform=e.Transform,n.exports.PassThrough=e.PassThrough,n.exports.addAbortSignal=e.addAbortSignal,n.exports.finished=e.finished,n.exports.destroy=e.destroy,n.exports.destroy=i,n.exports.pipeline=e.pipeline,n.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),n.exports.Stream=e.Stream,n.exports.default=n.exports}),Vk=Ee((t,n)=>{ue(),fe(),de(),typeof Object.create=="function"?n.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}}),Bk=Ee((t,n)=>{"use strict";ue(),fe(),de();var{Buffer:e}=(sn(),Et(on)),r=Symbol.for("BufferList");function i(o){if(!(this instanceof i))return new i(o);i._init.call(this,o)}i._init=function(o){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},i.prototype._new=function(o){return new i(o)},i.prototype._offset=function(o){if(o===0)return[0,0];let s=0;for(let a=0;a<this._bufs.length;a++){let l=s+this._bufs[a].length;if(o<l||a===this._bufs.length-1)return[a,o-s];s=l}},i.prototype._reverseOffset=function(o){let s=o[0],a=o[1];for(let l=0;l<s;l++)a+=this._bufs[l].length;return a},i.prototype.get=function(o){if(o>this.length||o<0)return;let s=this._offset(o);return this._bufs[s[0]][s[1]]},i.prototype.slice=function(o,s){return typeof o=="number"&&o<0&&(o+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,o,s)},i.prototype.copy=function(o,s,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return o||e.alloc(0);let c=!!o,u=this._offset(a),d=l-a,h=d,f=c&&s||0,g=u[1];if(a===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let m=0;m<this._bufs.length;m++)this._bufs[m].copy(o,f),f+=this._bufs[m].length;return o}if(h<=this._bufs[u[0]].length-g)return c?this._bufs[u[0]].copy(o,s,g,g+h):this._bufs[u[0]].slice(g,g+h);c||(o=e.allocUnsafe(d));for(let m=u[0];m<this._bufs.length;m++){let v=this._bufs[m].length-g;if(h>v)this._bufs[m].copy(o,f,g),f+=v;else{this._bufs[m].copy(o,f,g,g+h),f+=v;break}h-=v,g&&(g=0)}return o.length>f?o.slice(0,f):o},i.prototype.shallowSlice=function(o,s){if(o=o||0,s=typeof s!="number"?this.length:s,o<0&&(o+=this.length),s<0&&(s+=this.length),o===s)return this._new();let a=this._offset(o),l=this._offset(s),c=this._bufs.slice(a[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),a[1]!==0&&(c[0]=c[0].slice(a[1])),this._new(c)},i.prototype.toString=function(o,s,a){return this.slice(s,a).toString(o)},i.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this},i.prototype.duplicate=function(){let o=this._new();for(let s=0;s<this._bufs.length;s++)o.append(this._bufs[s]);return o},i.prototype.append=function(o){if(o==null)return this;if(o.buffer)this._appendBuffer(e.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let s=0;s<o.length;s++)this.append(o[s]);else if(this._isBufferList(o))for(let s=0;s<o._bufs.length;s++)this.append(o._bufs[s]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(e.from(o));return this},i.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},i.prototype.indexOf=function(o,s,a){if(a===void 0&&typeof s=="string"&&(a=s,s=void 0),typeof o=="function"||Array.isArray(o))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof o=="number"?o=e.from([o]):typeof o=="string"?o=e.from(o,a):this._isBufferList(o)?o=o.slice():Array.isArray(o.buffer)?o=e.from(o.buffer,o.byteOffset,o.byteLength):e.isBuffer(o)||(o=e.from(o)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),o.length===0)return s>this.length?this.length:s;let l=this._offset(s),c=l[0],u=l[1];for(;c<this._bufs.length;c++){let d=this._bufs[c];for(;u<d.length;)if(d.length-u>=o.length){let h=d.indexOf(o,u);if(h!==-1)return this._reverseOffset([c,h]);u=d.length-o.length+1}else{let h=this._reverseOffset([c,u]);if(this._match(h,o))return h;u++}u=0}return-1},i.prototype._match=function(o,s){if(this.length-o<s.length)return!1;for(let a=0;a<s.length;a++)if(this.get(o+a)!==s[a])return!1;return!0},function(){let o={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in o)(function(a){o[a]===null?i.prototype[a]=function(l,c){return this.slice(l,l+c)[a](0,c)}:i.prototype[a]=function(l=0){return this.slice(l,l+o[a])[a](0)}})(s)}(),i.prototype._isBufferList=function(o){return o instanceof i||i.isBufferList(o)},i.isBufferList=function(o){return o!=null&&o[r]},n.exports=i}),Uk=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=es().Duplex,r=Vk(),i=Bk();function o(s){if(!(this instanceof o))return new o(s);if(typeof s=="function"){this._callback=s;let a=function(l){this._callback&&(this._callback(l),this._callback=null)}.bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),s=null}i._init.call(this,s),e.call(this)}r(o,e),Object.assign(o.prototype,i.prototype),o.prototype._new=function(s){return new o(s)},o.prototype._write=function(s,a,l){this._appendBuffer(s),typeof l=="function"&&l()},o.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},o.prototype.end=function(s){e.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(s,a){this._bufs.length=0,this.length=0,a(s)},o.prototype._isBufferList=function(s){return s instanceof o||s instanceof i||o.isBufferList(s)},o.isBufferList=i.isBufferList,n.exports=o,n.exports.BufferListStream=o,n.exports.BufferList=i}),$k=Ee((t,n)=>{ue(),fe(),de();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};n.exports=e}),bI=Ee((t,n)=>{ue(),fe(),de();var e=n.exports,{Buffer:r}=(sn(),Et(on));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let o in e.requiredHeaderFlags){let s=e.requiredHeaderFlags[o];e.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+e.types[o]+" packet"}e.codes={};for(let o in e.types){let s=e.types[o];e.codes[s]=o}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=r.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=r.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=r.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let o in e.properties){let s=e.properties[o];e.propertiesCodes[s]=o}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(o){return[0,1,2].map(s=>[0,1].map(a=>[0,1].map(l=>{let c=r.alloc(1);return c.writeUInt8(e.codes[o]<<e.CMD_SHIFT|(a?e.DUP_MASK:0)|s<<e.QOS_SHIFT|l,0,!0),c})))}e.PUBLISH_HEADER=i("publish"),e.SUBSCRIBE_HEADER=i("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=i("unsubscribe"),e.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},e.SUBACK_HEADER=r.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=r.from([3]),e.VERSION4=r.from([4]),e.VERSION5=r.from([5]),e.VERSION131=r.from([131]),e.VERSION132=r.from([132]),e.QOS=[0,1,2].map(o=>r.from([o])),e.EMPTY={pingreq:r.from([e.codes.pingreq<<4,0]),pingresp:r.from([e.codes.pingresp<<4,0]),disconnect:r.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Hk=Ee((t,n)=>{ue(),fe(),de();var e=1e3,r=e*60,i=r*60,o=i*24,s=o*7,a=o*365.25;n.exports=function(h,f){f=f||{};var g=typeof h;if(g==="string"&&h.length>0)return l(h);if(g==="number"&&isFinite(h))return f.long?u(h):c(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(f){var g=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*r;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function c(h){var f=Math.abs(h);return f>=o?Math.round(h/o)+"d":f>=i?Math.round(h/i)+"h":f>=r?Math.round(h/r)+"m":f>=e?Math.round(h/e)+"s":h+"ms"}function u(h){var f=Math.abs(h);return f>=o?d(h,f,o,"day"):f>=i?d(h,f,i,"hour"):f>=r?d(h,f,r,"minute"):f>=e?d(h,f,e,"second"):h+" ms"}function d(h,f,g,m){var v=f>=g*1.5;return Math.round(h/g)+" "+m+(v?"s":"")}}),qk=Ee((t,n)=>{ue(),fe(),de();function e(r){o.debug=o,o.default=o,o.coerce=d,o.disable=c,o.enable=a,o.enabled=u,o.humanize=Hk(),o.destroy=h,Object.keys(r).forEach(f=>{o[f]=r[f]}),o.names=[],o.skips=[],o.formatters={};function i(f){let g=0;for(let m=0;m<f.length;m++)g=(g<<5)-g+f.charCodeAt(m),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(f){let g,m=null,v,w;function y(...b){if(!y.enabled)return;let I=y,x=Number(new Date),E=x-(g||x);I.diff=E,I.prev=g,I.curr=x,g=x,b[0]=o.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let D=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(N,W)=>{if(N==="%%")return"%";D++;let J=o.formatters[W];if(typeof J=="function"){let he=b[D];N=J.call(I,he),b.splice(D,1),D--}return N}),o.formatArgs.call(I,b),(I.log||o.log).apply(I,b)}return y.namespace=f,y.useColors=o.useColors(),y.color=o.selectColor(f),y.extend=s,y.destroy=o.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(v!==o.namespaces&&(v=o.namespaces,w=o.enabled(f)),w),set:b=>{m=b}}),typeof o.init=="function"&&o.init(y),y}function s(f,g){let m=o(this.namespace+(typeof g>"u"?":":g)+f);return m.log=this.log,m}function a(f){o.save(f),o.namespaces=f,o.names=[],o.skips=[];let g=(typeof f=="string"?f:"").trim().replace(" ",",").split(",").filter(Boolean);for(let m of g)m[0]==="-"?o.skips.push(m.slice(1)):o.names.push(m)}function l(f,g){let m=0,v=0,w=-1,y=0;for(;m<f.length;)if(v<g.length&&(g[v]===f[m]||g[v]==="*"))g[v]==="*"?(w=v,y=m,v++):(m++,v++);else if(w!==-1)v=w+1,y++,m=y;else return!1;for(;v<g.length&&g[v]==="*";)v++;return v===g.length}function c(){let f=[...o.names,...o.skips.map(g=>"-"+g)].join(",");return o.enable(""),f}function u(f){for(let g of o.skips)if(l(f,g))return!1;for(let g of o.names)if(l(f,g))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}n.exports=e}),Ai=Ee((t,n)=>{ue(),fe(),de(),t.formatArgs=r,t.save=i,t.load=o,t.useColors=e,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof gt<"u"&&"env"in gt&&(l=gt.env.DEBUG),l}function s(){try{return localStorage}catch{}}n.exports=qk()(t);var{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),zk=Ee((t,n)=>{ue(),fe(),de();var e=Uk(),{EventEmitter:r}=(Xo(),Et(oo)),i=$k(),o=bI(),s=Ai()("mqtt-packet:parser"),a=class oy extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof oy?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new oy().parser(c)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=e(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),u=c>>o.CMD_SHIFT;this.packet.cmd=o.types[u];let d=c&15,h=o.requiredHeaderFlags[u];return h!=null&&d!==h?this._emitError(new Error(o.requiredHeaderFlagsErrors[u])):(this.packet.retain=(c&o.RETAIN_MASK)!==0,this.packet.qos=c>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&o.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),s("_parseLength %d",c.value),!!c}_parsePayload(){s("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return s("_parsePayload complete result: %s",c),c}_parseConnect(){s("_parseConnect");let c,u,d,h,f={},g=this.packet,m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse protocolId"));if(m!=="MQTT"&&m!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=m,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));f.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,f.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,f.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let v=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),w=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(f.will)g.will={},g.will.retain=v,g.will.qos=w;else{if(v)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(w)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.properties=b)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(g.clientId=y,s("_parseConnect: packet.clientId: %s",g.clientId),f.will){if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.will.properties=b)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=c,s("_parseConnect: packet.will.topic: %s",g.will.topic),u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=u,s("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(f.username){if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse username"));g.username=h,s("_parseConnect: packet.username: %s",g.username)}if(f.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));g.password=d}return this.settings=g,s("_parseConnect: complete"),g}_parseConnack(){s("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let u=this._list.readUInt8(this._pos++);if(u>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(u&o.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(c.properties=d)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}c.payload=this._list.slice(this._pos,c.length),s("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){s("_parseSubscribe");let c=this.packet,u,d,h,f,g,m,v;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(c.properties=w)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(h=d&o.SUBSCRIBE_OPTIONS_QOS_MASK,h>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(m=(d>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(d>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,f=d>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,f>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));v={topic:u,qos:h},this.settings.protocolVersion===5?(v.nl=m,v.rap=g,v.rh=f):this.settings.bridgeMode&&(v.rh=0,v.rap=!0,v.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",v),c.subscriptions.push(v)}}}_parseSuback(){s("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[u])return this._emitError(new Error("Invalid suback code"))}else if(u>2&&u!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(u)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",u),c.unsubscriptions.push(u)}}}_parseUnsuback(){s("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let u=this._parseProperties();for(Object.getOwnPropertyNames(u).length&&(c.properties=u),c.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}}return!0}_parseDisconnect(){let c=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let u=this._parseProperties();return Object.getOwnPropertyNames(u).length&&(c.properties=u),s("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let u=this._parseNum(),d=u+this._pos;if(u===-1||d>this._list.length||d>this.packet.length)return null;let h=this._list.toString("utf8",this._pos,d);return this._pos+=u,s("_parseString: result: %s",h),h}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let d=this._list.slice(this._pos,u);return this._pos+=c,s("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){s("_parseVarByteNum");let u=4,d=0,h=1,f=0,g=!1,m,v=this._pos?this._pos:0;for(;d<u&&v+d<this._list.length;){if(m=this._list.readUInt8(v+d++),f+=h*(m&o.VARBYTEINT_MASK),h*=128,(m&o.VARBYTEINT_FIN_MASK)===0){g=!0;break}if(this._list.length<=d)break}return!g&&d===u&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),v&&(this._pos+=d),g?c?g={bytes:d,value:f}:g=f:g=!1,s("_parseVarByteNum: result: %o",g),g}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",c),c}_parseByType(c){switch(s("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let c=this._parseVarByteNum(),u=this._pos+c,d={};for(;this._pos<u;){let h=this._parseByte();if(!h)return this._emitError(new Error("Cannot parse property code type")),!1;let f=o.propertiesCodes[h];if(!f)return this._emitError(new Error("Unknown property")),!1;if(f==="userProperties"){d[f]||(d[f]=Object.create(null));let g=this._parseByType(o.propertiesTypes[f]);if(d[f][g.name])if(Array.isArray(d[f][g.name]))d[f][g.name].push(g.value);else{let m=d[f][g.name];d[f][g.name]=[m],d[f][g.name].push(g.value)}else d[f][g.name]=g.value;continue}d[f]?Array.isArray(d[f])?d[f].push(this._parseByType(o.propertiesTypes[f])):(d[f]=[d[f]],d[f].push(this._parseByType(o.propertiesTypes[f]))):d[f]=this._parseByType(o.propertiesTypes[f])}return d}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(c){s("_emitError",c),this.error=c,this.emit("error",c)}};n.exports=a}),Wk=Ee((t,n)=>{ue(),fe(),de();var{Buffer:e}=(sn(),Et(on)),r=65536,i={},o=e.isBuffer(e.from([1,2]).subarray(0,1));function s(u){let d=e.allocUnsafe(2);return d.writeUInt8(u>>8,0),d.writeUInt8(u&255,1),d}function a(){for(let u=0;u<r;u++)i[u]=s(u)}function l(u){let d=0,h=0,f=e.allocUnsafe(4);do d=u%128|0,u=u/128|0,u>0&&(d=d|128),f.writeUInt8(d,h++);while(u>0&&h<4);return u>0&&(h=0),o?f.subarray(0,h):f.slice(0,h)}function c(u){let d=e.allocUnsafe(4);return d.writeUInt32BE(u,0),d}n.exports={cache:i,generateCache:a,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:c}}),Gk=Ee((t,n)=>{"use strict";ue(),fe(),de(),typeof gt>"u"||!gt.version||gt.version.indexOf("v0.")===0||gt.version.indexOf("v1.")===0&&gt.version.indexOf("v1.8.")!==0?n.exports={nextTick:e}:n.exports=gt;function e(r,i,o,s){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,c;switch(a){case 0:case 1:return gt.nextTick(r);case 2:return gt.nextTick(function(){r.call(null,i)});case 3:return gt.nextTick(function(){r.call(null,i,o)});case 4:return gt.nextTick(function(){r.call(null,i,o,s)});default:for(l=new Array(a-1),c=0;c<l.length;)l[c++]=arguments[c];return gt.nextTick(function(){r.apply(null,l)})}}}),wI=Ee((t,n)=>{ue(),fe(),de();var e=bI(),{Buffer:r}=(sn(),Et(on)),i=r.allocUnsafe(0),o=r.from([0]),s=Wk(),a=Gk().nextTick,l=Ai()("mqtt-packet:writeToStream"),c=s.cache,u=s.generateNumber,d=s.generateCache,h=s.genBufVariableByteInt,f=s.generate4ByteBuffer,g=_e,m=!0;function v(G,P,se){switch(l("generate called"),P.cork&&(P.cork(),a(w,P)),m&&(m=!1,d()),l("generate: packet.cmd: %s",G.cmd),G.cmd){case"connect":return y(G,P,se);case"connack":return b(G,P,se);case"publish":return I(G,P,se);case"puback":case"pubrec":case"pubrel":case"pubcomp":return x(G,P,se);case"subscribe":return E(G,P,se);case"suback":return D(G,P,se);case"unsubscribe":return N(G,P,se);case"unsuback":return W(G,P,se);case"pingreq":case"pingresp":return J(G,P,se);case"disconnect":return he(G,P,se);case"auth":return L(G,P,se);default:return P.destroy(new Error("Unknown command")),!1}}Object.defineProperty(v,"cacheNumbers",{get(){return g===_e},set(G){G?((!c||Object.keys(c).length===0)&&(m=!0),g=_e):(m=!1,g=Se)}});function w(G){G.uncork()}function y(G,P,se){let Q=G||{},q=Q.protocolId||"MQTT",z=Q.protocolVersion||4,pe=Q.will,ye=Q.clean,O=Q.keepalive||0,k=Q.clientId||"",$=Q.username,ee=Q.password,ie=Q.properties;ye===void 0&&(ye=!0);let le=0;if(!q||typeof q!="string"&&!r.isBuffer(q))return P.destroy(new Error("Invalid protocolId")),!1;if(le+=q.length+2,z!==3&&z!==4&&z!==5)return P.destroy(new Error("Invalid protocol version")),!1;if(le+=1,(typeof k=="string"||r.isBuffer(k))&&(k||z>=4)&&(k||ye))le+=r.byteLength(k)+2;else{if(z<4)return P.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ye*1===0)return P.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof O!="number"||O<0||O>65535||O%1!==0)return P.destroy(new Error("Invalid keepalive")),!1;le+=2,le+=1;let j,re;if(z===5){if(j=ve(P,ie),!j)return!1;le+=j.length}if(pe){if(typeof pe!="object")return P.destroy(new Error("Invalid will")),!1;if(!pe.topic||typeof pe.topic!="string")return P.destroy(new Error("Invalid will topic")),!1;if(le+=r.byteLength(pe.topic)+2,le+=2,pe.payload)if(pe.payload.length>=0)typeof pe.payload=="string"?le+=r.byteLength(pe.payload):le+=pe.payload.length;else return P.destroy(new Error("Invalid will payload")),!1;if(re={},z===5){if(re=ve(P,pe.properties),!re)return!1;le+=re.length}}let Me=!1;if($!=null)if(Fe($))Me=!0,le+=r.byteLength($)+2;else return P.destroy(new Error("Invalid username")),!1;if(ee!=null){if(!Me)return P.destroy(new Error("Username is required to use password")),!1;if(Fe(ee))le+=te(ee)+2;else return P.destroy(new Error("Invalid password")),!1}P.write(e.CONNECT_HEADER),X(P,le),H(P,q),Q.bridgeMode&&(z+=128),P.write(z===131?e.VERSION131:z===132?e.VERSION132:z===4?e.VERSION4:z===5?e.VERSION5:e.VERSION3);let ae=0;return ae|=$!=null?e.USERNAME_MASK:0,ae|=ee!=null?e.PASSWORD_MASK:0,ae|=pe&&pe.retain?e.WILL_RETAIN_MASK:0,ae|=pe&&pe.qos?pe.qos<<e.WILL_QOS_SHIFT:0,ae|=pe?e.WILL_FLAG_MASK:0,ae|=ye?e.CLEAN_SESSION_MASK:0,P.write(r.from([ae])),g(P,O),z===5&&j.write(),H(P,k),pe&&(z===5&&re.write(),U(P,pe.topic),H(P,pe.payload)),$!=null&&H(P,$),ee!=null&&H(P,ee),!0}function b(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=Q===5?q.reasonCode:q.returnCode,pe=q.properties,ye=2;if(typeof z!="number")return P.destroy(new Error("Invalid return code")),!1;let O=null;if(Q===5){if(O=ve(P,pe),!O)return!1;ye+=O.length}return P.write(e.CONNACK_HEADER),X(P,ye),P.write(q.sessionPresent?e.SESSIONPRESENT_HEADER:o),P.write(r.from([z])),O?.write(),!0}function I(G,P,se){l("publish: packet: %o",G);let Q=se?se.protocolVersion:4,q=G||{},z=q.qos||0,pe=q.retain?e.RETAIN_MASK:0,ye=q.topic,O=q.payload||i,k=q.messageId,$=q.properties,ee=0;if(typeof ye=="string")ee+=r.byteLength(ye)+2;else if(r.isBuffer(ye))ee+=ye.length+2;else return P.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(O)?ee+=O.length:ee+=r.byteLength(O),z&&typeof k!="number")return P.destroy(new Error("Invalid messageId")),!1;z&&(ee+=2);let ie=null;if(Q===5){if(ie=ve(P,$),!ie)return!1;ee+=ie.length}return P.write(e.PUBLISH_HEADER[z][q.dup?1:0][pe?1:0]),X(P,ee),g(P,te(ye)),P.write(ye),z>0&&g(P,k),ie?.write(),l("publish: payload: %o",O),P.write(O)}function x(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.cmd||"puback",pe=q.messageId,ye=q.dup&&z==="pubrel"?e.DUP_MASK:0,O=0,k=q.reasonCode,$=q.properties,ee=Q===5?3:2;if(z==="pubrel"&&(O=1),typeof pe!="number")return P.destroy(new Error("Invalid messageId")),!1;let ie=null;if(Q===5&&typeof $=="object"){if(ie=T(P,$,se,ee),!ie)return!1;ee+=ie.length}return P.write(e.ACKS[z][O][ye][0]),ee===3&&(ee+=k!==0?1:-1),X(P,ee),g(P,pe),Q===5&&ee!==2&&P.write(r.from([k])),ie!==null?ie.write():ee===4&&P.write(r.from([0])),!0}function E(G,P,se){l("subscribe: packet: ");let Q=se?se.protocolVersion:4,q=G||{},z=q.dup?e.DUP_MASK:0,pe=q.messageId,ye=q.subscriptions,O=q.properties,k=0;if(typeof pe!="number")return P.destroy(new Error("Invalid messageId")),!1;k+=2;let $=null;if(Q===5){if($=ve(P,O),!$)return!1;k+=$.length}if(typeof ye=="object"&&ye.length)for(let ie=0;ie<ye.length;ie+=1){let le=ye[ie].topic,j=ye[ie].qos;if(typeof le!="string")return P.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof j!="number")return P.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Q===5){if(typeof(ye[ie].nl||!1)!="boolean")return P.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ye[ie].rap||!1)!="boolean")return P.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let re=ye[ie].rh||0;if(typeof re!="number"||re>2)return P.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}k+=r.byteLength(le)+2+1}else return P.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),P.write(e.SUBSCRIBE_HEADER[1][z?1:0][0]),X(P,k),g(P,pe),$!==null&&$.write();let ee=!0;for(let ie of ye){let le=ie.topic,j=ie.qos,re=+ie.nl,Me=+ie.rap,ae=ie.rh,$e;U(P,le),$e=e.SUBSCRIBE_OPTIONS_QOS[j],Q===5&&($e|=re?e.SUBSCRIBE_OPTIONS_NL:0,$e|=Me?e.SUBSCRIBE_OPTIONS_RAP:0,$e|=ae?e.SUBSCRIBE_OPTIONS_RH[ae]:0),ee=P.write(r.from([$e]))}return ee}function D(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.messageId,pe=q.granted,ye=q.properties,O=0;if(typeof z!="number")return P.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof pe=="object"&&pe.length)for(let $=0;$<pe.length;$+=1){if(typeof pe[$]!="number")return P.destroy(new Error("Invalid qos vector")),!1;O+=1}else return P.destroy(new Error("Invalid qos vector")),!1;let k=null;if(Q===5){if(k=T(P,ye,se,O),!k)return!1;O+=k.length}return P.write(e.SUBACK_HEADER),X(P,O),g(P,z),k!==null&&k.write(),P.write(r.from(pe))}function N(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.messageId,pe=q.dup?e.DUP_MASK:0,ye=q.unsubscriptions,O=q.properties,k=0;if(typeof z!="number")return P.destroy(new Error("Invalid messageId")),!1;if(k+=2,typeof ye=="object"&&ye.length)for(let ie=0;ie<ye.length;ie+=1){if(typeof ye[ie]!="string")return P.destroy(new Error("Invalid unsubscriptions")),!1;k+=r.byteLength(ye[ie])+2}else return P.destroy(new Error("Invalid unsubscriptions")),!1;let $=null;if(Q===5){if($=ve(P,O),!$)return!1;k+=$.length}P.write(e.UNSUBSCRIBE_HEADER[1][pe?1:0][0]),X(P,k),g(P,z),$!==null&&$.write();let ee=!0;for(let ie=0;ie<ye.length;ie++)ee=U(P,ye[ie]);return ee}function W(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.messageId,pe=q.dup?e.DUP_MASK:0,ye=q.granted,O=q.properties,k=q.cmd,$=0,ee=2;if(typeof z!="number")return P.destroy(new Error("Invalid messageId")),!1;if(Q===5)if(typeof ye=="object"&&ye.length)for(let le=0;le<ye.length;le+=1){if(typeof ye[le]!="number")return P.destroy(new Error("Invalid qos vector")),!1;ee+=1}else return P.destroy(new Error("Invalid qos vector")),!1;let ie=null;if(Q===5){if(ie=T(P,O,se,ee),!ie)return!1;ee+=ie.length}return P.write(e.ACKS[k][$][pe][0]),X(P,ee),g(P,z),ie!==null&&ie.write(),Q===5&&P.write(r.from(ye)),!0}function J(G,P,se){return P.write(e.EMPTY[G.cmd])}function he(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.reasonCode,pe=q.properties,ye=Q===5?1:0,O=null;if(Q===5){if(O=T(P,pe,se,ye),!O)return!1;ye+=O.length}return P.write(r.from([e.codes.disconnect<<4])),X(P,ye),Q===5&&P.write(r.from([z])),O!==null&&O.write(),!0}function L(G,P,se){let Q=se?se.protocolVersion:4,q=G||{},z=q.reasonCode,pe=q.properties,ye=Q===5?1:0;Q!==5&&P.destroy(new Error("Invalid mqtt version for auth packet"));let O=T(P,pe,se,ye);return O?(ye+=O.length,P.write(r.from([e.codes.auth<<4])),X(P,ye),P.write(r.from([z])),O!==null&&O.write(),!0):!1}var Y={};function X(G,P){if(P>e.VARBYTEINT_MAX)return G.destroy(new Error(`Invalid variable byte integer: ${P}`)),!1;let se=Y[P];return se||(se=h(P),P<16384&&(Y[P]=se)),l("writeVarByteInt: writing to stream: %o",se),G.write(se)}function U(G,P){let se=r.byteLength(P);return g(G,se),l("writeString: %s",P),G.write(P,"utf8")}function ce(G,P,se){U(G,P),U(G,se)}function _e(G,P){return l("writeNumberCached: number: %d",P),l("writeNumberCached: %o",c[P]),G.write(c[P])}function Se(G,P){let se=u(P);return l("writeNumberGenerated: %o",se),G.write(se)}function Oe(G,P){let se=f(P);return l("write4ByteNumber: %o",se),G.write(se)}function H(G,P){typeof P=="string"?U(G,P):P?(g(G,P.length),G.write(P)):g(G,0)}function ve(G,P){if(typeof P!="object"||P.length!=null)return{length:1,write(){Te(G,{},0)}};let se=0;function Q(q,z){let pe=e.propertiesTypes[q],ye=0;switch(pe){case"byte":{if(typeof z!="boolean")return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=2;break}case"int8":{if(typeof z!="number"||z<0||z>255)return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=2;break}case"binary":{if(z&&z===null)return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=1+r.byteLength(z)+2;break}case"int16":{if(typeof z!="number"||z<0||z>65535)return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=3;break}case"int32":{if(typeof z!="number"||z<0||z>4294967295)return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=5;break}case"var":{if(typeof z!="number"||z<0||z>268435455)return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=1+r.byteLength(h(z));break}case"string":{if(typeof z!="string")return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=3+r.byteLength(z.toString());break}case"pair":{if(typeof z!="object")return G.destroy(new Error(`Invalid ${q}: ${z}`)),!1;ye+=Object.getOwnPropertyNames(z).reduce((O,k)=>{let $=z[k];return Array.isArray($)?O+=$.reduce((ee,ie)=>(ee+=3+r.byteLength(k.toString())+2+r.byteLength(ie.toString()),ee),0):O+=3+r.byteLength(k.toString())+2+r.byteLength(z[k].toString()),O},0);break}default:return G.destroy(new Error(`Invalid property ${q}: ${z}`)),!1}return ye}if(P)for(let q in P){let z=0,pe=0,ye=P[q];if(ye!==void 0){if(Array.isArray(ye))for(let O=0;O<ye.length;O++){if(pe=Q(q,ye[O]),!pe)return!1;z+=pe}else{if(pe=Q(q,ye),!pe)return!1;z=pe}if(!z)return!1;se+=z}}return{length:r.byteLength(h(se))+se,write(){Te(G,P,se)}}}function T(G,P,se,Q){let q=["reasonString","userProperties"],z=se&&se.properties&&se.properties.maximumPacketSize?se.properties.maximumPacketSize:0,pe=ve(G,P);if(z)for(;Q+pe.length>z;){let ye=q.shift();if(ye&&P[ye])delete P[ye],pe=ve(G,P);else return!1}return pe}function ge(G,P,se){switch(e.propertiesTypes[P]){case"byte":{G.write(r.from([e.properties[P]])),G.write(r.from([+se]));break}case"int8":{G.write(r.from([e.properties[P]])),G.write(r.from([se]));break}case"binary":{G.write(r.from([e.properties[P]])),H(G,se);break}case"int16":{G.write(r.from([e.properties[P]])),g(G,se);break}case"int32":{G.write(r.from([e.properties[P]])),Oe(G,se);break}case"var":{G.write(r.from([e.properties[P]])),X(G,se);break}case"string":{G.write(r.from([e.properties[P]])),U(G,se);break}case"pair":{Object.getOwnPropertyNames(se).forEach(Q=>{let q=se[Q];Array.isArray(q)?q.forEach(z=>{G.write(r.from([e.properties[P]])),ce(G,Q.toString(),z.toString())}):(G.write(r.from([e.properties[P]])),ce(G,Q.toString(),q.toString()))});break}default:return G.destroy(new Error(`Invalid property ${P} value: ${se}`)),!1}}function Te(G,P,se){X(G,se);for(let Q in P)if(Object.prototype.hasOwnProperty.call(P,Q)&&P[Q]!=null){let q=P[Q];if(Array.isArray(q))for(let z=0;z<q.length;z++)ge(G,Q,q[z]);else ge(G,Q,q)}}function te(G){return G?G instanceof r?G.length:r.byteLength(G):0}function Fe(G){return typeof G=="string"||G instanceof r}n.exports=v}),Yk=Ee((t,n)=>{ue(),fe(),de();var e=wI(),{EventEmitter:r}=(Xo(),Et(oo)),{Buffer:i}=(sn(),Et(on));function o(a,l){let c=new s;return e(a,c,l),c.concat()}var s=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),c=this._array,u=0,d;for(d=0;d<c.length&&c[d]!==void 0;d++)typeof c[d]!="string"?l[d]=c[d].length:l[d]=i.byteLength(c[d]),a+=l[d];let h=i.allocUnsafe(a);for(d=0;d<c.length&&c[d]!==void 0;d++)typeof c[d]!="string"?(c[d].copy(h,u),u+=l[d]):(h.write(c[d],u),u+=l[d]);return h}destroy(a){a&&this.emit("error",a)}};n.exports=o}),Qk=Ee(t=>{ue(),fe(),de(),t.parser=zk().parser,t.generate=Yk(),t.writeToStream=wI()}),CI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};t.default=n}),Zk=Ee((t,n)=>{"use strict";ue(),fe(),de(),n.exports=r;function e(o){return o instanceof af?af.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function r(o){if(o=o||{},o.circles)return i(o);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,h)=>new Map(l(Array.from(d),h))),s.set(Set,(d,h)=>new Set(l(Array.from(d),h))),o.constructorHandlers)for(let d of o.constructorHandlers)s.set(d[0],d[1]);let a=null;return o.proto?u:c;function l(d,h){let f=Object.keys(d),g=new Array(f.length);for(let m=0;m<f.length;m++){let v=f[m],w=d[v];typeof w!="object"||w===null?g[v]=w:w.constructor!==Object&&(a=s.get(w.constructor))?g[v]=a(w,h):ArrayBuffer.isView(w)?g[v]=e(w):g[v]=h(w)}return g}function c(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,c);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,c);let h={};for(let f in d){if(Object.hasOwnProperty.call(d,f)===!1)continue;let g=d[f];typeof g!="object"||g===null?h[f]=g:g.constructor!==Object&&(a=s.get(g.constructor))?h[f]=a(g,c):ArrayBuffer.isView(g)?h[f]=e(g):h[f]=c(g)}return h}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,u);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,u);let h={};for(let f in d){let g=d[f];typeof g!="object"||g===null?h[f]=g:g.constructor!==Object&&(a=s.get(g.constructor))?h[f]=a(g,u):ArrayBuffer.isView(g)?h[f]=e(g):h[f]=u(g)}return h}}function i(o){let s=[],a=[],l=new Map;if(l.set(Date,f=>new Date(f)),l.set(Map,(f,g)=>new Map(u(Array.from(f),g))),l.set(Set,(f,g)=>new Set(u(Array.from(f),g))),o.constructorHandlers)for(let f of o.constructorHandlers)l.set(f[0],f[1]);let c=null;return o.proto?h:d;function u(f,g){let m=Object.keys(f),v=new Array(m.length);for(let w=0;w<m.length;w++){let y=m[w],b=f[y];if(typeof b!="object"||b===null)v[y]=b;else if(b.constructor!==Object&&(c=l.get(b.constructor)))v[y]=c(b,g);else if(ArrayBuffer.isView(b))v[y]=e(b);else{let I=s.indexOf(b);I!==-1?v[y]=a[I]:v[y]=g(b)}}return v}function d(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return u(f,d);if(f.constructor!==Object&&(c=l.get(f.constructor)))return c(f,d);let g={};s.push(f),a.push(g);for(let m in f){if(Object.hasOwnProperty.call(f,m)===!1)continue;let v=f[m];if(typeof v!="object"||v===null)g[m]=v;else if(v.constructor!==Object&&(c=l.get(v.constructor)))g[m]=c(v,d);else if(ArrayBuffer.isView(v))g[m]=e(v);else{let w=s.indexOf(v);w!==-1?g[m]=a[w]:g[m]=d(v)}}return s.pop(),a.pop(),g}function h(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return u(f,h);if(f.constructor!==Object&&(c=l.get(f.constructor)))return c(f,h);let g={};s.push(f),a.push(g);for(let m in f){let v=f[m];if(typeof v!="object"||v===null)g[m]=v;else if(v.constructor!==Object&&(c=l.get(v.constructor)))g[m]=c(v,h);else if(ArrayBuffer.isView(v))g[m]=e(v);else{let w=s.indexOf(v);w!==-1?g[m]=a[w]:g[m]=h(v)}}return s.pop(),a.pop(),g}}}),Kk=Ee((t,n)=>{"use strict";ue(),fe(),de(),n.exports=Zk()()}),Xk=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopic=n,t.validateTopics=e;function n(r){let i=r.split("/");for(let o=0;o<i.length;o++)if(i[o]!=="+"){if(i[o]==="#")return o===i.length-1;if(i[o].indexOf("+")!==-1||i[o].indexOf("#")!==-1)return!1}return!0}function e(r){if(r.length===0)return"empty_topic_list";for(let i=0;i<r.length;i++)if(!n(r[i]))return r[i];return null}}),EI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=es(),e={objectMode:!0},r={clean:!0},i=class{constructor(o){this.options=o||{},this.options=Object.assign(Object.assign({},r),o),this._inflights=new Map}put(o,s){return this._inflights.set(o.messageId,o),s&&s(),this}createStream(){let o=new n.Readable(e),s=[],a=!1,l=0;return this._inflights.forEach((c,u)=>{s.push(c)}),o._read=()=>{!a&&l<s.length?o.push(s[l++]):o.push(null)},o.destroy=c=>{if(!a)return a=!0,setTimeout(()=>{o.emit("close")},0),o},o}del(o,s){let a=this._inflights.get(o.messageId);return a?(this._inflights.delete(o.messageId),s(null,a)):s&&s(new Error("missing packet")),this}get(o,s){let a=this._inflights.get(o.messageId);return a?s(null,a):s&&s(new Error("missing packet")),this}close(o){this.options.clean&&(this._inflights=null),o&&o()}};t.default=i}),Jk=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=[0,16,128,131,135,144,145,151,153],e=(r,i,o)=>{r.log("handlePublish: packet %o",i),o=typeof o<"u"?o:r.noop;let s=i.topic.toString(),a=i.payload,{qos:l}=i,{messageId:c}=i,{options:u}=r;if(r.options.protocolVersion===5){let d;if(i.properties&&(d=i.properties.topicAlias),typeof d<"u")if(s.length===0)if(d>0&&d<=65535){let h=r.topicAliasRecv.getTopicByAlias(d);if(h)s=h,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,d);else{r.log("handlePublish :: unregistered topic alias. alias: %d",d),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",d),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(s,d))r.log("handlePublish :: registered topic: %s - alias: %d",s,d);else{r.log("handlePublish :: topic alias out of range. alias: %d",d),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",l),l){case 2:{u.customHandleAcks(s,a,i,(d,h)=>{if(typeof d=="number"&&(h=d,d=null),d)return r.emit("error",d);if(n.indexOf(h)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));h?r._sendPacket({cmd:"pubrec",messageId:c,reasonCode:h},o):r.incomingStore.put(i,()=>{r._sendPacket({cmd:"pubrec",messageId:c},o)})});break}case 1:{u.customHandleAcks(s,a,i,(d,h)=>{if(typeof d=="number"&&(h=d,d=null),d)return r.emit("error",d);if(n.indexOf(h)===-1)return r.emit("error",new Error("Wrong reason code for puback"));h||r.emit("message",s,a,i),r.handleMessage(i,f=>{if(f)return o&&o(f);r._sendPacket({cmd:"puback",messageId:c,reasonCode:h},o)})});break}case 0:r.emit("message",s,a,i),r.handleMessage(i,o);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=e}),eF=Ee((t,n)=>{n.exports={version:"5.13.0"}}),ma=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.ErrorWithSubackPacket=t.ErrorWithReasonCode=void 0,t.applyMixin=r;var n=class SI extends Error{constructor(o,s){super(o),this.code=s,Object.setPrototypeOf(this,SI.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=n;var e=class II extends Error{constructor(o,s){super(o),this.packet=s,Object.setPrototypeOf(this,II.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};t.ErrorWithSubackPacket=e;function r(i,o,s=!1){var a;let l=[o];for(;;){let c=l[0],u=Object.getPrototypeOf(c);if(u?.prototype)l.unshift(u);else break}for(let c of l)for(let u of Object.getOwnPropertyNames(c.prototype))(s||u!=="constructor")&&Object.defineProperty(i.prototype,u,(a=Object.getOwnPropertyDescriptor(c.prototype,u))!==null&&a!==void 0?a:Object.create(null))}t.nextTick=typeof gt?.nextTick=="function"?gt.nextTick:i=>{setTimeout(i,0)},t.MQTTJS_VERSION=eF().version}),hf=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var n=ma();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(r,i)=>{let{messageId:o}=i,s=i.cmd,a=null,l=r.outgoing[o]?r.outgoing[o].cb:null,c=null;if(!l){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let u=i.reasonCode;u&&u>0&&u!==16?(c=new n.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(o,()=>{l(c,i)})):r._removeOutgoingAndStoreMessage(o,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:o};let u=i.reasonCode;u&&u>0&&u!==16?(c=new n.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(o,()=>{l(c,i)})):r._sendPacket(a);break}case"suback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o);let u=i.granted;for(let d=0;d<u.length;d++){let h=u[d];if((h&128)!==0){c=new Error(`Subscribe error: ${t.ReasonCodes[h]}`),c.code=h;let f=r.messageIdToTopic[o];f&&f.forEach(g=>{delete r._resubscribeTopics[g]})}}delete r.messageIdToTopic[o],r._invokeStoreProcessingQueue(),l(c,i);break}case"unsuback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o),r._invokeStoreProcessingQueue(),l(null,i);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};t.default=e}),tF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=ma(),e=hf(),r=(i,o)=>{let{options:s}=i,a=s.protocolVersion,l=a===5?o.reasonCode:o.returnCode;if(a!==5){let c=new n.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);i.emit("error",c);return}i.handleAuth(o,(c,u)=>{if(c){i.emit("error",c);return}if(l===24)i.reconnecting=!1,i._sendPacket(u);else{let d=new n.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[l]}`,l);i.emit("error",d)}})};t.default=r}),nF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var n=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,r=typeof gt=="object"&&gt?gt:{},i=(g,m,v,w)=>{typeof r.emitWarning=="function"?r.emitWarning(g,m,v,w):console.error(`[${v}] ${m}: ${g}`)},o=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof o>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(v,w){this._onabort.push(w)}},o=class{constructor(){m()}signal=new s;abort(v){if(!this.signal.aborted){this.signal.reason=v,this.signal.aborted=!0;for(let w of this.signal._onabort)w(v);this.signal.onabort?.(v)}}};let g=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",m=()=>{g&&(g=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",m))}}var a=g=>!e.has(g),l=Symbol("type"),c=g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),u=g=>c(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(g){super(g),this.fill(0)}},h=class Ql{heap;length;static#l=!1;static create(m){let v=u(m);if(!v)return[];Ql.#l=!0;let w=new Ql(m,v);return Ql.#l=!1,w}constructor(m,v){if(!Ql.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new v(m),this.length=0}push(m){this.heap[this.length++]=m}pop(){return this.heap[--this.length]}},f=class DI{#l;#d;#g;#m;#A;#O;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#v;#r;#n;#e;#c;#f;#a;#o;#y;#s;#_;#b;#h;#w;#D;#u;static unsafeExposeInternals(m){return{starts:m.#b,ttls:m.#h,sizes:m.#_,keyMap:m.#r,keyList:m.#n,valList:m.#e,next:m.#c,prev:m.#f,get head(){return m.#a},get tail(){return m.#o},free:m.#y,isBackgroundFetch:v=>m.#t(v),backgroundFetch:(v,w,y,b)=>m.#P(v,w,y,b),moveToTail:v=>m.#T(v),indexes:v=>m.#C(v),rindexes:v=>m.#E(v),isStale:v=>m.#p(v)}}get max(){return this.#l}get maxSize(){return this.#d}get calculatedSize(){return this.#v}get size(){return this.#i}get fetchMethod(){return this.#A}get memoMethod(){return this.#O}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(m){let{max:v=0,ttl:w,ttlResolution:y=1,ttlAutopurge:b,updateAgeOnGet:I,updateAgeOnHas:x,allowStale:E,dispose:D,disposeAfter:N,noDisposeOnSet:W,noUpdateTTL:J,maxSize:he=0,maxEntrySize:L=0,sizeCalculation:Y,fetchMethod:X,memoMethod:U,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:_e,allowStaleOnFetchRejection:Se,allowStaleOnFetchAbort:Oe,ignoreFetchAbort:H}=m;if(v!==0&&!c(v))throw new TypeError("max option must be a nonnegative integer");let ve=v?u(v):Array;if(!ve)throw new Error("invalid max value: "+v);if(this.#l=v,this.#d=he,this.maxEntrySize=L||this.#d,this.sizeCalculation=Y,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(U!==void 0&&typeof U!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#O=U,X!==void 0&&typeof X!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#A=X,this.#D=!!X,this.#r=new Map,this.#n=new Array(v).fill(void 0),this.#e=new Array(v).fill(void 0),this.#c=new ve(v),this.#f=new ve(v),this.#a=0,this.#o=0,this.#y=h.create(v),this.#i=0,this.#v=0,typeof D=="function"&&(this.#g=D),typeof N=="function"?(this.#m=N,this.#s=[]):(this.#m=void 0,this.#s=void 0),this.#w=!!this.#g,this.#u=!!this.#m,this.noDisposeOnSet=!!W,this.noUpdateTTL=!!J,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!Se,this.allowStaleOnFetchAbort=!!Oe,this.ignoreFetchAbort=!!H,this.maxEntrySize!==0){if(this.#d!==0&&!c(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!E,this.noDeleteOnStaleGet=!!_e,this.updateAgeOnGet=!!I,this.updateAgeOnHas=!!x,this.ttlResolution=c(y)||y===0?y:1,this.ttlAutopurge=!!b,this.ttl=w||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#k()}if(this.#l===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#d){let T="LRU_CACHE_UNBOUNDED";a(T)&&(e.add(T),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",T,DI))}}getRemainingTTL(m){return this.#r.has(m)?1/0:0}#k(){let m=new d(this.#l),v=new d(this.#l);this.#h=m,this.#b=v,this.#F=(b,I,x=n.now())=>{if(v[b]=I!==0?x:0,m[b]=I,I!==0&&this.ttlAutopurge){let E=setTimeout(()=>{this.#p(b)&&this.#S(this.#n[b],"expire")},I+1);E.unref&&E.unref()}},this.#x=b=>{v[b]=m[b]!==0?n.now():0},this.#I=(b,I)=>{if(m[I]){let x=m[I],E=v[I];if(!x||!E)return;b.ttl=x,b.start=E,b.now=w||y();let D=b.now-E;b.remainingTTL=x-D}};let w=0,y=()=>{let b=n.now();if(this.ttlResolution>0){w=b;let I=setTimeout(()=>w=0,this.ttlResolution);I.unref&&I.unref()}return b};this.getRemainingTTL=b=>{let I=this.#r.get(b);if(I===void 0)return 0;let x=m[I],E=v[I];if(!x||!E)return 1/0;let D=(w||y())-E;return x-D},this.#p=b=>{let I=v[b],x=m[b];return!!x&&!!I&&(w||y())-I>x}}#x=()=>{};#I=()=>{};#F=()=>{};#p=()=>!1;#U(){let m=new d(this.#l);this.#v=0,this.#_=m,this.#M=v=>{this.#v-=m[v],m[v]=0},this.#L=(v,w,y,b)=>{if(this.#t(w))return 0;if(!c(y))if(b){if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(y=b(w,v),!c(y))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return y},this.#R=(v,w,y)=>{if(m[v]=w,this.#d){let b=this.#d-m[v];for(;this.#v>b;)this.#N(!0)}this.#v+=m[v],y&&(y.entrySize=w,y.totalCalculatedSize=this.#v)}}#M=m=>{};#R=(m,v,w)=>{};#L=(m,v,w,y)=>{if(w||y)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#C({allowStale:m=this.allowStale}={}){if(this.#i)for(let v=this.#o;!(!this.#j(v)||((m||!this.#p(v))&&(yield v),v===this.#a));)v=this.#f[v]}*#E({allowStale:m=this.allowStale}={}){if(this.#i)for(let v=this.#a;!(!this.#j(v)||((m||!this.#p(v))&&(yield v),v===this.#o));)v=this.#c[v]}#j(m){return m!==void 0&&this.#r.get(this.#n[m])===m}*entries(){for(let m of this.#C())this.#e[m]!==void 0&&this.#n[m]!==void 0&&!this.#t(this.#e[m])&&(yield[this.#n[m],this.#e[m]])}*rentries(){for(let m of this.#E())this.#e[m]!==void 0&&this.#n[m]!==void 0&&!this.#t(this.#e[m])&&(yield[this.#n[m],this.#e[m]])}*keys(){for(let m of this.#C()){let v=this.#n[m];v!==void 0&&!this.#t(this.#e[m])&&(yield v)}}*rkeys(){for(let m of this.#E()){let v=this.#n[m];v!==void 0&&!this.#t(this.#e[m])&&(yield v)}}*values(){for(let m of this.#C())this.#e[m]!==void 0&&!this.#t(this.#e[m])&&(yield this.#e[m])}*rvalues(){for(let m of this.#E())this.#e[m]!==void 0&&!this.#t(this.#e[m])&&(yield this.#e[m])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(m,v={}){for(let w of this.#C()){let y=this.#e[w],b=this.#t(y)?y.__staleWhileFetching:y;if(b!==void 0&&m(b,this.#n[w],this))return this.get(this.#n[w],v)}}forEach(m,v=this){for(let w of this.#C()){let y=this.#e[w],b=this.#t(y)?y.__staleWhileFetching:y;b!==void 0&&m.call(v,b,this.#n[w],this)}}rforEach(m,v=this){for(let w of this.#E()){let y=this.#e[w],b=this.#t(y)?y.__staleWhileFetching:y;b!==void 0&&m.call(v,b,this.#n[w],this)}}purgeStale(){let m=!1;for(let v of this.#E({allowStale:!0}))this.#p(v)&&(this.#S(this.#n[v],"expire"),m=!0);return m}info(m){let v=this.#r.get(m);if(v===void 0)return;let w=this.#e[v],y=this.#t(w)?w.__staleWhileFetching:w;if(y===void 0)return;let b={value:y};if(this.#h&&this.#b){let I=this.#h[v],x=this.#b[v];if(I&&x){let E=I-(n.now()-x);b.ttl=E,b.start=Date.now()}}return this.#_&&(b.size=this.#_[v]),b}dump(){let m=[];for(let v of this.#C({allowStale:!0})){let w=this.#n[v],y=this.#e[v],b=this.#t(y)?y.__staleWhileFetching:y;if(b===void 0||w===void 0)continue;let I={value:b};if(this.#h&&this.#b){I.ttl=this.#h[v];let x=n.now()-this.#b[v];I.start=Math.floor(Date.now()-x)}this.#_&&(I.size=this.#_[v]),m.unshift([w,I])}return m}load(m){this.clear();for(let[v,w]of m){if(w.start){let y=Date.now()-w.start;w.start=n.now()-y}this.set(v,w.value,w)}}set(m,v,w={}){if(v===void 0)return this.delete(m),this;let{ttl:y=this.ttl,start:b,noDisposeOnSet:I=this.noDisposeOnSet,sizeCalculation:x=this.sizeCalculation,status:E}=w,{noUpdateTTL:D=this.noUpdateTTL}=w,N=this.#L(m,v,w.size||0,x);if(this.maxEntrySize&&N>this.maxEntrySize)return E&&(E.set="miss",E.maxEntrySizeExceeded=!0),this.#S(m,"set"),this;let W=this.#i===0?void 0:this.#r.get(m);if(W===void 0)W=this.#i===0?this.#o:this.#y.length!==0?this.#y.pop():this.#i===this.#l?this.#N(!1):this.#i,this.#n[W]=m,this.#e[W]=v,this.#r.set(m,W),this.#c[this.#o]=W,this.#f[W]=this.#o,this.#o=W,this.#i++,this.#R(W,N,E),E&&(E.set="add"),D=!1;else{this.#T(W);let J=this.#e[W];if(v!==J){if(this.#D&&this.#t(J)){J.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:he}=J;he!==void 0&&!I&&(this.#w&&this.#g?.(he,m,"set"),this.#u&&this.#s?.push([he,m,"set"]))}else I||(this.#w&&this.#g?.(J,m,"set"),this.#u&&this.#s?.push([J,m,"set"]));if(this.#M(W),this.#R(W,N,E),this.#e[W]=v,E){E.set="replace";let he=J&&this.#t(J)?J.__staleWhileFetching:J;he!==void 0&&(E.oldValue=he)}}else E&&(E.set="update")}if(y!==0&&!this.#h&&this.#k(),this.#h&&(D||this.#F(W,y,b),E&&this.#I(E,W)),!I&&this.#u&&this.#s){let J=this.#s,he;for(;he=J?.shift();)this.#m?.(...he)}return this}pop(){try{for(;this.#i;){let m=this.#e[this.#a];if(this.#N(!0),this.#t(m)){if(m.__staleWhileFetching)return m.__staleWhileFetching}else if(m!==void 0)return m}}finally{if(this.#u&&this.#s){let m=this.#s,v;for(;v=m?.shift();)this.#m?.(...v)}}}#N(m){let v=this.#a,w=this.#n[v],y=this.#e[v];return this.#D&&this.#t(y)?y.__abortController.abort(new Error("evicted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(y,w,"evict"),this.#u&&this.#s?.push([y,w,"evict"])),this.#M(v),m&&(this.#n[v]=void 0,this.#e[v]=void 0,this.#y.push(v)),this.#i===1?(this.#a=this.#o=0,this.#y.length=0):this.#a=this.#c[v],this.#r.delete(w),this.#i--,v}has(m,v={}){let{updateAgeOnHas:w=this.updateAgeOnHas,status:y}=v,b=this.#r.get(m);if(b!==void 0){let I=this.#e[b];if(this.#t(I)&&I.__staleWhileFetching===void 0)return!1;if(this.#p(b))y&&(y.has="stale",this.#I(y,b));else return w&&this.#x(b),y&&(y.has="hit",this.#I(y,b)),!0}else y&&(y.has="miss");return!1}peek(m,v={}){let{allowStale:w=this.allowStale}=v,y=this.#r.get(m);if(y===void 0||!w&&this.#p(y))return;let b=this.#e[y];return this.#t(b)?b.__staleWhileFetching:b}#P(m,v,w,y){let b=v===void 0?void 0:this.#e[v];if(this.#t(b))return b;let I=new o,{signal:x}=w;x?.addEventListener("abort",()=>I.abort(x.reason),{signal:I.signal});let E={signal:I.signal,options:w,context:y},D=(Y,X=!1)=>{let{aborted:U}=I.signal,ce=w.ignoreFetchAbort&&Y!==void 0;if(w.status&&(U&&!X?(w.status.fetchAborted=!0,w.status.fetchError=I.signal.reason,ce&&(w.status.fetchAbortIgnored=!0)):w.status.fetchResolved=!0),U&&!ce&&!X)return W(I.signal.reason);let _e=he;return this.#e[v]===he&&(Y===void 0?_e.__staleWhileFetching?this.#e[v]=_e.__staleWhileFetching:this.#S(m,"fetch"):(w.status&&(w.status.fetchUpdated=!0),this.set(m,Y,E.options))),Y},N=Y=>(w.status&&(w.status.fetchRejected=!0,w.status.fetchError=Y),W(Y)),W=Y=>{let{aborted:X}=I.signal,U=X&&w.allowStaleOnFetchAbort,ce=U||w.allowStaleOnFetchRejection,_e=ce||w.noDeleteOnFetchRejection,Se=he;if(this.#e[v]===he&&(!_e||Se.__staleWhileFetching===void 0?this.#S(m,"fetch"):U||(this.#e[v]=Se.__staleWhileFetching)),ce)return w.status&&Se.__staleWhileFetching!==void 0&&(w.status.returnedStale=!0),Se.__staleWhileFetching;if(Se.__returned===Se)throw Y},J=(Y,X)=>{let U=this.#A?.(m,b,E);U&&U instanceof Promise&&U.then(ce=>Y(ce===void 0?void 0:ce),X),I.signal.addEventListener("abort",()=>{(!w.ignoreFetchAbort||w.allowStaleOnFetchAbort)&&(Y(void 0),w.allowStaleOnFetchAbort&&(Y=ce=>D(ce,!0)))})};w.status&&(w.status.fetchDispatched=!0);let he=new Promise(J).then(D,N),L=Object.assign(he,{__abortController:I,__staleWhileFetching:b,__returned:void 0});return v===void 0?(this.set(m,L,Ye(we({},E.options),{status:void 0})),v=this.#r.get(m)):this.#e[v]=L,L}#t(m){if(!this.#D)return!1;let v=m;return!!v&&v instanceof Promise&&v.hasOwnProperty("__staleWhileFetching")&&v.__abortController instanceof o}fetch(w){return Ge(this,arguments,function*(m,v={}){let{allowStale:y=this.allowStale,updateAgeOnGet:b=this.updateAgeOnGet,noDeleteOnStaleGet:I=this.noDeleteOnStaleGet,ttl:x=this.ttl,noDisposeOnSet:E=this.noDisposeOnSet,size:D=0,sizeCalculation:N=this.sizeCalculation,noUpdateTTL:W=this.noUpdateTTL,noDeleteOnFetchRejection:J=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:he=this.allowStaleOnFetchRejection,ignoreFetchAbort:L=this.ignoreFetchAbort,allowStaleOnFetchAbort:Y=this.allowStaleOnFetchAbort,context:X,forceRefresh:U=!1,status:ce,signal:_e}=v;if(!this.#D)return ce&&(ce.fetch="get"),this.get(m,{allowStale:y,updateAgeOnGet:b,noDeleteOnStaleGet:I,status:ce});let Se={allowStale:y,updateAgeOnGet:b,noDeleteOnStaleGet:I,ttl:x,noDisposeOnSet:E,size:D,sizeCalculation:N,noUpdateTTL:W,noDeleteOnFetchRejection:J,allowStaleOnFetchRejection:he,allowStaleOnFetchAbort:Y,ignoreFetchAbort:L,status:ce,signal:_e},Oe=this.#r.get(m);if(Oe===void 0){ce&&(ce.fetch="miss");let H=this.#P(m,Oe,Se,X);return H.__returned=H}else{let H=this.#e[Oe];if(this.#t(H)){let Te=y&&H.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",Te&&(ce.returnedStale=!0)),Te?H.__staleWhileFetching:H.__returned=H}let ve=this.#p(Oe);if(!U&&!ve)return ce&&(ce.fetch="hit"),this.#T(Oe),b&&this.#x(Oe),ce&&this.#I(ce,Oe),H;let T=this.#P(m,Oe,Se,X),ge=T.__staleWhileFetching!==void 0&&y;return ce&&(ce.fetch=ve?"stale":"refresh",ge&&ve&&(ce.returnedStale=!0)),ge?T.__staleWhileFetching:T.__returned=T}})}forceFetch(w){return Ge(this,arguments,function*(m,v={}){let y=yield this.fetch(m,v);if(y===void 0)throw new Error("fetch() returned undefined");return y})}memo(m,v={}){let w=this.#O;if(!w)throw new Error("no memoMethod provided to constructor");let D=v,{context:y,forceRefresh:b}=D,I=Ff(D,["context","forceRefresh"]),x=this.get(m,I);if(!b&&x!==void 0)return x;let E=w(m,x,{options:I,context:y});return this.set(m,E,I),E}get(m,v={}){let{allowStale:w=this.allowStale,updateAgeOnGet:y=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:I}=v,x=this.#r.get(m);if(x!==void 0){let E=this.#e[x],D=this.#t(E);return I&&this.#I(I,x),this.#p(x)?(I&&(I.get="stale"),D?(I&&w&&E.__staleWhileFetching!==void 0&&(I.returnedStale=!0),w?E.__staleWhileFetching:void 0):(b||this.#S(m,"expire"),I&&w&&(I.returnedStale=!0),w?E:void 0)):(I&&(I.get="hit"),D?E.__staleWhileFetching:(this.#T(x),y&&this.#x(x),E))}else I&&(I.get="miss")}#V(m,v){this.#f[v]=m,this.#c[m]=v}#T(m){m!==this.#o&&(m===this.#a?this.#a=this.#c[m]:this.#V(this.#f[m],this.#c[m]),this.#V(this.#o,m),this.#o=m)}delete(m){return this.#S(m,"delete")}#S(m,v){let w=!1;if(this.#i!==0){let y=this.#r.get(m);if(y!==void 0)if(w=!0,this.#i===1)this.#B(v);else{this.#M(y);let b=this.#e[y];if(this.#t(b)?b.__abortController.abort(new Error("deleted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(b,m,v),this.#u&&this.#s?.push([b,m,v])),this.#r.delete(m),this.#n[y]=void 0,this.#e[y]=void 0,y===this.#o)this.#o=this.#f[y];else if(y===this.#a)this.#a=this.#c[y];else{let I=this.#f[y];this.#c[I]=this.#c[y];let x=this.#c[y];this.#f[x]=this.#f[y]}this.#i--,this.#y.push(y)}}if(this.#u&&this.#s?.length){let y=this.#s,b;for(;b=y?.shift();)this.#m?.(...b)}return w}clear(){return this.#B("delete")}#B(m){for(let v of this.#E({allowStale:!0})){let w=this.#e[v];if(this.#t(w))w.__abortController.abort(new Error("deleted"));else{let y=this.#n[v];this.#w&&this.#g?.(w,y,m),this.#u&&this.#s?.push([w,y,m])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#h&&this.#b&&(this.#h.fill(0),this.#b.fill(0)),this.#_&&this.#_.fill(0),this.#a=0,this.#o=0,this.#y.length=0,this.#v=0,this.#i=0,this.#u&&this.#s){let v=this.#s,w;for(;w=v?.shift();)this.#m?.(...w)}}};t.LRUCache=f}),Ri=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var n=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};t.ContainerIterator=n;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=e;var r=class extends e{};t.Container=r}),rF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=Ri(),e=class extends n.Base{constructor(i=[]){super(),this.S=[];let o=this;i.forEach(function(s){o.push(s)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=e;t.default=r}),iF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=Ri(),e=class extends n.Base{constructor(i=[]){super(),this.j=0,this.q=[];let o=this;i.forEach(function(s){o.push(s)})}clear(){this.q=[],this.i=this.j=0}push(i){let o=this.q.length;if(this.j/o>.5&&this.j+this.i>=o&&o>4096){let s=this.i;for(let a=0;a<s;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},r=e;t.default=r}),oF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=Ri(),e=class extends n.Base{constructor(i=[],o=function(a,l){return a>l?-1:a<l?1:0},s=!0){if(super(),this.v=o,Array.isArray(i))this.C=s?[...i]:i;else{this.C=[];let l=this;i.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(i){let o=this.C[i];for(;i>0;){let s=i-1>>1,a=this.C[s];if(this.v(a,o)<=0)break;this.C[i]=a,i=s}this.C[i]=o}k(i,o){let s=this.C[i];for(;i<o;){let a=i<<1|1,l=a+1,c=this.C[a];if(l<this.i&&this.v(c,this.C[l])>0&&(a=l,c=this.C[l]),this.v(c,s)>=0)break;this.C[i]=c,i=a}this.C[i]=s}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],o=this.C.pop();return this.i-=1,this.i&&(this.C[0]=o,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let o=this.C.indexOf(i);return o<0?!1:(o===0?this.pop():o===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(o,1,this.C.pop()),this.i-=1,this.m(o),this.k(o,this.i>>1)),!0)}updateItem(i){let o=this.C.indexOf(i);return o<0?!1:(this.m(o),this.k(o,this.i>>1),!0)}toArray(){return[...this.C]}},r=e;t.default=r}),wy=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=Ri(),e=class extends n.Container{},r=e;t.default=r}),Ni=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=n;function n(){throw new RangeError("Iterator access denied!")}}),xI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var n=Ri(),e=Ni(),r=class extends n.ContainerIterator{constructor(i,o){super(o),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};t.RandomIterator=r}),sF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=r(wy()),e=xI();function r(a){return a&&a.t?a:{default:a}}var i=class MI extends e.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new MI(this.o,this.container,this.iteratorType)}},o=class extends n.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let c=this;a.forEach(function(u){c.pushBack(u)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==a&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(c).fill(l)),this.i+=c,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return function*(){yield*Pi(this.J)}.bind(this)()}},s=o;t.default=s}),aF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=i(wy()),e=Ri(),r=Ni();function i(l){return l&&l.t?l:{default:l}}var o=class TI extends e.ContainerIterator{constructor(c,u,d,h){super(h),this.o=c,this.h=u,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=c}copy(){return new TI(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(u){c.pushBack(u)})}V(l){let{L:c,B:u}=l;c.B=u,u.L=c,l===this.p&&(this.p=u),l===this._&&(this._=c),this.i-=1}G(l,c){let u=c.B,d={l,L:c,B:u};c.B=d,u.L=d,c===this.h&&(this.p=d),u===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,r.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;u.l=c}insert(l,c,u=1){if(l<0||l>this.i)throw new RangeError;if(u<=0)return this.i;if(l===0)for(;u--;)this.pushFront(c);else if(l===this.i)for(;u--;)this.pushBack(c);else{let d=this.p;for(let f=1;f<l;++f)d=d.B;let h=d.B;for(this.i+=u;u--;)d.B={l:c,L:d},d.B.L=d,d=d.B;d.B=h,h.L=d}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new o(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,u=0;for(;u<<1<this.i;){let d=l.l;l.l=c.l,c.l=d,l=l.B,c=c.L,u+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(d){c.push(d)}),c.sort(l);let u=this.p;c.forEach(function(d){u.l=d,u=u.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(u){c.pushBack(u)});else{let u=this.p;l.forEach(function(d){for(;u!==c.h&&u.l<=d;)u=u.B;c.G(d,u.L)})}return this.i}forEach(l){let c=this.p,u=0;for(;c!==this.h;)l(c.l,u++,this),c=c.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}.bind(this)()}},a=s;t.default=a}),lF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=r(wy()),e=xI();function r(a){return a&&a.t?a:{default:a}}var i=class AI extends e.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new AI(this.o,this.container,this.iteratorType)}},o=class extends n.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let h=0;h<this.P;++h)this.A.push(new Array(this.F));let u=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(u>>1),this.D=this.N=this.F-c%this.F>>1;let d=this;a.forEach(function(h){d.pushBack(h)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)a[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)a[a.length]=this.A[c];for(let c=0;c<this.R;++c)a[a.length]=this.A[c];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let c=0;c<l;++c)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,c=l%this.F,u=c-1,d=this.j+(l-c)/this.F;return c===0&&(d-=1),d%=this.P,u<0&&(u+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:u}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.A[l][c]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:u}=this.O(a);this.A[c][u]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;c--;)this.pushFront(l);else if(a===this.i)for(;c--;)this.pushBack(l);else{let u=[];for(let d=a;d<this.i;++d)u.push(this.getElementByPos(d));this.cut(a-1);for(let d=0;d<c;++d)this.pushBack(l);for(let d=0;d<u.length;++d)this.pushBack(u[d])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.R=l,this.N=c,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let u=a+1;u<this.i;++u)l.push(this.getElementByPos(u));this.cut(a),this.popBack();let c=this;l.forEach(function(u){c.pushBack(u)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let u=0;u<this.i;++u){let d=this.getElementByPos(u);d!==a&&l.push(d)}let c=l.length;for(let u=0;u<c;++u)this.setElementByPos(u,l[u]);return this.cut(c-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new i(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let c=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,c),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let u=this.getElementByPos(c);u!==l&&(l=u,this.setElementByPos(a++,u))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(a);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}.bind(this)()}},s=o;t.default=s}),cF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var n=class{constructor(r,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=i}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let i=r.tt;for(;i.U===r;)r=i,i=r.tt;r=i}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let i=r.tt;for(;i.W===r;)r=i,i=r.tt;return r.W!==i?i:r}}te(){let r=this.tt,i=this.W,o=i.U;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.U=this,this.tt=i,this.W=o,o&&(o.tt=this),i}se(){let r=this.tt,i=this.U,o=i.W;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.W=this,this.tt=i,this.U=o,o&&(o.tt=this),i}};t.TreeNode=n;var e=class extends n{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=e}),OI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=cF(),e=Ri(),r=Ni(),i=class extends e.Container{constructor(s=function(l,c){return l<c?-1:l>c?1:0},a=!1){super(),this.Y=void 0,this.v=s,a?(this.re=n.TreeNodeEnableIndex,this.M=function(l,c,u){let d=this.ne(l,c,u);if(d){let h=d.tt;for(;h!==this.h;)h.rt+=1,h=h.tt;let f=this.he(d);if(f){let{parentNode:g,grandParent:m,curNode:v}=f;g.ie(),m.ie(),v.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=n.TreeNode,this.M=function(l,c,u){let d=this.ne(l,c,u);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(s,a){let l=this.h;for(;s;){let c=this.v(s.u,a);if(c<0)s=s.W;else if(c>0)l=s,s=s.U;else return s}return l}Z(s,a){let l=this.h;for(;s;)this.v(s.u,a)<=0?s=s.W:(l=s,s=s.U);return l}$(s,a){let l=this.h;for(;s;){let c=this.v(s.u,a);if(c<0)l=s,s=s.W;else if(c>0)s=s.U;else return s}return l}rr(s,a){let l=this.h;for(;s;)this.v(s.u,a)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let a=s.tt;if(a===this.h)return;if(s.ee===1){s.ee=0;return}if(s===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=a)}}}fe(s){if(this.i===1)return this.clear(),this.h;let a=s;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[s.u,a.u]=[a.u,s.u],[s.l,a.l]=[a.l,s.l],s=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,a){return s===void 0?!1:this.oe(s.U,a)||a(s)?!0:this.oe(s.W,a)}he(s){for(;;){let a=s.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.W){if(s.ee=0,s.U&&(s.U.tt=a),s.W&&(s.W.tt=l),a.W=s.U,l.U=s.W,s.U=a,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let u=l.tt;u.U===l?u.U=s:u.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=a),l.W=s.U,a.U=s.W,s.U=l,s.W=a,l===this.Y)this.Y=s,this.h.tt=s;else{let u=l.tt;u.U===l?u.U=s:u.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,u=this.h.U,d=this.v(u.u,s);if(d===0){u.l=a;return}else if(d>0)u.U=new this.re(s,a),u.U.tt=u,c=u.U,this.h.U=c;else{let h=this.h.W,f=this.v(h.u,s);if(f===0){h.l=a;return}else if(f<0)h.W=new this.re(s,a),h.W.tt=h,c=h.W,this.h.W=c;else{if(l!==void 0){let g=l.o;if(g!==this.h){let m=this.v(g.u,s);if(m===0){g.l=a;return}else if(m>0){let v=g.L(),w=this.v(v.u,s);if(w===0){v.l=a;return}else w<0&&(c=new this.re(s,a),v.W===void 0?(v.W=c,c.tt=v):(g.U=c,c.tt=g))}}}if(c===void 0)for(c=this.Y;;){let g=this.v(c.u,s);if(g>0){if(c.U===void 0){c.U=new this.re(s,a),c.U.tt=c,c=c.U;break}c=c.U}else if(g<0){if(c.W===void 0){c.W=new this.re(s,a),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=a;return}}}}return this.i+=1,c}I(s,a){for(;s;){let l=this.v(s.u,a);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,a){let l=s.o;if(l===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let c=l.L().u;if(this.v(c,a)>=0)return!1;let u=l.B().u;return this.v(u,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(c){return s===a?(l.V(c),!0):(a+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let a=this.I(this.Y,s);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(s){let a=s.o;a===this.h&&(0,r.throwIteratorAccessError)();let l=a.W===void 0;return s.iteratorType===0?l&&s.next():(!l||a.U===void 0)&&s.next(),this.V(a),s}forEach(s){let a=0;for(let l of this)s(l,a++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a,l=0;for(let c of this){if(l===s){a=c;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let s=function(a){return a?Math.max(s(a.U),s(a.W))+1:0};return s(this.Y)}},o=i;t.default=o}),RI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=Ri(),e=Ni(),r=class extends n.ContainerIterator{constructor(o,s,a){super(a),this.o=o,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let o=this.o,s=this.h.tt;if(o===this.h)return s?s.rt-1:0;let a=0;for(o.U&&(a+=o.U.rt);o!==s;){let l=o.tt;o===l.W&&(a+=1,l.U&&(a+=l.U.rt)),o=l}return a}},i=r;t.default=i}),uF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=i(OI()),e=i(RI()),r=Ni();function i(l){return l&&l.t?l:{default:l}}var o=class NI extends e.default{constructor(c,u,d,h){super(c,u,h),this.container=d}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new NI(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[],c,u){super(c,u);let d=this;l.forEach(function(h){d.insert(h)})}*K(l){l!==void 0&&(yield*Pi(this.K(l.U)),yield l.u,yield*Pi(this.K(l.W)))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new o(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new o(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new o(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new o(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new o(c,this.h,this)}union(l){let c=this;return l.forEach(function(u){c.insert(u)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;t.default=a}),dF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=i(OI()),e=i(RI()),r=Ni();function i(l){return l&&l.t?l:{default:l}}var o=class PI extends e.default{constructor(c,u,d,h){super(c,u,h),this.container=d}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,d){if(d==="0")return c.o.u;if(d==="1")return c.o.l},set(u,d,h){if(d!=="1")throw new TypeError("props must be 1");return c.o.l=h,!0}})}copy(){return new PI(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[],c,u){super(c,u);let d=this;l.forEach(function(h){d.setElement(h[0],h[1])})}*K(l){l!==void 0&&(yield*Pi(this.K(l.U)),yield[l.u,l.l],yield*Pi(this.K(l.W)))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new o(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new o(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new o(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new o(c,this.h,this)}setElement(l,c,u){return this.M(l,c,u)}find(l){let c=this.I(this.Y,l);return new o(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(u){c.setElement(u[0],u[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;t.default=a}),kI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=n;function n(e){let r=typeof e;return r==="object"&&e!==null||r==="function"}}),FI=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var n=Ri(),e=i(kI()),r=Ni();function i(a){return a&&a.t?a:{default:a}}var o=class extends n.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=o;var s=class extends n.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:c}=a;l.B=c,c.L=l,a===this.p&&(this.p=c),a===this._&&(this._=l),this.i-=1}M(a,l,c){c===void 0&&(c=(0,e.default)(a));let u;if(c){let d=a[this.HASH_TAG];if(d!==void 0)return this.H[d].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),u={u:a,l,L:this._,B:this.h},this.H.push(u)}else{let d=this.g[a];if(d)return d.l=l,this.i;u={u:a,l,L:this._,B:this.h},this.g[a]=u}return this.i===0?(this.p=u,this.h.B=u):this._.B=u,this._=u,this.h.L=u,++this.i}I(a,l){if(l===void 0&&(l=(0,e.default)(a)),l){let c=a[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let c;if(l===void 0&&(l=(0,e.default)(a)),l){let u=a[this.HASH_TAG];if(u===void 0)return!1;delete a[this.HASH_TAG],c=this.H[u],delete this.H[u]}else{if(c=this.g[a],c===void 0)return!1;delete this.g[a]}return this.V(c),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,r.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};t.HashContainer=s}),fF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=FI(),e=Ni(),r=class LI extends n.HashContainerIterator{constructor(a,l,c,u){super(a,l,u),this.container=c}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new LI(this.o,this.h,this.container,this.iteratorType)}},i=class extends n.HashContainer{constructor(s=[]){super();let a=this;s.forEach(function(l){a.insert(l)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,a){return this.M(s,void 0,a)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=this.p;for(;s--;)a=a.B;return a.u}find(s,a){let l=this.I(s,a);return new r(l,this.h,this)}forEach(s){let a=0,l=this.p;for(;l!==this.h;)s(l.u,a++,this),l=l.B}[Symbol.iterator](){return function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}.bind(this)()}},o=i;t.default=o}),hF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var n=FI(),e=i(kI()),r=Ni();function i(l){return l&&l.t?l:{default:l}}var o=class jI extends n.HashContainerIterator{constructor(c,u,d,h){super(c,u,h),this.container=d}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,d){if(d==="0")return c.o.u;if(d==="1")return c.o.l},set(u,d,h){if(d!=="1")throw new TypeError("props must be 1");return c.o.l=h,!0}})}copy(){return new jI(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(u){c.setElement(u[0],u[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,u){return this.M(l,c,u)}getElementByKey(l,c){if(c===void 0&&(c=(0,e.default)(l)),c){let d=l[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let u=this.g[l];return u?u.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let u=this.I(l,c);return new o(u,this.h,this)}forEach(l){let c=0,u=this.p;for(;u!==this.h;)l([u.u,u.l],c++,this),u=u.B}[Symbol.iterator](){return function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}.bind(this)()}},a=s;t.default=a}),pF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return i.default}});var n=d(rF()),e=d(iF()),r=d(oF()),i=d(sF()),o=d(aF()),s=d(lF()),a=d(uF()),l=d(dF()),c=d(fF()),u=d(hF());function d(h){return h&&h.t?h:{default:h}}}),gF=Ee((t,n)=>{"use strict";ue(),fe(),de();var e=pF().OrderedSet,r=Ai()("number-allocator:trace"),i=Ai()("number-allocator:error");function o(a,l){this.low=a,this.high=l}o.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},o.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function s(a,l){if(!(this instanceof s))return new s(a,l);this.min=a,this.max=l,this.ss=new e([],(c,u)=>c.compare(u)),r("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,c=a.pointer.high,u=l;return u+1<=c?this.ss.updateKeyByIterator(a,new o(l+1,c)):this.ss.eraseElementByPos(0),r("alloc():"+u),u},s.prototype.use=function(a){let l=new o(a,a),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let u=c.pointer.low,d=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),r("use():"+a),!0):u>a?!1:u===a?(this.ss.updateKeyByIterator(c,new o(u+1,d)),r("use():"+a),!0):d===a?(this.ss.updateKeyByIterator(c,new o(u,d-1)),r("use():"+a),!0):(this.ss.updateKeyByIterator(c,new o(a+1,d)),this.ss.insert(new o(u,a-1)),r("use():"+a),!0)}return r("use():failed"),!1},s.prototype.free=function(a){if(a<this.min||a>this.max){i("free():"+a+" is out of range");return}let l=new o(a,a),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let u=c.pointer.high;c.pointer.high+1===a?this.ss.updateKeyByIterator(c,new o(u,a)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(a+1===c.pointer.low){let u=c.pointer.high;this.ss.updateKeyByIterator(c,new o(a,u))}else this.ss.insert(l);else{let u=c.pointer.low,d=c.pointer.high;c.pre();let h=c.pointer.low;c.pointer.high+1===a?a+1===u?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new o(h,d))):this.ss.updateKeyByIterator(c,new o(h,a)):a+1===u?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new o(a,d))):this.ss.insert(l)}r("free():"+a)},s.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},n.exports=s}),VI=Ee((t,n)=>{ue(),fe(),de();var e=gF();n.exports.NumberAllocator=e}),mF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=nF(),e=VI(),r=class{constructor(i){i>0&&(this.aliasToTopic=new n.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,o){if(o===0||o>this.max)return!1;let s=this.aliasToTopic.get(o);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(o,i),this.topicToAlias[i]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let o=this.topicToAlias[i];return typeof o<"u"&&this.aliasToTopic.get(o),o}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=r}),vF=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var e=hf(),r=n(mF()),i=ma(),o=(s,a)=>{s.log("_handleConnack");let{options:l}=s,c=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(s.topicAliasSend=new r.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(c===0)s.reconnecting=!1,s._onConnect(a);else if(c>0){let u=new i.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[c]}`,c);s.emit("error",u),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};t.default=o}),yF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=(e,r,i)=>{e.log("handling pubrel packet");let o=typeof i<"u"?i:e.noop,{messageId:s}=r,a={cmd:"pubcomp",messageId:s};e.incomingStore.get(r,(l,c)=>{l?e._sendPacket(a,o):(e.emit("message",c.topic,c.payload,c),e.handleMessage(c,u=>{if(u)return o(u);e.incomingStore.del(c,e.noop),e._sendPacket(a,o)}))})};t.default=n}),_F=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var e=n(Jk()),r=n(tF()),i=n(vF()),o=n(hf()),s=n(yF()),a=(l,c,u)=>{let{options:d}=l;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,e.default)(l,c,u);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,o.default)(l,c),u();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,c,u);break;case"connack":(0,i.default)(l,c),u();break;case"auth":l.reschedulePing(),(0,r.default)(l,c),u();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),u();break;case"disconnect":l.emit("disconnect",c),u();break;default:l.log("_handlePacket :: unknown command"),u();break}};t.default=a}),bF=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var e=n((Xo(),Et(oo))),r=ma(),i=class{};t.TypedEventEmitter=i,(0,r.applyMixin)(i,e.default)}),pf=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var n=()=>{var o;return typeof window<"u"?typeof navigator<"u"&&((o=navigator.userAgent)===null||o===void 0?void 0:o.toLowerCase().indexOf(" electron/"))>-1&&gt!=null&&gt.versions?!Object.prototype.hasOwnProperty.call(gt.versions,"electron"):typeof window.document<"u":!1},e=()=>{var o,s;return!!(typeof self=="object"&&!((s=(o=self?.constructor)===null||o===void 0?void 0:o.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=n()||e()||r();t.isWebWorker=e(),t.isReactNativeBrowser=r(),t.default=i}),wF=Ee((t,n)=>{ue(),fe(),de(),function(e,r){typeof t=="object"&&typeof n<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.fastUniqueNumbers={}))}(t,function(e){"use strict";var r=function(f){return function(g){var m=f(g);return g.add(m),m}},i=function(f){return function(g,m){return f.set(g,m),m}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=s*2,l=function(f,g){return function(m){var v=g.get(m),w=v===void 0?m.size:v<a?v+1:0;if(!m.has(w))return f(m,w);if(m.size<s){for(;m.has(w);)w=Math.floor(Math.random()*a);return f(m,w)}if(m.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;m.has(w);)w=Math.floor(Math.random()*o);return f(m,w)}},c=new WeakMap,u=i(c),d=l(u,c),h=r(d);e.addUniqueNumber=h,e.generateUniqueNumber=d})}),CF=Ee((t,n)=>{ue(),fe(),de(),function(e,r){typeof t=="object"&&typeof n<"u"?r(t,wF()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.workerTimersBroker={},e.fastUniqueNumbers))}(t,function(e,r){"use strict";var i=function(a){return a.method!==void 0&&a.method==="call"},o=function(a){return a.error===null&&typeof a.id=="number"},s=function(a){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),u=new Map,d=new Worker(a);d.addEventListener("message",function(v){var w=v.data;if(i(w)){var y=w.params,b=y.timerId,I=y.timerType;if(I==="interval"){var x=l.get(b);if(typeof x=="number"){var E=u.get(x);if(E===void 0||E.timerId!==b||E.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof x<"u")x();else throw new Error("The timer is in an undefined state.")}else if(I==="timeout"){var D=c.get(b);if(typeof D=="number"){var N=u.get(D);if(N===void 0||N.timerId!==b||N.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof D<"u")D(),c.delete(b);else throw new Error("The timer is in an undefined state.")}}else if(o(w)){var W=w.id,J=u.get(W);if(J===void 0)throw new Error("The timer is in an undefined state.");var he=J.timerId,L=J.timerType;u.delete(W),L==="interval"?l.delete(he):c.delete(he)}else{var Y=w.error.message;throw new Error(Y)}});var h=function(v){var w=r.generateUniqueNumber(u);u.set(w,{timerId:v,timerType:"interval"}),l.set(v,w),d.postMessage({id:w,method:"clear",params:{timerId:v,timerType:"interval"}})},f=function(v){var w=r.generateUniqueNumber(u);u.set(w,{timerId:v,timerType:"timeout"}),c.set(v,w),d.postMessage({id:w,method:"clear",params:{timerId:v,timerType:"timeout"}})},g=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(l);return l.set(y,function(){v(),typeof l.get(y)=="function"&&d.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:y,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:y,timerType:"interval"}}),y},m=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(c);return c.set(y,v),d.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:y,timerType:"timeout"}}),y};return{clearInterval:h,clearTimeout:f,setInterval:g,setTimeout:m}};e.load=s})}),EF=Ee((t,n)=>{ue(),fe(),de(),function(e,r){typeof t=="object"&&typeof n<"u"?r(t,CF()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.workerTimers={},e.workerTimersBroker))}(t,function(e,r){"use strict";var i=function(d,h){var f=null;return function(){if(f!==null)return f;var g=new Blob([h],{type:"application/javascript; charset=utf-8"}),m=URL.createObjectURL(g);return f=d(m),setTimeout(function(){return URL.revokeObjectURL(m)}),f}},o=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=i(r.load,o),a=function(d){return s().clearInterval(d)},l=function(d){return s().clearTimeout(d)},c=function(){var d;return(d=s()).setInterval.apply(d,arguments)},u=function(){var d;return(d=s()).setTimeout.apply(d,arguments)};e.clearInterval=a,e.clearTimeout=l,e.setInterval=c,e.setTimeout=u})}),SF=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__createBinding||(Object.create?function(c,u,d,h){h===void 0&&(h=d);var f=Object.getOwnPropertyDescriptor(u,d);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,h,f)}:function(c,u,d,h){h===void 0&&(h=d),c[h]=u[d]}),e=t&&t.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=t&&t.__importStar||function(){var c=function(u){return c=Object.getOwnPropertyNames||function(d){var h=[];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(h[h.length]=f);return h},c(u)};return function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var h=c(u),f=0;f<h.length;f++)h[f]!=="default"&&n(d,u,h[f]);return e(d,u),d}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(pf()),o=EF(),s={set:o.setInterval,clear:o.clearInterval},a={set:(c,u)=>setInterval(c,u),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return a;case"worker":return s;case"auto":default:return i.default&&!i.isWebWorker&&!i.isReactNativeBrowser?s:a}};t.default=l}),BI=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var e=n(SF()),r=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,o){this.destroyed=!1,this.client=i,this.timer=typeof o=="object"&&"set"in o&&"clear"in o?o:(0,e.default)(o),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=r}),sy=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__createBinding||(Object.create?function(x,E,D,N){N===void 0&&(N=D);var W=Object.getOwnPropertyDescriptor(E,D);(!W||("get"in W?!E.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return E[D]}}),Object.defineProperty(x,N,W)}:function(x,E,D,N){N===void 0&&(N=D),x[N]=E[D]}),e=t&&t.__setModuleDefault||(Object.create?function(x,E){Object.defineProperty(x,"default",{enumerable:!0,value:E})}:function(x,E){x.default=E}),r=t&&t.__importStar||function(){var x=function(E){return x=Object.getOwnPropertyNames||function(D){var N=[];for(var W in D)Object.prototype.hasOwnProperty.call(D,W)&&(N[N.length]=W);return N},x(E)};return function(E){if(E&&E.__esModule)return E;var D={};if(E!=null)for(var N=x(E),W=0;W<N.length;W++)N[W]!=="default"&&n(D,E,N[W]);return e(D,E),D}}(),i=t&&t.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(Rk()),s=i(Qk()),a=i(CI()),l=es(),c=i(Kk()),u=r(Xk()),d=i(Ai()),h=i(EI()),f=i(_F()),g=ma(),m=bF(),v=i(BI()),w=r(pf()),y=globalThis.setImmediate||((...x)=>{let E=x.shift();(0,g.nextTick)(()=>{E(...x)})}),b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class ay extends m.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(E,D){super(),this.options=D||{};for(let N in b)typeof this.options[N]>"u"?this.options[N]=b[N]:this.options[N]=D[N];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",ay.VERSION),w.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",w.default?"browser":"node"),this.log("MqttClient :: options.protocol",D.protocol),this.log("MqttClient :: options.protocolVersion",D.protocolVersion),this.log("MqttClient :: options.username",D.username),this.log("MqttClient :: options.keepalive",D.keepalive),this.log("MqttClient :: options.reconnectPeriod",D.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",D.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",D.properties?D.properties.topicAliasMaximum:void 0),this.options.clientId=typeof D.clientId=="string"?D.clientId:ay.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=D.protocolVersion===5&&D.customHandleAcks?D.customHandleAcks:(...N)=>{N[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=E,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=D.outgoingStore||new h.default,this.incomingStore=D.incomingStore||new h.default,this.queueQoSZero=D.queueQoSZero===void 0?!0:D.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,D.properties&&D.properties.topicAliasMaximum>0&&(D.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(D.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:N}=this,W=()=>{let J=N.shift();this.log("deliver :: entry %o",J);let he=null;if(!J){this._resubscribe();return}he=J.packet,this.log("deliver :: call _sendPacket for %o",he);let L=!0;he.messageId&&he.messageId!==0&&(this.messageIdProvider.register(he.messageId)||(L=!1)),L?this._sendPacket(he,Y=>{J.cb&&J.cb(Y),W()}):(this.log("messageId: %d has already used. The message is skipped and removed.",he.messageId),W())};this.log("connect :: sending queued packets"),W()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(E,D){D()}handleMessage(E,D){D()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var E;let D=new l.Writable,N=s.default.parser(this.options),W=null,J=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new h.default,this.outgoingStore=this.options.outgoingStore||new h.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),N.on("packet",U=>{this.log("parser :: on packet push to packets array."),J.push(U)});let he=()=>{this.log("work :: getting next packet in queue");let U=J.shift();if(U)this.log("work :: packet pulled from queue"),(0,f.default)(this,U,L);else{this.log("work :: no packets in queue");let ce=W;W=null,this.log("work :: done flag is %s",!!ce),ce&&ce()}},L=()=>{if(J.length)(0,g.nextTick)(he);else{let U=W;W=null,U()}};D._write=(U,ce,_e)=>{W=_e,this.log("writable stream :: parsing buffer"),N.parse(U),he()};let Y=U=>{this.log("streamErrorHandler :: error",U.message),U.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",U)):this.noop(U)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(D),this.stream.on("error",Y),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let X={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(X.will=Object.assign(Object.assign({},this.options.will),{payload:(E=this.options.will)===null||E===void 0?void 0:E.payload})),this.topicAliasRecv&&(X.properties||(X.properties={}),this.topicAliasRecv&&(X.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(X),N.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let U=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(U)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(E,D,N,W){this.log("publish :: message `%s` to topic `%s`",D,E);let{options:J}=this;typeof N=="function"&&(W=N,N=null),N=N||{},N=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),N);let{qos:he,retain:L,dup:Y,properties:X,cbStorePut:U}=N;if(this._checkDisconnecting(W))return this;let ce=()=>{let _e=0;if((he===1||he===2)&&(_e=this._nextId(),_e===null))return this.log("No messageId left"),!1;let Se={cmd:"publish",topic:E,payload:D,qos:he,retain:L,messageId:_e,dup:Y};switch(J.protocolVersion===5&&(Se.properties=X),this.log("publish :: qos",he),he){case 1:case 2:this.outgoing[Se.messageId]={volatile:!1,cb:W||this.noop},this.log("MqttClient:publish: packet cmd: %s",Se.cmd),this._sendPacket(Se,void 0,U);break;default:this.log("MqttClient:publish: packet cmd: %s",Se.cmd),this._sendPacket(Se,W,U);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,cbStorePut:N.cbStorePut,callback:W}),this}publishAsync(E,D,N){return new Promise((W,J)=>{this.publish(E,D,N,(he,L)=>{he?J(he):W(L)})})}subscribe(E,D,N){let W=this.options.protocolVersion;typeof D=="function"&&(N=D),N=N||this.noop;let J=!1,he=[];typeof E=="string"?(E=[E],he=E):Array.isArray(E)?he=E:typeof E=="object"&&(J=E.resubscribe,delete E.resubscribe,he=Object.keys(E));let L=u.validateTopics(he);if(L!==null)return y(N,new Error(`Invalid topic ${L}`)),this;if(this._checkDisconnecting(N))return this.log("subscribe: discconecting true"),this;let Y={qos:0};W===5&&(Y.nl=!1,Y.rap=!1,Y.rh=0),D=Object.assign(Object.assign({},Y),D);let X=D.properties,U=[],ce=(Oe,H)=>{if(H=H||D,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Oe)||this._resubscribeTopics[Oe].qos<H.qos||J){let ve={topic:Oe,qos:H.qos};W===5&&(ve.nl=H.nl,ve.rap=H.rap,ve.rh=H.rh,ve.properties=X),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ve.topic,ve.qos),U.push(ve)}};if(Array.isArray(E)?E.forEach(Oe=>{this.log("subscribe: array topic %s",Oe),ce(Oe)}):Object.keys(E).forEach(Oe=>{this.log("subscribe: object topic %s, %o",Oe,E[Oe]),ce(Oe,E[Oe])}),!U.length)return N(null,[]),this;let _e=(Oe,H)=>{let ve={cmd:"subscribe",subscriptions:Oe,messageId:H};if(X&&(ve.properties=X),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ge=[];Oe.forEach(Te=>{if(this.options.reconnectPeriod>0){let te={qos:Te.qos};W===5&&(te.nl=Te.nl||!1,te.rap=Te.rap||!1,te.rh=Te.rh||0,te.properties=Te.properties),this._resubscribeTopics[Te.topic]=te,ge.push(Te.topic)}}),this.messageIdToTopic[ve.messageId]=ge}let T=new Promise((ge,Te)=>{this.outgoing[ve.messageId]={volatile:!0,cb(te,Fe){if(!te){let{granted:G}=Fe;for(let P=0;P<G.length;P+=1)Oe[P].qos=G[P]}te?Te(new g.ErrorWithSubackPacket(te.message,Fe)):ge(Fe)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(ve),T},Se=()=>{var Oe;let H=(Oe=this.options.subscribeBatchSize)!==null&&Oe!==void 0?Oe:U.length,ve=[];for(let T=0;T<U.length;T+=H){let ge=U.slice(T,T+H),Te=this._nextId();if(Te===null)return this.log("No messageId left"),!1;ve.push(_e(ge,Te))}return Promise.all(ve).then(T=>{N(null,U,T.at(-1))}).catch(T=>{N(T,U,T.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Se())&&this._storeProcessingQueue.push({invoke:Se,callback:N}),this}subscribeAsync(E,D){return new Promise((N,W)=>{this.subscribe(E,D,(J,he)=>{J?W(J):N(he)})})}unsubscribe(E,D,N){typeof E=="string"&&(E=[E]),typeof D=="function"&&(N=D),N=N||this.noop;let W=u.validateTopics(E);if(W!==null)return y(N,new Error(`Invalid topic ${W}`)),this;if(this._checkDisconnecting(N))return this;let J=()=>{let he=this._nextId();if(he===null)return this.log("No messageId left"),!1;let L={cmd:"unsubscribe",messageId:he,unsubscriptions:[]};return typeof E=="string"?L.unsubscriptions=[E]:Array.isArray(E)&&(L.unsubscriptions=E),this.options.resubscribe&&L.unsubscriptions.forEach(Y=>{delete this._resubscribeTopics[Y]}),typeof D=="object"&&D.properties&&(L.properties=D.properties),this.outgoing[L.messageId]={volatile:!0,cb:N},this.log("unsubscribe: call _sendPacket"),this._sendPacket(L),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!J())&&this._storeProcessingQueue.push({invoke:J,callback:N}),this}unsubscribeAsync(E,D){return new Promise((N,W)=>{this.unsubscribe(E,D,(J,he)=>{J?W(J):N(he)})})}end(E,D,N){this.log("end :: (%s)",this.options.clientId),(E==null||typeof E!="boolean")&&(N=N||D,D=E,E=!1),typeof D!="object"&&(N=N||D,D=null),this.log("end :: cb? %s",!!N),(!N||typeof N!="function")&&(N=this.noop);let W=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(he=>{this.outgoingStore.close(L=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),N){let Y=he||L;this.log("end :: closeStores: invoking callback with args"),N(Y)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},J=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,E),this._cleanUp(E,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(W)},D)};return this.disconnecting?(N(),this):(this._clearReconnect(),this.disconnecting=!0,!E&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,J,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),J()),this)}endAsync(E,D){return new Promise((N,W)=>{this.end(E,D,J=>{J?W(J):N()})})}removeOutgoingMessage(E){if(this.outgoing[E]){let{cb:D}=this.outgoing[E];this._removeOutgoingAndStoreMessage(E,()=>{D(new Error("Message removed"))})}return this}reconnect(E){this.log("client reconnect");let D=()=>{E?(this.options.incomingStore=E.incomingStore,this.options.outgoingStore=E.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new h.default,this.outgoingStore=this.options.outgoingStore||new h.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=D:D(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(E=>{this.outgoing[E].volatile&&typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(E=>{typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_removeTopicAliasAndRecoverTopicName(E){let D;E.properties&&(D=E.properties.topicAlias);let N=E.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",D,N),N.length===0){if(typeof D>"u")return new Error("Unregistered Topic Alias");if(N=this.topicAliasSend.getTopicByAlias(D),typeof N>"u")return new Error("Unregistered Topic Alias");E.topic=N}D&&delete E.properties.topicAlias}_checkDisconnecting(E){return this.disconnecting&&(E&&E!==this.noop?E(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(E,D,N={}){if(D&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",D)),this.log("_cleanUp :: forced? %s",E),E)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let W=Object.assign({cmd:"disconnect"},N);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(W,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),D&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",D),D())}_storeAndSend(E,D,N){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",E.cmd);let W=E,J;if(W.cmd==="publish"&&(W=(0,c.default)(E),J=this._removeTopicAliasAndRecoverTopicName(W),J))return D&&D(J);this.outgoingStore.put(W,he=>{if(he)return D&&D(he);N(),this._writePacket(E,D)})}_applyTopicAlias(E){if(this.options.protocolVersion===5&&E.cmd==="publish"){let D;E.properties&&(D=E.properties.topicAlias);let N=E.topic.toString();if(this.topicAliasSend)if(D){if(N.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",N,D),!this.topicAliasSend.put(N,D)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",N,D),new Error("Sending Topic Alias out of range")}else N.length!==0&&(this.options.autoAssignTopicAlias?(D=this.topicAliasSend.getAliasByTopic(N),D?(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",N,D)):(D=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(N,D),E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",N,D))):this.options.autoUseTopicAlias&&(D=this.topicAliasSend.getAliasByTopic(N),D&&(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",N,D))));else if(D)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",N,D),new Error("Sending Topic Alias out of range")}}_noop(E){this.log("noop ::",E)}_writePacket(E,D){this.log("_writePacket :: packet: %O",E),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",E),this.log("_writePacket :: writing to stream");let N=s.default.writeToStream(E,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",N),!N&&D&&D!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",D)):D&&(this.log("_writePacket :: invoking cb"),D())}_sendPacket(E,D,N,W){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),N=N||this.noop,D=D||this.noop;let J=this._applyTopicAlias(E);if(J){D(J);return}if(!this.connected){if(E.cmd==="auth"){this._writePacket(E,D);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(E,D,N);return}if(W){this._writePacket(E,D);return}switch(E.cmd){case"publish":break;case"pubrel":this._storeAndSend(E,D,N);return;default:this._writePacket(E,D);return}switch(E.qos){case 2:case 1:this._storeAndSend(E,D,N);break;case 0:default:this._writePacket(E,D);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(E,D,N){this.log("_storePacket :: packet: %o",E),this.log("_storePacket :: cb? %s",!!D),N=N||this.noop;let W=E;if(W.cmd==="publish"){W=(0,c.default)(E);let he=this._removeTopicAliasAndRecoverTopicName(W);if(he)return D&&D(he)}let J=W.qos||0;J===0&&this.queueQoSZero||W.cmd!=="publish"?this.queue.push({packet:W,cb:D}):J>0?(D=this.outgoing[W.messageId]?this.outgoing[W.messageId].cb:null,this.outgoingStore.put(W,he=>{if(he)return D&&D(he);N()})):D&&D(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(E=!1){this.keepaliveManager&&this.options.keepalive&&(E||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let E=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&E.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let D=0;D<E.length;D++){let N={};N[E[D]]=this._resubscribeTopics[E[D]],N.resubscribe=!0,this.subscribe(N,{properties:N[E[D]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(E){if(this.disconnected){this.emit("connect",E);return}this.connackPacket=E,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let D=()=>{let N=this.outgoingStore.createStream(),W=()=>{N.destroy(),N=null,this._flushStoreProcessingQueue(),J()},J=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",W),N.on("error",L=>{J(),this._flushStoreProcessingQueue(),this.removeListener("close",W),this.emit("error",L)});let he=()=>{if(!N)return;let L=N.read(1),Y;if(!L){N.once("readable",he);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[L.messageId]){he();return}!this.disconnecting&&!this.reconnectTimer?(Y=this.outgoing[L.messageId]?this.outgoing[L.messageId].cb:null,this.outgoing[L.messageId]={volatile:!1,cb(X,U){Y&&Y(X,U),he()}},this._packetIdsDuringStoreProcessing[L.messageId]=!0,this.messageIdProvider.register(L.messageId)?this._sendPacket(L,void 0,void 0,!0):this.log("messageId: %d has already used.",L.messageId)):N.destroy&&N.destroy()};N.on("end",()=>{let L=!0;for(let Y in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Y]){L=!1;break}this.removeListener("close",W),L?(J(),this._invokeAllStoreProcessingQueue(),this.emit("connect",E)):D()}),he()};D()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let E=this._storeProcessingQueue[0];if(E&&E.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let E of this._storeProcessingQueue)E.cbStorePut&&E.cbStorePut(new Error("Connection closed")),E.callback&&E.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(E,D){delete this.outgoing[E],this.outgoingStore.del({messageId:E},(N,W)=>{D(N,W),this.messageIdProvider.deallocate(E),this._invokeStoreProcessingQueue()})}};I.VERSION=g.MQTTJS_VERSION,t.default=I}),IF=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=VI(),e=class{constructor(){this.numberAllocator=new n.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};t.default=e});function qo(t){throw new RangeError($I[t])}function SS(t,n){let e=t.split("@"),r="";e.length>1&&(r=e[0]+"@",t=e[1]);let i=function(o,s){let a=[],l=o.length;for(;l--;)a[l]=s(o[l]);return a}((t=t.replace(UI,".")).split("."),n).join(".");return r+i}function IS(t){let n=[],e=0,r=t.length;for(;e<r;){let i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){let o=t.charCodeAt(e++);(64512&o)==56320?n.push(((1023&i)<<10)+(1023&o)+65536):(n.push(i),e--)}else n.push(i)}return n}var DS,xS,UI,$I,Mr,Qd,Wm,Gm,Ym,Qm,io,DF=Tn(()=>{ue(),fe(),de(),DS=/^xn--/,xS=/[^\0-\x7E]/,UI=/[\x2E\u3002\uFF0E\uFF61]/g,$I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Mr=Math.floor,Qd=String.fromCharCode,Wm=function(t,n){return t+22+75*(t<26)-((n!=0)<<5)},Gm=function(t,n,e){let r=0;for(t=e?Mr(t/700):t>>1,t+=Mr(t/n);t>455;r+=36)t=Mr(t/35);return Mr(r+36*t/(t+38))},Ym=function(t){let n=[],e=t.length,r=0,i=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)t.charCodeAt(l)>=128&&qo("not-basic"),n.push(t.charCodeAt(l));for(let l=s>0?s+1:0;l<e;){let c=r;for(let d=1,h=36;;h+=36){l>=e&&qo("invalid-input");let f=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(f>=36||f>Mr((2147483647-r)/d))&&qo("overflow"),r+=f*d;let g=h<=o?1:h>=o+26?26:h-o;if(f<g)break;let m=36-g;d>Mr(2147483647/m)&&qo("overflow"),d*=m}let u=n.length+1;o=Gm(r-c,u,c==0),Mr(r/u)>2147483647-i&&qo("overflow"),i+=Mr(r/u),r%=u,n.splice(r++,0,i)}var a;return String.fromCodePoint(...n)},Qm=function(t){let n=[],e=(t=IS(t)).length,r=128,i=0,o=72;for(let l of t)l<128&&n.push(Qd(l));let s=n.length,a=s;for(s&&n.push("-");a<e;){let l=2147483647;for(let u of t)u>=r&&u<l&&(l=u);let c=a+1;l-r>Mr((2147483647-i)/c)&&qo("overflow"),i+=(l-r)*c,r=l;for(let u of t)if(u<r&&++i>2147483647&&qo("overflow"),u==r){let d=i;for(let h=36;;h+=36){let f=h<=o?1:h>=o+26?26:h-o;if(d<f)break;let g=d-f,m=36-f;n.push(Qd(Wm(f+g%m,0))),d=Mr(g/m)}n.push(Qd(Wm(d,0))),o=Gm(i,c,a==s),i=0,++a}++i,++r}return n.join("")},io={version:"2.1.0",ucs2:{decode:IS,encode:t=>String.fromCodePoint(...t)},decode:Ym,encode:Qm,toASCII:function(t){return SS(t,function(n){return xS.test(n)?"xn--"+Qm(n):n})},toUnicode:function(t){return SS(t,function(n){return DS.test(n)?Ym(n.slice(4).toLowerCase()):n})}},io.decode,io.encode,io.toASCII,io.toUnicode,io.ucs2,io.version});function xF(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var MS,fa,TS,Xr,MF=Tn(()=>{ue(),fe(),de(),MS=function(t,n,e,r){n=n||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(n);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c,u,d,h,f=t[l].replace(o,"%20"),g=f.indexOf(e);g>=0?(c=f.substr(0,g),u=f.substr(g+1)):(c=f,u=""),d=decodeURIComponent(c),h=decodeURIComponent(u),xF(i,d)?Array.isArray(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i},fa=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},TS=function(t,n,e,r){return n=n||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(fa(i))+e;return Array.isArray(t[i])?t[i].map(function(s){return o+encodeURIComponent(fa(s))}).join(n):o+encodeURIComponent(fa(t[i]))}).join(n):r?encodeURIComponent(fa(r))+e+encodeURIComponent(fa(t)):""},Xr={},Xr.decode=Xr.parse=MS,Xr.encode=Xr.stringify=TS,Xr.decode,Xr.encode,Xr.parse,Xr.stringify});function ly(){throw new Error("setTimeout has not been defined")}function cy(){throw new Error("clearTimeout has not been defined")}function HI(t){if(Di===setTimeout)return setTimeout(t,0);if((Di===ly||!Di)&&setTimeout)return Di=setTimeout,setTimeout(t,0);try{return Di(t,0)}catch{try{return Di.call(null,t,0)}catch{return Di.call(this||Zo,t,0)}}}function TF(){Ko&&Yo&&(Ko=!1,Yo.length?ei=Yo.concat(ei):Kl=-1,ei.length&&qI())}function qI(){if(!Ko){var t=HI(TF);Ko=!0;for(var n=ei.length;n;){for(Yo=ei,ei=[];++Kl<n;)Yo&&Yo[Kl].run();Kl=-1,n=ei.length}Yo=null,Ko=!1,function(e){if(xi===clearTimeout)return clearTimeout(e);if((xi===cy||!xi)&&clearTimeout)return xi=clearTimeout,clearTimeout(e);try{xi(e)}catch{try{return xi.call(null,e)}catch{return xi.call(this||Zo,e)}}}(t)}}function AS(t,n){(this||Zo).fun=t,(this||Zo).array=n}function Ei(){}var OS,Di,xi,Zo,Bt,Yo,ei,Ko,Kl,kt,AF=Tn(()=>{ue(),fe(),de(),Zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Bt=OS={},function(){try{Di=typeof setTimeout=="function"?setTimeout:ly}catch{Di=ly}try{xi=typeof clearTimeout=="function"?clearTimeout:cy}catch{xi=cy}}(),ei=[],Ko=!1,Kl=-1,Bt.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];ei.push(new AS(t,n)),ei.length!==1||Ko||HI(qI)},AS.prototype.run=function(){(this||Zo).fun.apply(null,(this||Zo).array)},Bt.title="browser",Bt.browser=!0,Bt.env={},Bt.argv=[],Bt.version="",Bt.versions={},Bt.on=Ei,Bt.addListener=Ei,Bt.once=Ei,Bt.off=Ei,Bt.removeListener=Ei,Bt.removeAllListeners=Ei,Bt.emit=Ei,Bt.prependListener=Ei,Bt.prependOnceListener=Ei,Bt.listeners=function(t){return[]},Bt.binding=function(t){throw new Error("process.binding is not supported")},Bt.cwd=function(){return"/"},Bt.chdir=function(t){throw new Error("process.chdir is not supported")},Bt.umask=function(){return 0},kt=OS,kt.addListener,kt.argv,kt.binding,kt.browser,kt.chdir,kt.cwd,kt.emit,kt.env,kt.listeners,kt.nextTick,kt.off,kt.on,kt.once,kt.prependListener,kt.prependOnceListener,kt.removeAllListeners,kt.removeListener,kt.title,kt.umask,kt.version,kt.versions});function OF(){if(uy)return rf;uy=!0;var t=rf={},n,e;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=r}catch{n=r}try{typeof clearTimeout=="function"?e=clearTimeout:e=i}catch{e=i}})();function o(m){if(n===setTimeout)return setTimeout(m,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(m,0);try{return n(m,0)}catch{try{return n.call(null,m,0)}catch{return n.call(this||Wo,m,0)}}}function s(m){if(e===clearTimeout)return clearTimeout(m);if((e===i||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(m);try{return e(m)}catch{try{return e.call(null,m)}catch{return e.call(this||Wo,m)}}}var a=[],l=!1,c,u=-1;function d(){!l||!c||(l=!1,c.length?a=c.concat(a):u=-1,a.length&&h())}function h(){if(!l){var m=o(d);l=!0;for(var v=a.length;v;){for(c=a,a=[];++u<v;)c&&c[u].run();u=-1,v=a.length}c=null,l=!1,s(m)}}t.nextTick=function(m){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];a.push(new f(m,v)),a.length===1&&!l&&o(h)};function f(m,v){(this||Wo).fun=m,(this||Wo).array=v}f.prototype.run=function(){(this||Wo).fun.apply(null,(this||Wo).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(m){return[]},t.binding=function(m){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(m){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},rf}var rf,uy,Wo,Ot,zI=Tn(()=>{ue(),fe(),de(),rf={},uy=!1,Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ot=OF(),Ot.platform="browser",Ot.addListener,Ot.argv,Ot.binding,Ot.browser,Ot.chdir,Ot.cwd,Ot.emit,Ot.env,Ot.listeners,Ot.nextTick,Ot.off,Ot.on,Ot.once,Ot.prependListener,Ot.prependOnceListener,Ot.removeAllListeners,Ot.removeListener,Ot.title,Ot.umask,Ot.version,Ot.versions});function RF(){if(dy)return of;dy=!0;var t=Ot;function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function e(o,s){for(var a="",l=0,c=-1,u=0,d,h=0;h<=o.length;++h){if(h<o.length)d=o.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(c===h-1||u===1))if(c!==h-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var f=a.lastIndexOf("/");if(f!==a.length-1){f===-1?(a="",l=0):(a=a.slice(0,f),l=a.length-1-a.lastIndexOf("/")),c=h,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=h,u=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(c+1,h):a=o.slice(c+1,h),l=h-c-1;c=h,u=0}else d===46&&u!==-1?++u:u=-1}return a}function r(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var o="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=t.cwd()),c=a),n(c),c.length!==0&&(o=c+"/"+o,s=c.charCodeAt(0)===47)}return o=e(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(n(o),o.length===0)return".";var s=o.charCodeAt(0)===47,a=o.charCodeAt(o.length-1)===47;return o=e(o,!s),o.length===0&&!s&&(o="."),o.length>0&&a&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var a=arguments[s];n(a),a.length>0&&(o===void 0?o=a:o+="/"+a)}return o===void 0?".":i.normalize(o)},relative:function(o,s){if(n(o),n(s),o===s||(o=i.resolve(o),s=i.resolve(s),o===s))return"";for(var a=1;a<o.length&&o.charCodeAt(a)===47;++a);for(var l=o.length,c=l-a,u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var d=s.length,h=d-u,f=c<h?c:h,g=-1,m=0;m<=f;++m){if(m===f){if(h>f){if(s.charCodeAt(u+m)===47)return s.slice(u+m+1);if(m===0)return s.slice(u+m)}else c>f&&(o.charCodeAt(a+m)===47?g=m:m===0&&(g=0));break}var v=o.charCodeAt(a+m),w=s.charCodeAt(u+m);if(v!==w)break;v===47&&(g=m)}var y="";for(m=a+g+1;m<=l;++m)(m===l||o.charCodeAt(m)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(u+g):(u+=g,s.charCodeAt(u)===47&&++u,s.slice(u))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var s=o.charCodeAt(0),a=s===47,l=-1,c=!0,u=o.length-1;u>=1;--u)if(s=o.charCodeAt(u),s===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":o.slice(0,l)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');n(o);var a=0,l=-1,c=!0,u;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var d=s.length-1,h=-1;for(u=o.length-1;u>=0;--u){var f=o.charCodeAt(u);if(f===47){if(!c){a=u+1;break}}else h===-1&&(c=!1,h=u+1),d>=0&&(f===s.charCodeAt(d)?--d===-1&&(l=u):(d=-1,l=h))}return a===l?l=h:l===-1&&(l=o.length),o.slice(a,l)}else{for(u=o.length-1;u>=0;--u)if(o.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":o.slice(a,l)}},extname:function(o){n(o);for(var s=-1,a=0,l=-1,c=!0,u=0,d=o.length-1;d>=0;--d){var h=o.charCodeAt(d);if(h===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),h===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===a+1?"":o.slice(s,l)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){n(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var a=o.charCodeAt(0),l=a===47,c;l?(s.root="/",c=1):c=0;for(var u=-1,d=0,h=-1,f=!0,g=o.length-1,m=0;g>=c;--g){if(a=o.charCodeAt(g),a===47){if(!f){d=g+1;break}continue}h===-1&&(f=!1,h=g+1),a===46?u===-1?u=g:m!==1&&(m=1):u!==-1&&(m=-1)}return u===-1||h===-1||m===0||m===1&&u===h-1&&u===d+1?h!==-1&&(d===0&&l?s.base=s.name=o.slice(1,h):s.base=s.name=o.slice(d,h)):(d===0&&l?(s.name=o.slice(1,u),s.base=o.slice(1,h)):(s.name=o.slice(d,u),s.base=o.slice(d,h)),s.ext=o.slice(u,h)),d>0?s.dir=o.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,of=i,of}var of,dy,fy,NF=Tn(()=>{ue(),fe(),de(),zI(),of={},dy=!1,fy=RF()}),WI={};pa(WI,{URL:()=>uD,Url:()=>oD,default:()=>wt,fileURLToPath:()=>GI,format:()=>sD,parse:()=>cD,pathToFileURL:()=>YI,resolve:()=>aD,resolveObject:()=>lD});function yr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Wl(t,n,e){if(t&&Tr.isObject(t)&&t instanceof yr)return t;var r=new yr;return r.parse(t,n,e),r}function PF(){if(hy)return sf;hy=!0;var t=kt;function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function e(o,s){for(var a="",l=0,c=-1,u=0,d,h=0;h<=o.length;++h){if(h<o.length)d=o.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(c===h-1||u===1))if(c!==h-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var f=a.lastIndexOf("/");if(f!==a.length-1){f===-1?(a="",l=0):(a=a.slice(0,f),l=a.length-1-a.lastIndexOf("/")),c=h,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=h,u=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(c+1,h):a=o.slice(c+1,h),l=h-c-1;c=h,u=0}else d===46&&u!==-1?++u:u=-1}return a}function r(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var o="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=t.cwd()),c=a),n(c),c.length!==0&&(o=c+"/"+o,s=c.charCodeAt(0)===47)}return o=e(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(n(o),o.length===0)return".";var s=o.charCodeAt(0)===47,a=o.charCodeAt(o.length-1)===47;return o=e(o,!s),o.length===0&&!s&&(o="."),o.length>0&&a&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var a=arguments[s];n(a),a.length>0&&(o===void 0?o=a:o+="/"+a)}return o===void 0?".":i.normalize(o)},relative:function(o,s){if(n(o),n(s),o===s||(o=i.resolve(o),s=i.resolve(s),o===s))return"";for(var a=1;a<o.length&&o.charCodeAt(a)===47;++a);for(var l=o.length,c=l-a,u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var d=s.length,h=d-u,f=c<h?c:h,g=-1,m=0;m<=f;++m){if(m===f){if(h>f){if(s.charCodeAt(u+m)===47)return s.slice(u+m+1);if(m===0)return s.slice(u+m)}else c>f&&(o.charCodeAt(a+m)===47?g=m:m===0&&(g=0));break}var v=o.charCodeAt(a+m),w=s.charCodeAt(u+m);if(v!==w)break;v===47&&(g=m)}var y="";for(m=a+g+1;m<=l;++m)(m===l||o.charCodeAt(m)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(u+g):(u+=g,s.charCodeAt(u)===47&&++u,s.slice(u))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var s=o.charCodeAt(0),a=s===47,l=-1,c=!0,u=o.length-1;u>=1;--u)if(s=o.charCodeAt(u),s===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":o.slice(0,l)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');n(o);var a=0,l=-1,c=!0,u;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var d=s.length-1,h=-1;for(u=o.length-1;u>=0;--u){var f=o.charCodeAt(u);if(f===47){if(!c){a=u+1;break}}else h===-1&&(c=!1,h=u+1),d>=0&&(f===s.charCodeAt(d)?--d===-1&&(l=u):(d=-1,l=h))}return a===l?l=h:l===-1&&(l=o.length),o.slice(a,l)}else{for(u=o.length-1;u>=0;--u)if(o.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":o.slice(a,l)}},extname:function(o){n(o);for(var s=-1,a=0,l=-1,c=!0,u=0,d=o.length-1;d>=0;--d){var h=o.charCodeAt(d);if(h===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),h===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===a+1?"":o.slice(s,l)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){n(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var a=o.charCodeAt(0),l=a===47,c;l?(s.root="/",c=1):c=0;for(var u=-1,d=0,h=-1,f=!0,g=o.length-1,m=0;g>=c;--g){if(a=o.charCodeAt(g),a===47){if(!f){d=g+1;break}continue}h===-1&&(f=!1,h=g+1),a===46?u===-1?u=g:m!==1&&(m=1):u!==-1&&(m=-1)}return u===-1||h===-1||m===0||m===1&&u===h-1&&u===d+1?h!==-1&&(d===0&&l?s.base=s.name=o.slice(1,h):s.base=s.name=o.slice(d,h)):(d===0&&l?(s.name=o.slice(1,u),s.base=o.slice(1,h)):(s.name=o.slice(d,u),s.base=o.slice(d,h)),s.ext=o.slice(u,h)),d>0?s.dir=o.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,sf=i,sf}function kF(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return lf?FF(t):LF(t)}function FF(t){let n=t.hostname,e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102||e[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(JI,"\\"),e=decodeURIComponent(e),n!=="")return`\\\\${n}${e}`;{let r=e.codePointAt(1)|32,i=e[2];if(r<KI||r>XI||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function LF(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=t.pathname;for(let e=0;e<n.length;e++)if(n[e]==="%"){let r=n.codePointAt(e+2)||32;if(n[e+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function jF(t){let n=py.resolve(t),e=t.charCodeAt(t.length-1);(e===ZI||lf&&e===QI)&&n[n.length-1]!==py.sep&&(n+="/");let r=new URL("file://");return n.includes("%")&&(n=n.replace(eD,"%25")),!lf&&n.includes("\\")&&(n=n.replace(tD,"%5C")),n.includes(`
`)&&(n=n.replace(nD,"%0A")),n.includes("\r")&&(n=n.replace(rD,"%0D")),n.includes("	")&&(n=n.replace(iD,"%09")),r.pathname=n,r}function GI(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return cf?VF(t):BF(t)}function VF(t){let n=t.hostname,e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102||e[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(gD,"\\"),e=decodeURIComponent(e),n!=="")return`\\\\${n}${e}`;{let r=e.codePointAt(1)|32,i=e[2];if(r<hD||r>pD||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function BF(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=t.pathname;for(let e=0;e<n.length;e++)if(n[e]==="%"){let r=n.codePointAt(e+2)||32;if(n[e+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function YI(t){let n=fy.resolve(t),e=t.charCodeAt(t.length-1);(e===fD||cf&&e===dD)&&n[n.length-1]!==fy.sep&&(n+="/");let r=new URL("file://");return n.includes("%")&&(n=n.replace(mD,"%25")),!cf&&n.includes("\\")&&(n=n.replace(vD,"%5C")),n.includes(`
`)&&(n=n.replace(yD,"%0A")),n.includes("\r")&&(n=n.replace(_D,"%0D")),n.includes("	")&&(n=n.replace(bD,"%09")),r.pathname=n,r}var wt,RS,Tr,NS,PS,kS,FS,Zd,Zm,Km,Xm,LS,jS,Kd,zo,Xd,sf,hy,py,VS,QI,ZI,KI,XI,lf,JI,eD,tD,nD,rD,iD,BS,oD,sD,aD,lD,cD,uD,dD,fD,hD,pD,cf,gD,mD,vD,yD,_D,bD,UF=Tn(()=>{ue(),fe(),de(),DF(),MF(),AF(),NF(),zI(),wt={},RS=io,Tr={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},wt.parse=Wl,wt.resolve=function(t,n){return Wl(t,!1,!0).resolve(n)},wt.resolveObject=function(t,n){return t?Wl(t,!1,!0).resolveObject(n):n},wt.format=function(t){return Tr.isString(t)&&(t=Wl(t)),t instanceof yr?t.format():yr.prototype.format.call(t)},wt.Url=yr,NS=/^([a-z0-9.+-]+:)/i,PS=/:[0-9]*$/,kS=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,FS=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Zd=["'"].concat(FS),Zm=["%","/","?",";","#"].concat(Zd),Km=["/","?","#"],Xm=/^[+a-z0-9A-Z_-]{0,63}$/,LS=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,jS={javascript:!0,"javascript:":!0},Kd={javascript:!0,"javascript:":!0},zo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xd=Xr,yr.prototype.parse=function(t,n,e){if(!Tr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(i);if(s=s.trim(),!e&&t.split("#").length===1){var a=kS.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=n?Xd.parse(this.search.substr(1)):this.search.substr(1)):n&&(this.search="",this.query={}),this}var l=NS.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length)}if(e||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=s.substr(0,2)==="//";!u||l&&Kd[l]||(s=s.substr(2),this.slashes=!0)}if(!Kd[l]&&(u||l&&!zo[l])){for(var d,h,f=-1,g=0;g<Km.length;g++)(m=s.indexOf(Km[g]))!==-1&&(f===-1||m<f)&&(f=m);for((h=f===-1?s.lastIndexOf("@"):s.lastIndexOf("@",f))!==-1&&(d=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(d)),f=-1,g=0;g<Zm.length;g++){var m;(m=s.indexOf(Zm[g]))!==-1&&(f===-1||m<f)&&(f=m)}f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var w=this.hostname.split(/\./),y=(g=0,w.length);g<y;g++){var b=w[g];if(b&&!b.match(Xm)){for(var I="",x=0,E=b.length;x<E;x++)b.charCodeAt(x)>127?I+="x":I+=b[x];if(!I.match(Xm)){var D=w.slice(0,g),N=w.slice(g+1),W=b.match(LS);W&&(D.push(W[1]),N.unshift(W[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=RS.toASCII(this.hostname));var J=this.port?":"+this.port:"",he=this.hostname||"";this.host=he+J,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!jS[c])for(g=0,y=Zd.length;g<y;g++){var L=Zd[g];if(s.indexOf(L)!==-1){var Y=encodeURIComponent(L);Y===L&&(Y=escape(L)),s=s.split(L).join(Y)}}var X=s.indexOf("#");X!==-1&&(this.hash=s.substr(X),s=s.slice(0,X));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),n&&(this.query=Xd.parse(this.query)),s=s.slice(0,U)):n&&(this.search="",this.query={}),s&&(this.pathname=s),zo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){J=this.pathname||"";var ce=this.search||"";this.path=J+ce}return this.href=this.format(),this},yr.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var n=this.protocol||"",e=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Tr.isObject(this.query)&&Object.keys(this.query).length&&(o=Xd.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||zo[n])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),n+i+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+r},yr.prototype.resolve=function(t){return this.resolveObject(Wl(t,!1,!0)).format()},yr.prototype.resolveObject=function(t){if(Tr.isString(t)){var n=new yr;n.parse(t,!1,!0),t=n}for(var e=new yr,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];e[o]=this[o]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(e[l]=t[l])}return zo[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!zo[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var d=c[u];e[d]=t[d]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Kd[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",g=e.search||"";e.path=f+g}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var m=e.pathname&&e.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",w=v||m||e.host&&t.pathname,y=w,b=e.pathname&&e.pathname.split("/")||[],I=(h=t.pathname&&t.pathname.split("/")||[],e.protocol&&!zo[e.protocol]);if(I&&(e.hostname="",e.port=null,e.host&&(b[0]===""?b[0]=e.host:b.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(h[0]===""?h[0]=t.host:h.unshift(t.host)),t.host=null),w=w&&(h[0]===""||b[0]==="")),v)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,b=h;else if(h.length)b||(b=[]),b.pop(),b=b.concat(h),e.search=t.search,e.query=t.query;else if(!Tr.isNullOrUndefined(t.search))return I&&(e.hostname=e.host=b.shift(),(W=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=W.shift(),e.host=e.hostname=W.shift())),e.search=t.search,e.query=t.query,Tr.isNull(e.pathname)&&Tr.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!b.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var x=b.slice(-1)[0],E=(e.host||t.host||b.length>1)&&(x==="."||x==="..")||x==="",D=0,N=b.length;N>=0;N--)(x=b[N])==="."?b.splice(N,1):x===".."?(b.splice(N,1),D++):D&&(b.splice(N,1),D--);if(!w&&!y)for(;D--;D)b.unshift("..");!w||b[0]===""||b[0]&&b[0].charAt(0)==="/"||b.unshift(""),E&&b.join("/").substr(-1)!=="/"&&b.push("");var W,J=b[0]===""||b[0]&&b[0].charAt(0)==="/";return I&&(e.hostname=e.host=J?"":b.length?b.shift():"",(W=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=W.shift(),e.host=e.hostname=W.shift())),(w=w||e.host&&b.length)&&!J&&b.unshift(""),b.length?e.pathname=b.join("/"):(e.pathname=null,e.path=null),Tr.isNull(e.pathname)&&Tr.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},yr.prototype.parseHost=function(){var t=this.host,n=PS.exec(t);n&&((n=n[0])!==":"&&(this.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(this.hostname=t)},wt.Url,wt.format,wt.resolve,wt.resolveObject,sf={},hy=!1,py=PF(),VS=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,wt.URL=typeof URL<"u"?URL:null,wt.pathToFileURL=jF,wt.fileURLToPath=kF,wt.Url,wt.format,wt.resolve,wt.resolveObject,wt.URL,QI=92,ZI=47,KI=97,XI=122,lf=VS==="win32",JI=/\//g,eD=/%/g,tD=/\\/g,nD=/\n/g,rD=/\r/g,iD=/\t/g,BS=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,wt.URL=typeof URL<"u"?URL:null,wt.pathToFileURL=YI,wt.fileURLToPath=GI,oD=wt.Url,sD=wt.format,aD=wt.resolve,lD=wt.resolveObject,cD=wt.parse,uD=wt.URL,dD=92,fD=47,hD=97,pD=122,cf=BS==="win32",gD=/\//g,mD=/%/g,vD=/\\/g,yD=/\n/g,_D=/\r/g,bD=/\t/g}),$F=Ee((t,n)=>{"use strict";ue(),fe(),de(),n.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Cy=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=void 0,t.writev=r;var n=es(),e=(sn(),Et(on));function r(o,s){let a=new Array(o.length);for(let l=0;l<o.length;l++)typeof o[l].chunk=="string"?a[l]=e.Buffer.from(o[l].chunk,"utf8"):a[l]=o[l].chunk;this._write(e.Buffer.concat(a),"binary",s)}var i=class extends n.Duplex{constructor(o,s,a){super({objectMode:!0}),this.proxy=s,this.socket=a,this.writeQueue=[],o.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(o){this.proxy.read(o)}_write(o,s,a){this.isSocketOpen?this.writeToProxy(o,s,a):this.writeQueue.push({chunk:o,encoding:s,cb:a})}_final(o){this.writeQueue=[],this.proxy.end(o)}_destroy(o,s){this.writeQueue=[],this.proxy.destroy(),s(o)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(o,s,a){this.proxy.write(o,s)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:o,encoding:s,cb:a}=this.writeQueue.shift();this.writeToProxy(o,s,a)}}};t.BufferedDuplex=i}),Jd=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var e=(sn(),Et(on)),r=n($F()),i=n(Ai()),o=es(),s=n(pf()),a=Cy(),l=(0,i.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(w,y){let b=`${w.protocol}://${w.hostname}:${w.port}${w.path}`;return typeof w.transformWsUrl=="function"&&(b=w.transformWsUrl(b,w,y)),b}function d(w){let y=w;return w.port||(w.protocol==="wss"?y.port=443:y.port=80),w.path||(y.path="/"),w.wsOptions||(y.wsOptions={}),!s.default&&!w.forceNativeWebSocket&&w.protocol==="wss"&&c.forEach(b=>{Object.prototype.hasOwnProperty.call(w,b)&&!Object.prototype.hasOwnProperty.call(w.wsOptions,b)&&(y.wsOptions[b]=w[b])}),y}function h(w){let y=d(w);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let b=new URL(document.URL);y.hostname=b.hostname,y.port||(y.port=Number(b.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function f(w,y,b){l("createWebSocket"),l(`protocol: ${b.protocolId} ${b.protocolVersion}`);let I=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${y} and protocol: ${I}`);let x;return b.createWebsocket?x=b.createWebsocket(y,[I],b):x=new r.default(y,[I],b.wsOptions),x}function g(w,y){let b=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",I=u(y,w),x;return y.createWebsocket?x=y.createWebsocket(I,[b],y):x=new WebSocket(I,[b]),x.binaryType="arraybuffer",x}var m=(w,y)=>{l("streamBuilder");let b=d(y);b.hostname=b.hostname||b.host||"localhost";let I=u(b,w),x=f(w,I,b),E=r.default.createWebSocketStream(x,b.wsOptions);return E.url=I,x.on("close",()=>{E.destroy()}),E};t.streamBuilder=m;var v=(w,y)=>{l("browserStreamBuilder");let b,I=h(y).browserBufferSize||1024*512,x=y.browserBufferTimeout||1e3,E=!y.objectMode,D=g(w,y),N=J(y,U,ce);y.objectMode||(N._writev=a.writev.bind(N)),N.on("close",()=>{D.close()});let W=typeof D.addEventListener<"u";D.readyState===D.OPEN?(b=N,b.socket=D):(b=new a.BufferedDuplex(y,N,D),W?D.addEventListener("open",he):D.onopen=he),W?(D.addEventListener("close",L),D.addEventListener("error",Y),D.addEventListener("message",X)):(D.onclose=L,D.onerror=Y,D.onmessage=X);function J(_e,Se,Oe){let H=new o.Transform({objectMode:_e.objectMode});return H._write=Se,H._flush=Oe,H}function he(){l("WebSocket onOpen"),b instanceof a.BufferedDuplex&&b.socketReady()}function L(_e){l("WebSocket onClose",_e),b.end(),b.destroy()}function Y(_e){l("WebSocket onError",_e);let Se=new Error("WebSocket error");Se.event=_e,b.destroy(Se)}function X(_e){return Ge(this,null,function*(){if(!N||N.destroyed||!N.readable)return;let{data:Se}=_e;Se instanceof ArrayBuffer?Se=e.Buffer.from(Se):Se instanceof Blob?Se=e.Buffer.from(yield new Response(Se).arrayBuffer()):Se=e.Buffer.from(Se,"utf8"),N.push(Se)})}function U(_e,Se,Oe){if(D.bufferedAmount>I){setTimeout(U,x,_e,Se,Oe);return}E&&typeof _e=="string"&&(_e=e.Buffer.from(_e,"utf8"));try{D.send(_e)}catch(H){return Oe(H)}Oe()}function ce(_e){D.close(),_e()}return b};t.browserStreamBuilder=v}),Ey={};pa(Ey,{Server:()=>Rt,Socket:()=>Rt,Stream:()=>Rt,_createServerHandle:()=>Rt,_normalizeArgs:()=>Rt,_setSimultaneousAccepts:()=>Rt,connect:()=>Rt,createConnection:()=>Rt,createServer:()=>Rt,default:()=>wD,isIP:()=>Rt,isIPv4:()=>Rt,isIPv6:()=>Rt});function Rt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var wD,CD=Tn(()=>{ue(),fe(),de(),wD={_createServerHandle:Rt,_normalizeArgs:Rt,_setSimultaneousAccepts:Rt,connect:Rt,createConnection:Rt,createServer:Rt,isIP:Rt,isIPv4:Rt,isIPv6:Rt,Server:Rt,Socket:Rt,Stream:Rt}}),ED=Ee((t,n)=>{ue(),fe(),de(),n.exports={}}),US=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var e=n((CD(),Et(Ey))),r=n(Ai()),i=n(ED()),o=(0,r.default)("mqttjs:tcp"),s=(a,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,i.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:c,path:u}=l,d=l.hostname;return o("port %d and host %s",c,d),e.default.createConnection({port:c,host:d,path:u})};t.default=s}),SD={};pa(SD,{default:()=>ID});var ID,HF=Tn(()=>{ue(),fe(),de(),ID={}}),$S=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__rest||function(u,d){var h={};for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&d.indexOf(f)<0&&(h[f]=u[f]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(u);g<f.length;g++)d.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(u,f[g])&&(h[f[g]]=u[f[g]]);return h},e=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var r=e((HF(),Et(SD))),i=e((CD(),Et(Ey))),o=e(Ai()),s=e(ED()),a=(0,o.default)("mqttjs:tls");function l(u){let{host:d,port:h,socksProxy:f}=u,g=n(u,["host","port","socksProxy"]);return r.default.connect(f?Object.assign(Object.assign({},g),{socket:(0,s.default)(d,h,f,{timeout:u.socksTimeout})}):u)}var c=(u,d)=>{d.port=d.port||8883,d.host=d.hostname||d.host||"localhost",i.default.isIP(d.host)===0&&(d.servername=d.host),d.rejectUnauthorized=d.rejectUnauthorized!==!1,delete d.path,a("port %d host %s rejectUnauthorized %b",d.port,d.host,d.rejectUnauthorized);let h=l(d);h.on("secureConnect",()=>{d.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",f)});function f(g){d.rejectUnauthorized&&u.emit("error",g),h.end()}return h.on("error",f),h};t.default=c}),HS=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=(sn(),Et(on)),e=es(),r=Cy(),i,o,s;function a(){let h=new e.Transform;return h._write=(f,g,m)=>{i.send({data:f.buffer,success(){m()},fail(v){m(new Error(v))}})},h._flush=f=>{i.close({success(){f()}})},h}function l(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})}function c(h,f){let g=h.protocol==="wxs"?"wss":"ws",m=`${g}://${h.hostname}${h.path}`;return h.port&&h.port!==80&&h.port!==443&&(m=`${g}://${h.hostname}:${h.port}${h.path}`),typeof h.transformWsUrl=="function"&&(m=h.transformWsUrl(m,h,f)),m}function u(){i.onOpen(()=>{s.socketReady()}),i.onMessage(h=>{let{data:f}=h;f instanceof ArrayBuffer?f=n.Buffer.from(f):f=n.Buffer.from(f,"utf8"),o.push(f)}),i.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),i.onError(h=>{let f=new Error(h.errMsg);s.destroy(f)})}var d=(h,f)=>{if(f.hostname=f.hostname||f.host,!f.hostname)throw new Error("Could not determine host. Specify host manually.");let g=f.protocolId==="MQIsdp"&&f.protocolVersion===3?"mqttv3.1":"mqtt";l(f);let m=c(f,h);i=wx.connectSocket({url:m,protocols:[g]}),o=a(),s=new r.BufferedDuplex(f,o,i),s._destroy=(w,y)=>{i.close({success(){y&&y(w)}})};let v=s.destroy;return s.destroy=(w,y)=>(s.destroy=v,setTimeout(()=>{i.close({fail(){s._destroy(w,y)}})},0),s),u(),s};t.default=d}),qS=Ee(t=>{"use strict";ue(),fe(),de(),Object.defineProperty(t,"__esModule",{value:!0});var n=(sn(),Et(on)),e=es(),r=Cy(),i,o,s,a=!1;function l(){let f=new e.Transform;return f._write=(g,m,v)=>{i.sendSocketMessage({data:g.buffer,success(){v()},fail(){v(new Error)}})},f._flush=g=>{i.closeSocket({success(){g()}})},f}function c(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function u(f,g){let m=f.protocol==="alis"?"wss":"ws",v=`${m}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(v=`${m}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(v=f.transformWsUrl(v,f,g)),v}function d(){a||(a=!0,i.onSocketOpen(()=>{s.socketReady()}),i.onSocketMessage(f=>{if(typeof f.data=="string"){let g=n.Buffer.from(f.data,"base64");o.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let m=g.result;m instanceof ArrayBuffer?m=n.Buffer.from(m):m=n.Buffer.from(m,"utf8"),o.push(m)}),g.readAsArrayBuffer(f.data)}}),i.onSocketClose(()=>{s.end(),s.destroy()}),i.onSocketError(f=>{s.destroy(f)}))}var h=(f,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let m=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";c(g);let v=u(g,f);return i=g.my,i.connectSocket({url:v,protocols:m}),o=l(),s=new r.BufferedDuplex(g,o,i),d(),s};t.default=h}),qF=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=u;var e=n(Ai()),r=n((UF(),Et(WI))),i=n(sy()),o=n(pf());typeof gt?.nextTick!="function"&&(gt.nextTick=setImmediate);var s=(0,e.default)("mqttjs"),a=null;function l(d){let h;d.auth&&(h=d.auth.match(/^(.+):(.+)$/),h?(d.username=h[1],d.password=h[2]):d.username=d.auth)}function c(d,h){var f,g,m;if(s("connecting to an MQTT broker..."),typeof d=="object"&&!h&&(h=d,d=""),h=h||{},d&&typeof d=="string"){let y=r.default.parse(d,!0),b={};if(y.port!=null&&(b.port=Number(y.port)),b.host=y.hostname,b.query=y.query,b.auth=y.auth,b.protocol=y.protocol,b.path=y.path,h=Object.assign(Object.assign({},b),h),!h.protocol)throw new Error("Missing protocol");h.protocol=h.protocol.replace(/:$/,"")}if(h.unixSocket=h.unixSocket||((f=h.protocol)===null||f===void 0?void 0:f.includes("+unix")),h.unixSocket?h.protocol=h.protocol.replace("+unix",""):!(!((g=h.protocol)===null||g===void 0)&&g.startsWith("ws"))&&!(!((m=h.protocol)===null||m===void 0)&&m.startsWith("wx"))&&delete h.path,l(h),h.query&&typeof h.query.clientId=="string"&&(h.clientId=h.query.clientId),o.default||h.unixSocket?h.socksProxy=void 0:h.socksProxy===void 0&&typeof gt<"u"&&(h.socksProxy=gt.env.MQTTJS_SOCKS_PROXY),h.cert&&h.key)if(h.protocol){if(["mqtts","wss","wxs","alis"].indexOf(h.protocol)===-1)switch(h.protocol){case"mqtt":h.protocol="mqtts";break;case"ws":h.protocol="wss";break;case"wx":h.protocol="wxs";break;case"ali":h.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${h.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!o.default&&!h.forceNativeWebSocket?(a.ws=Jd().streamBuilder,a.wss=Jd().streamBuilder,a.mqtt=US().default,a.tcp=US().default,a.ssl=$S().default,a.tls=a.ssl,a.mqtts=$S().default):(a.ws=Jd().browserStreamBuilder,a.wss=Jd().browserStreamBuilder,a.wx=HS().default,a.wxs=HS().default,a.ali=qS().default,a.alis=qS().default)),!a[h.protocol]){let y=["mqtts","wss"].indexOf(h.protocol)!==-1;h.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,I)=>y&&I%2===0?!1:typeof a[b]=="function")[0]}if(h.clean===!1&&!h.clientId)throw new Error("Missing clientId for unclean clients");h.protocol&&(h.defaultProtocol=h.protocol);function v(y){return h.servers&&((!y._reconnectCount||y._reconnectCount===h.servers.length)&&(y._reconnectCount=0),h.host=h.servers[y._reconnectCount].host,h.port=h.servers[y._reconnectCount].port,h.protocol=h.servers[y._reconnectCount].protocol?h.servers[y._reconnectCount].protocol:h.defaultProtocol,h.hostname=h.host,y._reconnectCount++),s("calling streambuilder for",h.protocol),a[h.protocol](y,h)}let w=new i.default(v,h);return w.on("error",()=>{}),w}function u(d,h,f=!0){return new Promise((g,m)=>{let v=c(d,h),w={connect:b=>{y(),g(v)},end:()=>{y(),g(v)},error:b=>{y(),v.end(),m(b)}};f===!1&&(w.close=()=>{w.error(new Error("Couldn't connect to server"))});function y(){Object.keys(w).forEach(b=>{v.off(b,w[b])})}Object.keys(w).forEach(b=>{v.on(b,w[b])})})}t.default=c}),zS=Ee(t=>{"use strict";ue(),fe(),de();var n=t&&t.__createBinding||(Object.create?function(f,g,m,v){v===void 0&&(v=m);var w=Object.getOwnPropertyDescriptor(g,m);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(f,v,w)}:function(f,g,m,v){v===void 0&&(v=m),f[v]=g[m]}),e=t&&t.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),r=t&&t.__importStar||function(){var f=function(g){return f=Object.getOwnPropertyNames||function(m){var v=[];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[v.length]=w);return v},f(g)};return function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v=f(g),w=0;w<v.length;w++)v[w]!=="default"&&n(m,g,v[w]);return e(m,g),m}}(),i=t&&t.__exportStar||function(f,g){for(var m in f)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&n(g,f,m)},o=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var s=o(sy());t.MqttClient=s.default;var a=o(CI());t.DefaultMessageIdProvider=a.default;var l=o(IF());t.UniqueMessageIdProvider=l.default;var c=o(EI());t.Store=c.default;var u=r(qF());t.connect=u.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var d=o(BI());t.KeepaliveManager=d.default,t.Client=s.default,i(sy(),t),i(ma(),t);var h=hf();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return h.ReasonCodes}})}),zF=Ee(t=>{ue(),fe(),de();var n=t&&t.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),e=t&&t.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),r=t&&t.__importStar||function(){var s=function(a){return s=Object.getOwnPropertyNames||function(l){var c=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[c.length]=u);return c},s(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var c=s(a),u=0;u<c.length;u++)c[u]!=="default"&&n(l,a,c[u]);return e(l,a),l}}(),i=t&&t.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&n(a,s,l)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(zS());t.default=o,i(zS(),t)}),DD=zF();var ao=class{worker;pronto=!1;promisePronto;chamadas={};constructor(n,e,r){let i=`
            const {${Object.getOwnPropertyNames(Math).join(",")}} = Math;
            function ln(x) {
                return log(x) / LN10;
            }
            const funcoes = {
                ${n.map(c=>`
                            "${c.nome}": (x) => {
                                return ${c.expr};
                            }
                        `).join(`,
`)}
            }
            
            onmessage = (e) => {
                const {codigo, nome, x} = e.data;
                if (!funcoes[nome]) 
                    throw new Error(\`Fun\xE7\xE3o \${nome} n\xE3o existe\`);
                let resultado;
                try {
                    resultado = funcoes[nome](x);
                    if (typeof resultado !== 'number') {
                        const e = new Error("Resultado deve ser num\xE9rico");
                        e.name = 'resultado-nao-numerico';
                        throw e;
                    }
                }
                catch (erro) {
                    postMessage({codigo, nome, erro});
                    return;
                }
                postMessage({codigo, nome, resultado});
            }

            postMessage({tipo: 'pronto'});
        `,o=new Blob([i],{type:"application/javascript"}),s=URL.createObjectURL(o),a,l;this.promisePronto=new Promise((c,u)=>{a=c,l=u}),this.worker=new Worker(s),this.worker.onerror=c=>{this.worker?.terminate(),this.worker=void 0,r?.(c),l(c),c.preventDefault()},this.worker.onmessage=c=>{if(c.data.tipo=="pronto"){this.pronto=!0,e?.(this),a();return}let{codigo:u,nome:d,resultado:h,erro:f}=c.data;h!=null?this.chamadas[u].resolve(h):this.chamadas[u].reject(f),delete this.chamadas[u]}}destruir(){this.worker?.terminate()}chamar(n,e){return this.promisePronto.then(()=>{let r;do r=Math.random().toString(36).slice(2);while(this.chamadas[r]);let i=new Promise((o,s)=>{this.chamadas[r]={resolve:o,reject:s}});return this.worker?.postMessage({codigo:r,nome:n,x:e}),i})}};function ts(){return Math.random().toString(36).slice(2)}function xD(t,n="_"){return t.replace(/[<>:"/\\|?*\x00-\x1F]/g,n).replace(/\s+/g," ").trim().substring(0,255)}var MD=["milisegundo","segundo","minuto","hora","dia","semana","mes"];function gf(t,n,e){let r={milisegundo:1,segundo:1e3,minuto:6e4,hora:36e5,dia:864e5,semana:6048e5,mes:2592e6};return t*r[n]/r[e]}var wr=class t{constructor(n){this.authService=n}pegarSalas(){if(et.ambiente=="static")return new Promise(n=>{n(JSON.parse(localStorage.getItem("salas")??'{"salas": []}').salas.map(e=>({id:e.id,nome:e.modelo.nome,proprietario:e.proprietario})))});if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/salas?auth=${this.authService.token}`).then(n=>n.json()).then(n=>(_r(n),n.salas))}pegarSala(n){if(et.ambiente=="static")return new Promise((r,i)=>{let s=JSON.parse(localStorage.getItem("salas")??'{"salas": []}').salas.find(a=>a.id==n);s?r(s):i(`Sala de c\xF3digo ${n} n\xE3o encontrada`)});if(!this.authService.estaLogado())throw new br;let e=new URLSearchParams;return e.set("id",n),fetch(`${et.apiUrlBase}/salas?auth=${this.authService.token}&${e.toString()}`).then(r=>r.json()).then(r=>(_r(r),r.sala))}removerSala(n){if(et.ambiente=="static"){let e=JSON.parse(localStorage.getItem("salas")??'{"salas": []}').salas,r=e.findIndex(i=>i.id==n);if(r==-1)throw new Error(`Sala de c\xF3digo ${n} n\xE3o encontrada`);return e.splice(r,1),localStorage.setItem("salas",JSON.stringify({salas:e})),Promise.resolve()}if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/salas?auth=${this.authService.token}&id=${n}`,{method:"DELETE"}).then(e=>e.json()).then(e=>_r(e))}criarSala(n){if(et.ambiente=="static"){let e=JSON.parse(localStorage.getItem("salas")??'{"salas": []}'),i={id:Math.random().toString(36).slice(2),modelo:n,proprietario:!0,mqtt_broker:{id:0,url:""}};return e.salas.push(i),localStorage.setItem("salas",JSON.stringify(e)),Promise.resolve()}if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/salas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,criarStreams:et.ambiente=="teste"||et.ambiente=="prod",acao:"criar",modelo:n})}).then(e=>e.json()).then(e=>_r(e))}salvarSala(n,e){if(et.ambiente=="static"){let r=JSON.parse(localStorage.getItem("salas")??'{"salas": []}'),i={id:n,modelo:e,proprietario:!0,mqtt_broker:{id:0,url:""}},o=r.salas.findIndex(s=>s.id==n);return o!=-1?r.salas[o]=i:r.salas.push(i),localStorage.setItem("salas",JSON.stringify(r)),Promise.resolve()}return fetch(`${et.apiUrlBase}/salas`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,id:n,nome:e.nome,modelo:e,criarStreams:et.ambiente=="teste"||et.ambiente=="prod"})}).then(r=>r.json()).then(r=>_r(r))}favoritarSala(n){if(et.ambiente=="static")return Promise.resolve();if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/salas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,acao:"favoritar",id_sala:n})}).then(e=>e.json()).then(e=>_r(e))}desfavoritarSala(n){if(et.ambiente=="static")return Promise.resolve();if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/salas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,acao:"desfavoritar",id_sala:n})}).then(e=>e.json()).then(e=>_r(e))}buscarSalaPorCodigoOuNome(n){if(et.ambiente=="static")return Promise.reject("N\xE3o implementado");if(!this.authService.estaLogado())throw new br;let e=new URLSearchParams;return e.set("codigo_ou_nome",n),fetch(`${et.apiUrlBase}/salas?auth=${this.authService.token}&${e.toString()}`).then(r=>r.json()).then(r=>(_r(r),r.salas))}pegarExperimentos(n,e){if(et.ambiente=="static")return Promise.resolve([]);if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/experimentos?auth=${this.authService.token}&id_sala=${n}${e?`&limite=${e}`:""}`).then(r=>r.json()).then(r=>(_r(r),r.experimentos.map(i=>this.tratarExperimento(i))))}pegarExperimento(n,e){if(et.ambiente=="static")return Promise.reject("N\xE3o implementado para ambiente est\xE1tico");if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/experimentos?auth=${this.authService.token}&id_sala=${n}&id_experimento=${e}`).then(r=>r.json()).then(r=>(_r(r),this.tratarExperimento(r.experimento)))}pegarExperimentoEmAndamento(n){return fetch(`${et.apiUrlBase}/experimentos?auth=${this.authService.token}&id_sala=${n}&em_andamento=1`).then(e=>e.json()).then(e=>(_r(e),e.experimento?this.tratarExperimento(e.experimento):null))}tratarExperimento(n){return{id:n.id,nome:n.nome,inicio:new Date(n.inicio),cabecalho:n.cabecalho,periodo:n.periodo,emAndamento:n.em_andamento,qtdAmostras:n.qtd_amostras}}pegarAmostras(n,e,r,i){if(!this.authService.estaLogado())throw new br;return fetch(`${et.apiUrlBase}/amostras?auth=${this.authService.token}&id_sala=${n}&id_experimento=${e}`+(r?`&primeira=${r}`:"")+(i?`&ultima=${i}`:"")).then(o=>o.json()).then(o=>(_r(o),o.blocos))}static \u0275fac=function(e){return new(e||t)(Le(zn))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})},br=class extends Error{constructor(){super("Usu\xE1rio n\xE3o logado")}},Sy=class extends Error{constructor(n){super(n?.erro??"Mensagens de erro suprimidas pelas configura\xE7\xF5es do servidor")}};function _r(t){if(t.status!="ok")throw new Sy(t)}var TD=["digital","analogico","dht11","carga","distancia"],AD=["digital","analogico","motor-dc"];var Cr=class t{constructor(n,e){this.authService=n;this.apiService=e}modelo;variaveis={atuadores:{},sensores:{}};variaveisSubject=new zt(this.variaveis);variaveisObservable=this.variaveisSubject.asObservable();novoExperimentoSubject=new Ar;experimentoSubject=new Ar;fimExperimentoSubject=new Ar;cliente;codigoSala="";funcoes;promiseInicioExperimento;idUltimaAmostra=0;bufferAmostras=[];idExperimento;conectar(n,e,r){return Ge(this,null,function*(){this.desconectar(),this.codigoSala=n,this.modelo=e;let i=[];e.atuadores.forEach(s=>{Object.entries(s.configuracoes.variaveis).forEach(([a,l])=>{i.push({nome:`${s.codigo}-${a}`,expr:l.f}),i.push({nome:`${s.codigo}-${a}-inv`,expr:l.f_inv}),this.variaveis.atuadores[`${s.codigo}-${a}`]={nome:l.nome,unidade:l.unidade,tipo:l.tipo,valor:0,confirmado:!1}})}),e.sensores.forEach(s=>{Object.entries(s.configuracoes.variaveis).forEach(([a,l])=>{i.push({nome:`${s.codigo}-${a}`,expr:l.f}),this.variaveis.sensores[`${s.codigo}-${a}`]={tipo:l.tipo,nome:l.nome,unidade:l.unidade,valor:0}})});try{this.funcoes?.destruir(),this.funcoes=new ao(i),yield Promise.all(Object.entries(this.variaveis.atuadores).filter(([s,a])=>a.tipo=="limitada").map(l=>Ge(this,[l],function*([s,a]){a.min=(yield this.funcoes?.chamar(s,0))??0,a.max=(yield this.funcoes?.chamar(s,1))??1,a.passo=(a.max-a.min)/1e3,a.valor=a.min})))}catch{throw new Error("Erro ao criar fun\xE7\xF5es")}if(this.variaveisSubject.next(this.variaveis),["dev","static"].includes(et.ambiente)){setTimeout(()=>{this.aoReceberMensagem(`${this.codigoSala}/status`,JSON.stringify(Object.fromEntries(Object.entries(this.variaveis.atuadores).concat(Object.entries(this.variaveis.sensores)).map(([s,a])=>[s,a.valor]))))},1e3),this.apiService.pegarExperimentoEmAndamento(this.codigoSala).then(s=>{s&&this.simularExperimento(s)});return}if(!r)throw new Error("Broker MQTT indefinido");let o={};r.username&&(o.username=r.username),r.password&&(o.password=r.password),this.cliente=DD.connect(r.url,o),this.cliente?.on("connect",()=>{console.log("MQTT Conectado!"),this.cliente?.on("message",this.aoReceberMensagem),this.cliente?.subscribe(`${n}/status`),this.cliente?.subscribe(`${n}/novo-exp`),this.cliente?.subscribe(`${n}/exp`),this.cliente?.subscribe(`${n}/fim-exp`),this.cliente?.publish(`${n}/get`,"status")})})}desconectar(){this.cliente?.end(),this.cliente=void 0,this.codigoSala="",this.modelo=void 0,this.variaveis.atuadores={},this.variaveis.sensores={},this.funcoes?.destruir(),this.funcoes=void 0}aoReceberMensagem=(n,e)=>{switch(typeof e!="string"&&(e=new TextDecoder("utf-8").decode(e)),n.split("/").slice(1)[0]){case"status":{let i=JSON.parse(e),o=Object.fromEntries(Object.entries(i).filter(([a,l])=>a in this.variaveis.sensores)),s=Object.fromEntries(Object.entries(i).filter(([a,l])=>a in this.variaveis.atuadores));if(o)for(let[a,l]of Object.entries(o))this.variaveis.sensores[a]&&this.funcoes?.chamar(a,l).then(c=>{this.variaveis.sensores[a].valor=c,this.variaveisSubject.next(this.variaveis)});if(s)for(let[a,l]of Object.entries(s))this.variaveis.atuadores[a]&&this.funcoes?.chamar(a,l).then(c=>{this.variaveis.atuadores[a].valor=c,this.variaveis.atuadores[a].confirmado=!0,this.variaveisSubject.next(this.variaveis)})}break;case"novo-exp":{let{idExperimento:i,codigoRequisicao:o}=JSON.parse(e);this.promiseInicioExperimento&&(o==this.promiseInicioExperimento.codigo?this.promiseInicioExperimento.resolve():this.promiseInicioExperimento.reject()),this.novoExperimentoSubject.next(i)}break;case"exp":this.experimentoSubject.next(JSON.parse(e));break;case"fim-exp":this.fimExperimentoSubject.next(Number.parseInt(e)),this.experimentoSubject=new Ar;break}};definirAtuador(n,e){if(!this.variaveis.atuadores[n])throw new Error(`Atuador ${n} n\xE3o existe`);this.variaveis.atuadores[n].confirmado=!1,this.funcoes?.chamar(`${n}-inv`,e).then(r=>{if(["dev","static"].includes(et.ambiente))setTimeout(()=>Ge(this,null,function*(){let i={};i[n]=r,this.aoReceberMensagem(`${this.codigoSala}/status`,JSON.stringify(i))}),1e3);else if(this.cliente){let i={};i[n]=r,this.cliente.publish(`${this.codigoSala}/set`,JSON.stringify(i))}})}iniciarExperimento(n,e){let r=ts(),i=new Promise((s,a)=>{this.promiseInicioExperimento={codigo:r,resolve:s,reject:a}}),o=Promise.race([i,new Promise((s,a)=>setTimeout(()=>{a("timeout")},1e4))]).finally(()=>{this.promiseInicioExperimento=void 0});if(et.ambiente=="dev"){if(!this.authService.estaLogado())throw new Error("Usu\xE1rio n\xE3o logado");setTimeout(()=>{fetch(`${et.apiUrlBase}/experimentos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,id_sala:this.codigoSala,nome:n,periodo:e,cabecalho:[...this.modelo.atuadores,...this.modelo.sensores].map(s=>Object.entries(s.configuracoes.variaveis).map(([a,l])=>({codigo:`${s.codigo}-${a}`,nome:l.nome,unidade:l.unidade,f:l.f}))).flat()})}).then(s=>s.json()).then(s=>{let a=s.id;this.aoReceberMensagem(`${this.codigoSala}/novo-exp`,JSON.stringify({idExperimento:a,codigoRequisicao:r})),this.apiService.pegarExperimento(this.codigoSala,a).then(l=>{this.simularExperimento(l)})})},1e3)}else this.cliente?.publish(`${this.codigoSala}/iniciar-exp`,JSON.stringify({codigo:r,nome:n,periodo:e}));return o}simularExperimento(n){return Ge(this,null,function*(){if(!this.funcoes)return;let e=this.funcoes;this.idExperimento=n.id,this.idUltimaAmostra=n.qtdAmostras,this.bufferAmostras.length=0;let r=()=>Ge(this,null,function*(){let o=yield Promise.all([...Object.entries(this.variaveis.atuadores).map(([s,a])=>e.chamar(`${s}-inv`,a.valor)),...Object.values(this.variaveis.sensores).map(s=>this.idUltimaAmostra%10)]);this.idUltimaAmostra++,this.bufferAmostras.push(o)});for(let o=0;o<3;o++)yield r();let i=()=>Ge(this,null,function*(){if(this.idExperimento){if(yield r(),this.aoReceberMensagem(`${this.codigoSala}/exp`,JSON.stringify({id:this.idUltimaAmostra,amostras:[this.bufferAmostras.at(-1)]})),this.bufferAmostras.length>9){let o=this.bufferAmostras.length;fetch(`${et.apiUrlBase}/amostras`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,id_sala:this.codigoSala,id_experimento:this.idExperimento,amostras:this.bufferAmostras})}).then(s=>s.json()).then(s=>{if(s.status=="ok")this.bufferAmostras.splice(0,o);else throw new Error(s.erro)})}setTimeout(i,n.periodo)}});i()})}sincronizarExperimento(){et.ambiente=="dev"?this.aoReceberMensagem(`${this.codigoSala}/exp`,JSON.stringify({id:this.idUltimaAmostra-this.bufferAmostras.length+1,amostras:this.bufferAmostras})):this.cliente?.publish(`${this.codigoSala}/sinc-exp`,"")}pararExperimento(){if(et.ambiente=="dev"){if(this.idExperimento==null)return;let n=this.idExperimento;this.idExperimento=void 0,fetch(`${et.apiUrlBase}/salas`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.authService.token,id:this.codigoSala,parar_experimento:!0})}).then(()=>{this.aoReceberMensagem(`${this.codigoSala}/fim-exp`,n.toString())})}else this.cliente?.publish(`${this.codigoSala}/parar-exp`,"")}subscreverEmNovoExperimento(n){return this.novoExperimentoSubject.subscribe(n)}subscreverEmExperimento(n){return this.experimentoSubject.subscribe(n)}subscreverEmFimExperimento(n){return this.fimExperimentoSubject.subscribe(n)}static \u0275fac=function(e){return new(e||t)(Le(zn),Le(wr))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})};function WF(t,n){if(t&1){let e=ot();R(0,"app-toggle-switch",3),er("estadoChange",function(i){let o=Be(e).$implicit,s=ne();return hr(s.cache[o.codigo],i)||(s.cache[o.codigo]=i),Ue(i)}),Ne("estadoChange",function(){let i=Be(e).$implicit,o=ne();return Ue(o.mqttService.definirAtuador(i.codigo,o.cache[i.codigo]))}),oe(1),V()}if(t&2){let e=n.$implicit,r=ne();Jn("estado",r.cache[e.codigo]),Z("disabled",!e.desc.confirmado)("id",e.codigo),A(),qe(" ",e.desc.nome," ")}}function GF(t,n){t&1&&me(0,"hr")}function YF(t,n){if(t&1){let e=ot();R(0,"div")(1,"div",4)(2,"label",5)(3,"span"),oe(4),V(),R(5,"span",6),oe(6),V()(),R(7,"input",7),Ne("change",function(){let i=Be(e).$implicit,o=ne();return Ue(o.mqttService.definirAtuador(i.codigo,o.cache[i.codigo]))}),er("ngModelChange",function(i){let o=Be(e).$implicit,s=ne();return hr(s.cache[o.codigo],i)||(s.cache[o.codigo]=i),Ue(i)}),V()()()}if(t&2){let e=n.$implicit,r=ne();A(2),en("for",e.codigo),A(2),qe("",e.desc.nome,": "),A(2),$i("",r.cache[e.codigo]==null?null:r.cache[e.codigo].toPrecision(5)," ",e.desc.unidade,""),A(),en("id",e.codigo),Z("min",e.desc.min)("max",e.desc.max)("step",e.desc.passo),Jn("ngModel",r.cache[e.codigo]),Z("disabled",!e.desc.confirmado)}}var mf=class t{constructor(n){this.mqttService=n;this.subs=n.variaveisObservable.subscribe(e=>{for(let r in e.atuadores)this.cache[r]=e.atuadores[r].valor})}subs;cache={};ngOnDestroy(){this.subs.unsubscribe()}arranjoVariaveis(n){return Object.entries(n).map(e=>({codigo:e[0],desc:e[1]}))}get binarias(){return Object.entries(this.mqttService.variaveis.atuadores).filter(n=>n[1].tipo=="binaria").map(n=>({codigo:n[0],desc:n[1]}))}get limitadas(){return Object.entries(this.mqttService.variaveis.atuadores).filter(n=>n[1].tipo=="limitada").map(n=>({codigo:n[0],desc:n[1]}))}static \u0275fac=function(e){return new(e||t)(be(Cr))};static \u0275cmp=lt({type:t,selectors:[["app-acoes"]],decls:10,vars:4,consts:[[1,"painel","painel-controle"],[1,"atuadores"],[3,"estado","disabled","id"],[3,"estadoChange","estado","disabled","id"],[1,"slider-container"],[3,"for"],[2,"text-wrap","nowrap"],["type","range",1,"slider",3,"change","ngModelChange","min","max","step","id","ngModel","disabled"]],template:function(e,r){e&1&&(R(0,"section",0)(1,"h3"),oe(2),Ce(3,"translate"),V(),R(4,"div",1),Bn(5,WF,2,4,"app-toggle-switch",2,Vn),Re(7,GF,1,0,"hr"),Bn(8,YF,8,10,"div",null,Vn),V()()),e&2&&(A(2),He(Ie(3,2,"sala.acoes.titulo")),A(3),Un(r.binarias),A(2),It(r.binarias.length>0?7:-1),A(),Un(r.limitadas))},dependencies:[bt,Mt,pt,Zr,vn,Vm,yn,wi,da],styles:[".painel[_ngcontent-%COMP%]{padding:.8333em 1.6666em;border-radius:.5555em;background-color:#fff;box-shadow:0 4px 8px #0000001a}.painel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.painel-controle[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:0fr 1fr;height:100%}.painel-controle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5555em;padding:1.1111em 0}",".atuadores[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:left;align-items:center;gap:10px}.slider-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:left;justify-content:center;gap:10px;height:100%;width:100%}.slider[_ngcontent-%COMP%]{width:100%}"]})};function QF(t,n){if(t&1&&(R(0,"tr")(1,"td"),oe(2),V(),R(3,"td")(4,"span",3),oe(5),V(),R(6,"span"),oe(7),V()()()),t&2){let e=n.$implicit;A(2),He(e.nome),A(3),qe("",e.valor.toPrecision(5),"\xA0"),A(2),He(e.unidade)}}var vf=class t{constructor(n){this.mqttService=n}get sensores(){return Object.entries(this.mqttService.variaveis.sensores).map(n=>n[1])}static \u0275fac=function(e){return new(e||t)(be(Cr))};static \u0275cmp=lt({type:t,selectors:[["app-sensores"]],decls:6,vars:4,consts:[[1,"painel","painel-controle"],[1,"sensores"],[4,"ngFor","ngForOf"],["id","sensorTmp1"]],template:function(e,r){e&1&&(R(0,"section",0)(1,"h3"),oe(2),Ce(3,"translate"),V(),R(4,"table",1),Re(5,QF,8,3,"tr",2),V()()),e&2&&(A(2),He(Ie(3,2,"sala.sensores.titulo")),A(3),Z("ngForOf",r.sensores))},dependencies:[bt,Mt,pt,nn],styles:[".painel[_ngcontent-%COMP%]{padding:.8333em 1.6666em;border-radius:.5555em;background-color:#fff;box-shadow:0 4px 8px #0000001a}.painel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.painel-controle[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:0fr 1fr;height:100%}.painel-controle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5555em;padding:1.1111em 0}",".sensores[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}"]})};var ZF=t=>["bi",t],va=class t{valor="valor";copiado=0;tamMax=100;timeout;copiar(){navigator.clipboard.writeText(this.valor).then(()=>{this.copiado=2,clearTimeout(this.timeout),setTimeout(()=>this.copiado=1,500),this.timeout=setTimeout(()=>this.copiado=0,5e3)})}redefinir(){clearTimeout(this.timeout),this.copiado=0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=lt({type:t,selectors:[["app-clique-copia"]],inputs:{valor:"valor"},decls:2,vars:4,consts:[[1,"icon-btn","small","clique-copia",3,"click","ngClass"],[3,"ngClass"]],template:function(e,r){e&1&&(R(0,"button",0),Ne("click",function(){return r.copiar()}),me(1,"i",1),V()),e&2&&(Z("ngClass",r.copiado>=1?"copiado":""),A(),Z("ngClass",ct(2,ZF,r.copiado>=1?"bi-check2-all":"bi-copy")))},dependencies:[pt,In],styles:[".clique-copia[_ngcontent-%COMP%]{display:inline-flex}.clique-copia.copiado[_ngcontent-%COMP%]{--cor: rgb(14, 157, 14);background-color:rgba(from var(--cor) r g b/.15)}"]})};var KF=["dialog"],XF=["conteudo"],JF=["*"],ti=class t{dialog;conteudo;abrindo=!1;aoabrir=new mt;aofechar=new mt;abrir(){this.abrindo=!0,this.aoabrir.emit(),this.dialog.nativeElement.showModal()}fechar(){this.dialog.nativeElement.close()}onDocumentClick(n){this.dialog?.nativeElement.getAttribute("open")!=null&&(this.abrindo?this.abrindo=!1:this.conteudo.nativeElement.contains(n.target)||this.dialog.nativeElement.close())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=lt({type:t,selectors:[["app-modal-dialog"]],viewQuery:function(e,r){if(e&1&&($t(KF,5),$t(XF,5)),e&2){let i;jt(i=Vt())&&(r.dialog=i.first),jt(i=Vt())&&(r.conteudo=i.first)}},hostBindings:function(e,r){e&1&&Ne("click",function(o){return r.onDocumentClick(o)},!1,zb)},outputs:{aoabrir:"aoabrir",aofechar:"aofechar"},ngContentSelectors:JF,decls:5,vars:0,consts:[["dialog",""],["conteudo",""],[1,"popover-padrao",3,"close"],[1,"conteudo"]],template:function(e,r){if(e&1){let i=ot();$u(),R(0,"dialog",2,0),Ne("close",function(){return Be(i),Ue(r.aofechar.emit())}),R(2,"div",3,1),Hu(4),V()()}},styles:[".popover-padrao[_ngcontent-%COMP%]:popover-open, .popover-padrao[_ngcontent-%COMP%]:open{translate:-50% 0;opacity:100%}.popover-padrao[_ngcontent-%COMP%]{top:80px;left:calc(50% + -0px);overflow:visible;word-wrap:break-word;margin:0;padding:20px;max-width:calc(100vw - 10px);width:500px;border-radius:20px;border:none;background-color:var(--background);overflow:hidden;max-height:calc(100vh - 160px);translate:-50% -20px;opacity:0%;transition:opacity .2s,translate .2s,display .2s allow-discrete,overlay .2s allow-discrete}.popover-padrao[_ngcontent-%COMP%]::backdrop{background-color:#0000000d}@starting-style{.popover-padrao[_ngcontent-%COMP%]:popover-open, .popover-padrao[_ngcontent-%COMP%]:open{translate:-50% -20px;opacity:0%}}@media (max-height: 600px){.popover-padrao[_ngcontent-%COMP%]{top:10px;max-height:calc(100vh - 20px)}}.conteudo[_ngcontent-%COMP%]{max-height:min(400px,100vh - 60px);overflow:auto}"]})};var e2=["video"],t2=["playerStatus"],n2=(t,n,e)=>({codigo:t,tipo:n,ambiente:e}),r2=t=>({"border-color":t});function i2(t,n){if(t&1){let e=ot();R(0,"button",15),Ne("click",function(){let i=Be(e).index,o=ne();return Ue(o.btnGuiaOnClick(i))}),oe(1),V()}if(t&2){let e=n.$implicit,r=n.index,i=ne();Z("ngStyle",ct(2,r2,r==i.guiaSelecionada?"var(--cor-selecionado)":"var(--cor-normal)")),A(),qe(" ",e.nome," ")}}function o2(t,n){if(t&1){let e=ot();R(0,"div",16)(1,"button",17),Ne("click",function(){Be(e),ne();let i=cn(14);return Ue(i.abrir())}),me(2,"i",18),R(3,"span"),oe(4),Ce(5,"translate"),V()()()}t&2&&(A(4),qe(" ",Ie(5,1,"sala.player.conecte-sua-camera")," "))}var yf=class t{videoElmt;playerStatusElmt;videoContainerResizeObserver;ambiente=et.ambiente;player;reproduzindo=!1;payload;status="carregando";cameras=[];guiaSelecionada=0;constructor(){this.videoContainerResizeObserver=new ResizeObserver(n=>{let e=n[0].contentRect.width,r=Math.floor(e/16),i=16*r,o=9*r;this.videoElmt.nativeElement.width=i,this.videoElmt.nativeElement.height=o,this.playerStatusElmt.nativeElement.style.width=`${i}px`,this.playerStatusElmt.nativeElement.style.height=`${o}px`})}ngOnDestroy(){this.player?.delete()}ngOnChanges(){this.btnGuiaOnClick(0)}ngAfterViewInit(){if(this.videoContainerResizeObserver.observe(this.videoElmt.nativeElement.parentElement),!["dev","static"].includes(et.ambiente)&&IVSPlayer.isPlayerSupported){let n=this.videoElmt.nativeElement;this.player=IVSPlayer.create(),this.player.attachHTMLVideoElement(n),this.player.addEventListener("PlayerError",e=>{this.reproduzindo=!1,e.type==="ErrorNotAvailable"&&e.code===404?this.status="offline":(this.payload=e,this.status="payload")}),n.addEventListener("playing",()=>{this.reproduzindo=!0}),setTimeout(()=>this.btnGuiaOnClick(0),10)}else setTimeout(()=>{this.status=et.ambiente=="prod"?"nao-suportado":"ambiente"},10)}btnGuiaOnClick(n){this.cameras.length>n&&this.cameras[n].url_reproducao&&this.player&&(this.guiaSelecionada=n,this.reproduzindo=!1,this.status="conectando",this.player.load(this.cameras[n].url_reproducao),this.player.play())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=lt({type:t,selectors:[["app-player"]],viewQuery:function(e,r){if(e&1&&($t(e2,5),$t(t2,5)),e&2){let i;jt(i=Vt())&&(r.videoElmt=i.first),jt(i=Vt())&&(r.playerStatusElmt=i.first)}},inputs:{cameras:"cameras"},features:[dr],decls:36,vars:25,consts:[["video",""],["playerStatus",""],["modalConectarCamera",""],[1,"container-cameras"],["id","container-cameras-guias"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","justify-content","center"],["id","video-player","width","750","height","421","playsinline","",3,"hidden"],["id","video-player-status",3,"ngClass"],["style",`
                        width: fit-content; 
                        height: fit-content; 
                        background-color: var(--background); 
                        border-radius: 10px;
                    `,4,"ngIf"],[2,"padding","10px"],[2,"display","flex","flex-direction","column","gap","1.2em"],[2,"padding-left","10px","display","flex","align-items","center","gap","15px"],[2,"word-break","break-all","color","var(--primario)"],[3,"valor"],[3,"click","ngStyle"],[2,"width","fit-content","height","fit-content","background-color","var(--background)","border-radius","10px"],[1,"icon-text-btn","medio",2,"width","fit-content","height","fit-content",3,"click"],[1,"bi","bi-camera-video"]],template:function(e,r){if(e&1&&(R(0,"div",3)(1,"div",4),Re(2,i2,2,4,"button",5),V(),R(3,"div",6),me(4,"video",7,0),R(6,"div",8,1)(8,"p"),oe(9),Ce(10,"translate"),V(),R(11,"div"),Re(12,o2,6,3,"div",9),V()()()(),R(13,"app-modal-dialog",null,2)(15,"div",10)(16,"h2"),oe(17),Ce(18,"translate"),V(),R(19,"div",11)(20,"div")(21,"h4"),oe(22),Ce(23,"translate"),V(),R(24,"div",12)(25,"span",13),oe(26),V(),me(27,"app-clique-copia",14),V()(),R(28,"div")(29,"h4"),oe(30),Ce(31,"translate"),V(),R(32,"div",12)(33,"span",13),oe(34),V(),me(35,"app-clique-copia",14),V()()()()()),e&2){let i,o,s;A(2),Z("ngForOf",r.cameras),A(2),Z("hidden",!r.reproduzindo),A(2),Z("ngClass",r.reproduzindo?"reproduzindo":""),A(3),qe(" ",pr(10,12,"sala.player.status."+r.status,Xw(21,n2,r.payload==null?null:r.payload.code,r.payload==null?null:r.payload.type,r.ambiente))," "),A(3),Z("ngIf",(i=r.cameras[r.guiaSelecionada].url_transmissao==null?null:r.cameras[r.guiaSelecionada].url_transmissao.length)!==null&&i!==void 0?i:!1),A(5),He(Ie(18,15,"sala.player.detalhes-conexao.titulo")),A(5),qe("",Ie(23,17,"sala.player.detalhes-conexao.url"),":"),A(4),He(r.cameras[r.guiaSelecionada].url_transmissao),A(),Z("valor",(o=r.cameras[r.guiaSelecionada]==null?null:r.cameras[r.guiaSelecionada].url_transmissao)!==null&&o!==void 0?o:""),A(3),qe("",Ie(31,19,"sala.player.detalhes-conexao.chave-stream"),":"),A(4),He(r.cameras[r.guiaSelecionada].stream_key),A(),Z("valor",(s=r.cameras[r.guiaSelecionada]==null?null:r.cameras[r.guiaSelecionada].stream_key)!==null&&s!==void 0?s:"")}},dependencies:[pt,In,nn,Kt,rl,va,ti,bt,Mt],styles:[".container-cameras[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#video-player-status[_ngcontent-%COMP%]{background-color:#0000001a;color:#0000004d;padding:10px;display:grid;grid-template-rows:0fr 1fr}#video-player-status[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#video-player-status.reproduzindo[_ngcontent-%COMP%]{display:none}#container-cameras-guias[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}#container-cameras-guias[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{--cor-selecionado: var(--primario);--cor-normal: rgba(0, 0, 0, .1);border:none;padding:.2em;font-size:1em;color:rgba(from var(--texto) r g b/.9);border-radius:0;border-bottom:solid 3px var(--cor-normal);background-color:#0000}#container-cameras-guias[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{cursor:pointer;border-bottom:solid 3px rgba(0,0,0,.3)}"]})};var s2=["dialog"],a2=(t,n)=>({min:t,max:n});function l2(t,n){if(t&1&&(R(0,"option",14),oe(1),Ce(2,"translate"),V()),t&2){let e=n.$implicit;Z("value",e),A(),qe(" ",Ie(2,2,"comum.unidades-tempo-extenso-singular."+e)," ")}}function c2(t,n){if(t&1&&(R(0,"span",15),me(1,"i",16),oe(2),Ce(3,"translate"),V()),t&2){let e,r=ne();A(2),qe(" ",pr(3,1,"sala.plotter.novo-exp.form.erros.periodo-invalido",Ls(4,a2,(e=r.form.getError("periodo-invalido"))==null?null:e.min,(e=r.form.getError("periodo-invalido"))==null?null:e.max))," ")}}function u2(t,n){if(t&1&&(R(0,"span",15),me(1,"i",16),oe(2),Ce(3,"translate"),V()),t&2){let e=ne();A(2),qe(" ",Ie(3,1,"sala.plotter.novo-exp.form.erros."+e.erro),"")}}var _f=class t{constructor(n,e){this.mqttService=n;this.translateService=e;this.form=new vr({nome:new mn("",{validators:Xt.required}),unidade:new mn("milisegundo"),periodo:new mn(1e3,{validators:[Xt.required]})},this.periodoValido),this.subs.push(e.get("sala.plotter.opcoes.experimento").subscribe(r=>{let i=new Date;this.form.controls.nome.setValue(`${r} ${i.toLocaleDateString()}`)}))}unidadesTempo=MD;dialog;erro="";iniciando=!1;form;subs=[];promiseInicioExperimento;ngOnDestroy(){this.subs.forEach(n=>n.unsubscribe())}abrir(n,e){n&&this.form.controls.nome.setValue(n),e!=null&&this.form.controls.periodo.setValue(e);let r=new Promise(i=>{this.promiseInicioExperimento={resolve:i}});return this.dialog.abrir(),r}aoFechar(){this.promiseInicioExperimento?.resolve(!1),this.erro=""}criarExperimento(){this.iniciando=!0,this.erro="",this.mqttService.iniciarExperimento(this.form.controls.nome.value,gf(this.form.controls.periodo.value,this.form.controls.unidade.value,"milisegundo")).then(()=>{let n=this.promiseInicioExperimento?.resolve;this.promiseInicioExperimento=void 0,n?.(!0),this.dialog.fechar()}).catch(n=>{let e=this.promiseInicioExperimento?.resolve;this.promiseInicioExperimento=void 0,e?.(!0),this.erro=n=="timeout"?"timeout":"outro"}).finally(()=>{this.iniciando=!1,this.promiseInicioExperimento=void 0})}periodoValido=n=>{let e=n,r={val:500,unidade:"milisegundo"},i={val:40,unidade:"dia"},o=e.controls.periodo.value,s=e.controls.unidade.value;return gf(o,s,r.unidade)<r.val||gf(o,s,i.unidade)>i.val?{"periodo-invalido":{min:`${r.val} ${this.translateService.instant(`comum.unidades-tempo-extenso-plural.${r.unidade}`)}`,max:`${i.val} ${this.translateService.instant(`comum.unidades-tempo-extenso-plural.${i.unidade}`)}`}}:null};static \u0275fac=function(e){return new(e||t)(be(Cr),be(tr))};static \u0275cmp=lt({type:t,selectors:[["app-novo-exp"]],viewQuery:function(e,r){if(e&1&&$t(s2,5),e&2){let i;jt(i=Vt())&&(r.dialog=i.first)}},decls:28,vars:20,consts:[["dialog",""],[3,"aofechar"],[2,"padding","20px"],[2,"margin-bottom","20px"],[1,"form",2,"display","flex","flex-direction","column","gap","25px",3,"ngSubmit","formGroup"],["for","novoExpNome"],["type","text","id","novoExpNome","formControlName","nome",1,"controle"],["for","novoExpUnidade"],["type","number","name","","id","novoExpUnidade","formControlName","unidade",1,"controle"],[3,"value",4,"ngFor","ngForOf"],["for","novoExpPeriodoAmostragem"],["type","number","name","","id","novoExpPeriodoAmostragem","formControlName","periodo",1,"controle"],["class","erro",4,"ngIf"],["type","submit",1,"btn","primario",3,"disabled"],[3,"value"],[1,"erro"],[1,"bi","bi-exclamation-circle"]],template:function(e,r){if(e&1){let i=ot();R(0,"app-modal-dialog",1,0),Ne("aofechar",function(){return Be(i),Ue(r.aoFechar())}),R(2,"div",2)(3,"h2",3),oe(4),Ce(5,"translate"),V(),R(6,"form",4),Ne("ngSubmit",function(){return Be(i),Ue(r.criarExperimento())}),R(7,"div")(8,"label",5),oe(9),Ce(10,"translate"),V(),me(11,"input",6),V(),R(12,"div")(13,"label",7),oe(14),Ce(15,"translate"),V(),R(16,"select",8),Re(17,l2,3,4,"option",9),V()(),R(18,"div")(19,"label",10),oe(20),Ce(21,"translate"),V(),me(22,"input",11),V(),Re(23,c2,4,7,"span",12),R(24,"button",13),oe(25),Ce(26,"translate"),V(),Re(27,u2,4,3,"span",12),V()()()}e&2&&(A(4),He(Ie(5,10,"sala.plotter.novo-exp.titulo")),A(2),Z("formGroup",r.form),A(3),He(Ie(10,12,"sala.plotter.novo-exp.form.nome")),A(5),He(Ie(15,14,"sala.plotter.novo-exp.form.unidade")),A(3),Z("ngForOf",r.unidadesTempo),A(3),He(Ie(21,16,"sala.plotter.novo-exp.form.periodo")),A(3),Z("ngIf",r.form.dirty&&r.form.invalid&&r.form.hasError("periodo-invalido")),A(),Z("disabled",r.iniciando||r.form.invalid),A(),qe(" ",Ie(26,18,"sala.plotter.novo-exp.form"+(r.iniciando?".aguarde":".criar"))," "),A(2),Z("ngIf",r.erro.length))},dependencies:[ti,Kr,Ji,eo,to,vn,zl,Qr,yn,Gr,Yr,Ci,pt,nn,Kt,bt,Mt],encapsulation:2})};var d2=["canvasPlotter"],f2=["btnIniciarParar"],h2=["dialogNovoExp"],p2=t=>["toolbar",t],g2=t=>["bi",t],m2=t=>[t],v2=t=>({"--cor-linha":t});function y2(t,n){if(t&1&&(R(0,"option",38),oe(1),V()),t&2){let e=n.$implicit,r=ne(2);Z("value",e.id),A(),He((e.id==r.idExperimentoEmAndamento?"\u25B7 ":"")+e.nome)}}function _2(t,n){if(t&1){let e=ot();R(0,"button",39),Ne("click",function(){let i=Be(e).$index,o=ne(2);return Ue(o.alternarVisualizacaoPlot(i))}),R(1,"span"),oe(2),V(),R(3,"div",40)(4,"button",36),Ne("click",function(i){Be(e);let o=ne(2);return Ue(o.focarEmPlotTempo(i))}),me(5,"i",41),V(),R(6,"button",36),Ne("click",function(i){let o=Be(e).$index,s=ne(2);return Ue(s.focarEmPlotY(i,o))}),me(7,"i",42),V()()()}if(t&2){let e=n.$implicit;Z("ngClass",ct(4,m2,e.habilitado?"habilitado":""))("ngStyle",ct(6,v2,e.cor)),A(2),$i(" ",e.nome," ",e.unidade.length>0?"("+e.unidade+")":""," ")}}function b2(t,n){if(t&1){let e=ot();R(0,"div",27)(1,"label",28),oe(2),Ce(3,"translate"),V(),R(4,"div",29)(5,"button",30),me(6,"i",31),V(),R(7,"select",32),er("ngModelChange",function(i){Be(e);let o=ne();return hr(o.idExperimentoSelecionado,i)||(o.idExperimentoSelecionado=i),Ue(i)}),Ne("change",function(){Be(e);let i=ne();return Ue(i.aoEscolherExperimento())}),Re(8,y2,2,2,"option",33),V()()(),R(9,"div",34)(10,"div",35)(11,"span"),oe(12),Ce(13,"translate"),V(),R(14,"button",36),Ne("click",function(){Be(e);let i=ne();return Ue(i.alternarVisualizacaoTodosPlots())}),me(15,"i",4),V()(),R(16,"div"),Bn(17,_2,8,8,"button",37,Vn),V()()}if(t&2){let e=ne();A(2),He(Ie(3,5,"sala.plotter.opcoes.experimento")),A(5),Jn("ngModel",e.idExperimentoSelecionado),A(),Z("ngForOf",e.experimentos),A(4),qe(" ",Ie(13,7,"sala.plotter.opcoes.variaveis")," "),A(3),Z("ngClass",ct(9,g2,e.temAlgumPlotHabilitado()?"bi-eye":"bi-eye-slash")),A(2),Un(e.plots)}}var bf=class t{constructor(n,e,r){this.mqttService=n;this.elmtRef=e;this.apiService=r;this.resizeObserver=new ResizeObserver(i=>{let o=window.devicePixelRatio;this.width=i[0].contentRect.width,this.height=i[0].contentRect.height,this.canvasPlotter.nativeElement.width=this.width*o,this.canvasPlotter.nativeElement.height=this.height*o,this.desenhar()})}salaPronta;canvasPlotter;btnIniciarParar;dialogNovoExp;divPlotterContainer;resizeObserver;ctx;subscricoes=[];subsExperimento=[];mostrarOpcoes=!1;experimentos=[];idExperimentoSelecionado=0;idExperimentoEmAndamento=0;seguirAmostras=!0;corFundo="white";corGrade="black";corTexto="black";espessuraLinhas=4;amostras=new Iy;plots=[];ts=1e3;quebraEscalaPx={x:200,y:100};escalaBaseX=20;escalaBaseY=50;_escalaX=this.escalaBaseX;_escalaY=this.escalaBaseY;_acumuladorAmpliacao=0;translacaoX=.5;translacaoY=-3;mousePlotterUltimoClique={x:0,y:0};translacaoUltimoClique={x:0,y:0};mousePressionado=!1;width=400;height=400;ngOnInit(){this.salaPronta.then(n=>{this.apiService.pegarExperimentos(n.id).then(e=>{this.experimentos=e,this.idExperimentoEmAndamento=e.find(r=>r.emAndamento)?.id??0,this.idExperimentoSelecionado=this.idExperimentoEmAndamento!=0?this.idExperimentoEmAndamento:e.at(0)?.id??0,this.aoEscolherExperimento()}),this.subscricoes.push(this.mqttService.subscreverEmNovoExperimento(e=>{this.apiService.pegarExperimento(n.id,e).then(r=>{this.experimentos.splice(0,0,r),this.idExperimentoSelecionado=this.idExperimentoEmAndamento=e,this.aoEscolherExperimento()})}),this.mqttService.subscreverEmFimExperimento(e=>{let r=this.experimentos.find(i=>i.id==e);r&&r.emAndamento&&(r.emAndamento=!1,this.idExperimentoEmAndamento=0,this.subsExperimento.forEach(i=>i.unsubscribe()),this.subsExperimento.length=0)}))})}ngAfterViewInit(){if(!this.canvasPlotter.nativeElement.parentElement)throw new Error("Canvas deve ter container!");this.divPlotterContainer=this.canvasPlotter.nativeElement.parentElement;let n=this.canvasPlotter.nativeElement.getContext("2d");if(!n)throw new Error("Falha ao pegar contexto 2d do canvas.");this.ctx=n,this.resizeObserver.observe(this.divPlotterContainer),this.canvasPlotter.nativeElement.addEventListener("mousedown",r=>this.aoMouseClique(r.offsetX,r.offsetY)),this.canvasPlotter.nativeElement.addEventListener("mouseup",r=>this.aoMouseSoltar(r.offsetX,r.offsetY)),this.canvasPlotter.nativeElement.addEventListener("mousemove",r=>this.aoMouseMover(r.offsetX,r.offsetY)),this.canvasPlotter.nativeElement.addEventListener("wheel",r=>{r.preventDefault(),this.aoMouseRolar(r.offsetX,r.offsetY,r.deltaY)}),this.inicializarEventosTouch(this.canvasPlotter.nativeElement);let e=getComputedStyle(this.elmtRef.nativeElement);this.corFundo=e.getPropertyValue("--cor-fundo").trim(),this.corGrade=e.getPropertyValue("--cor-grade").trim(),this.corTexto=e.getPropertyValue("--texto")}ngOnDestroy(){this.subscricoes.forEach(n=>n.unsubscribe()),this.subsExperimento.forEach(n=>n.unsubscribe())}alternarPlotagem(){this.idExperimentoEmAndamento!=0?this.pararPlotagem():this.novoExperimento()}novoExperimento(){this.dialogNovoExp.abrir()}pararPlotagem(){this.mqttService.pararExperimento()}aoEscolherExperimento(){return Ge(this,null,function*(){this.amostras.limpar(),this.plots.length=0,this.subsExperimento.forEach(e=>e.unsubscribe()),this.subsExperimento.length=0;let n=yield this.salaPronta;if(typeof this.idExperimentoSelecionado=="string"&&(this.idExperimentoSelecionado=Number.parseInt(this.idExperimentoSelecionado)),this.idExperimentoSelecionado!=0){let e=this.idExperimentoSelecionado,r=this.experimentos.find(s=>s.id==e);if(!r){console.error("Erro ao selecionar experimento");return}let i=new ao(r.cabecalho.map((s,a)=>({nome:a.toString(),expr:s.f}))),o=(s,a)=>this.apiService.pegarAmostras(n.id,e,s,a).then(l=>{if(l.length!=0)return Promise.all(l.map(c=>Ge(this,null,function*(){return{id:c.id,bloco:yield Promise.all(c.bloco.map((u,d)=>i.chamar((d%r.cabecalho.length).toString(),u)))}})))}).then(l=>{l?.forEach(c=>{let u=[];for(let d=Math.floor(c.bloco.length/r.cabecalho.length);d>0;d--)u.push([]);c.bloco.forEach((d,h)=>u[Math.floor(h/r.cabecalho.length)].push(d)),this.amostras.inserir(c.id,u)})});yield o(),this.ts=r.periodo,this.plots=r.cabecalho.map((s,a)=>({nome:s.nome,unidade:s.unidade,cor:`hsl(${a*(Math.sqrt(5)/2-.5)*360} 90 50)`,habilitado:!0})),this.desenhar(),r.emAndamento&&(this.subsExperimento.push(this.mqttService.subscreverEmExperimento(s=>Ge(this,null,function*(){if(s.amostras.length!=0){if(this.amostras.inserir(s.id,yield Promise.all(s.amostras.map(a=>Ge(this,null,function*(){return yield Promise.all(a.map((l,c)=>i.chamar(c.toString(),l)))})))),!this.amostras.contiguo()){let a=this.amostras.blocos.at(-1);if(a){let l=!1;this.amostras.pegarBlocosFaltando().forEach(c=>{(a.id+a.amostras.length-1-c.ultimo)*this.ts>5e3?o(c.primeiro,c.ultimo):l=!0}),l&&this.mqttService.sincronizarExperimento()}}this.desenhar()}}))),this.mqttService.sincronizarExperimento())}})}restaurar(){this.acumuladorAmpliacao=0,this.translacaoX=0,this.translacaoY=0,this.desenhar()}salvar(){let n=`Tempo (ms),${this.plots.map(i=>`${i.nome} ${i.unidade.length>0?`(${i.unidade})`:""}`).join(",")}
`;n+=Array.from(this.amostras).map((i,o)=>[o*this.ts,...i].join(",")).join(`
`);let e=new Blob([n],{type:"text/plain"}),r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=`${xD(this.experimentos.find(i=>i.id==this.idExperimentoSelecionado)?.nome??Date.now().toString())}.csv`,r.download=r.download.replaceAll("/","-").replaceAll(":","-").replaceAll(",","-"),r.click(),URL.revokeObjectURL(r.href)}alternarVisualizacaoPlot(n){this.plots[n].habilitado=!this.plots[n].habilitado,this.desenhar()}temAlgumPlotHabilitado(){return this.plots.findIndex(n=>n.habilitado)!==-1}alternarVisualizacaoTodosPlots(){this.temAlgumPlotHabilitado()?this.plots.forEach(n=>n.habilitado=!1):this.plots.forEach(n=>n.habilitado=!0),this.desenhar()}focarEmPlotY(n,e){n.stopPropagation();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(let s of this.amostras.blocos)for(let a of s.amostras)r=a[e]<r?a[e]:r,i=a[e]>i?a[e]:i;let o=i-r;o==0&&(o=this.escalaBaseY/1.15),this.escalaY=o*1.15,this.translacaoY=(i+r-this.escalaY)/2,this.desenhar()}focarEmPlotTempo(n){n.stopPropagation(),this.escalaX=this.amostras.tamanho,this.translacaoX=this.amostras.tamanho-this.escalaX,this.desenhar()}get acumuladorAmpliacao(){return this._acumuladorAmpliacao}set acumuladorAmpliacao(n){this._acumuladorAmpliacao=Math.round(n*1e4)/1e4,this._escalaX=Math.round(this.escalaBaseX*Math.pow(10,n)*1e4)/1e4,this._escalaY=Math.round(this.escalaBaseY*Math.pow(10,n)*1e4)/1e4}get escalaX(){return this._escalaX}set escalaX(n){this._escalaX=n,this.escalaBaseX=Math.round(n/Math.pow(10,this._acumuladorAmpliacao))}get escalaY(){return this._escalaY}set escalaY(n){this._escalaY=n,this.escalaBaseY=Math.round(n/Math.pow(10,this._acumuladorAmpliacao))}Object_keys(n){return Object.keys(n)}inicializarEventosTouch(n){let e=null;n.addEventListener("touchstart",r=>{if(r.touches.length===1){let i=r.touches[0];this.aoMouseClique(i.clientX,i.clientY)}else r.touches.length===2&&(e=this.distanciaTouch(r.touches[0],r.touches[1]))},{passive:!1}),n.addEventListener("touchmove",r=>{if(r.preventDefault(),r.touches.length===1){let i=r.touches[0];this.aoMouseMover(i.clientX,i.clientY)}else if(r.touches.length===2){let i=this.distanciaTouch(r.touches[0],r.touches[1]);if(e!=null){let o=n.getBoundingClientRect(),s=Array.from(r.touches).map(u=>({x:u.clientX-o.left,y:u.clientY-o.top})),a={x:(s[0].x+s[1].x)/2,y:(s[0].y+s[1].y)/2},l=i/e;e=i;let c=-(l-1)*3e3;this.aoMouseRolar(a.x,a.y,c)}}},{passive:!1}),n.addEventListener("touchend",()=>{this.aoMouseSoltar(0,0),e=null})}distanciaTouch(n,e){let r=n.clientX-e.clientX,i=n.clientY-e.clientY;return Math.sqrt(r*r+i*i)}aoMouseClique(n,e){this.mousePlotterUltimoClique=this.mouseParaPlotter({x:n,y:e}),this.translacaoUltimoClique={x:this.translacaoX,y:this.translacaoY},this.mousePressionado=!0}aoMouseSoltar(n,e){this.mousePressionado=!1}aoMouseMover(n,e){if(this.mousePressionado){this.seguirAmostras||(this.translacaoX=this.translacaoUltimoClique.x),this.translacaoY=this.translacaoUltimoClique.y;let r=this.mouseParaPlotter({x:n,y:e}),i={x:r.x-this.mousePlotterUltimoClique.x,y:r.y-this.mousePlotterUltimoClique.y};this.seguirAmostras||(this.translacaoX=this.translacaoUltimoClique.x-i.x),this.translacaoY=this.translacaoUltimoClique.y-i.y,this.desenhar()}}aoMouseRolar(n,e,r){let i=this.mouseParaPlotter({x:n,y:e});this.acumuladorAmpliacao+=r/1e4;let o=this.mouseParaPlotter({x:n,y:e}),s={x:o.x-i.x,y:o.y-i.y};this.seguirAmostras?this.translacaoX=this.amostras.tamanho-this._escalaX-1:this.translacaoX-=s.x,this.translacaoY-=s.y,this.desenhar()}pegarDimensaoPlotter(){return{x:this.width,y:this.height}}mouseParaPlotter(n){return{x:n.x/this.pegarDimensaoPlotter().x*this._escalaX+this.translacaoX,y:(this.pegarDimensaoPlotter().y-n.y)/this.pegarDimensaoPlotter().y*this._escalaY+this.translacaoY}}plotterParaMouse(n){return{x:(n.x-this.translacaoX)*this.pegarDimensaoPlotter().x/this._escalaX,y:-(n.y-this.translacaoY)*this.pegarDimensaoPlotter().y/this._escalaY+this.height}}desenhar(){if(!this.ctx)return;let n=this.ctx,e=this.width,r=this.height;n.save(),n.scale(window.devicePixelRatio||1,window.devicePixelRatio||1),n.clearRect(0,0,e,r),n.fillStyle=this.corFundo,n.fillRect(0,0,e,r),this.seguirAmostras&&(this.translacaoX=this.amostras.tamanho-(this.amostras.tamanho?1:0)-this._escalaX);let o=(()=>{let f=this.quebraEscalaPx.x/this.pegarDimensaoPlotter().x*this._escalaX,g=Math.floor(Math.log10(f)),m=f/Math.pow(10,g);return(m<2?1:m<5?2:5)*Math.pow(10,g)})(),s=Math.floor(this.translacaoX/o)*o,a=Math.floor((this.translacaoX+this._escalaX)/o)*o,c=(()=>{let f=this.quebraEscalaPx.y/this.pegarDimensaoPlotter().y*this._escalaY,g=Math.floor(Math.log10(f)),m=f/Math.pow(10,g);return(m<2?1:m<5?2:5)*Math.pow(10,g)})(),u=Math.floor(this.translacaoY/c)*c,d=Math.floor((this.translacaoY+this._escalaY)/c)*c;{n.lineWidth=1,n.strokeStyle=this.corGrade,n.beginPath(),n.moveTo(0,0),n.lineTo(0,this.pegarDimensaoPlotter().y),n.lineTo(e,this.pegarDimensaoPlotter().y),n.stroke(),n.textBaseline="bottom",n.textAlign="center";for(let f=s;f<=a;f+=o){let g=(f-this.translacaoX)*this.pegarDimensaoPlotter().x/this._escalaX;n.beginPath(),n.moveTo(g,0),n.lineTo(g,this.pegarDimensaoPlotter().y),n.stroke()}n.textAlign="left",n.textBaseline="middle";for(let f=u;f<=d;f+=c){let g=this.pegarDimensaoPlotter().y-(f-this.translacaoY)*this.pegarDimensaoPlotter().y/this._escalaY;n.beginPath(),n.moveTo(e,g),n.lineTo(0,g),n.stroke()}}if(this.amostras.tamanho>0){n.beginPath(),n.moveTo(0,0),n.lineTo(e,0),n.lineTo(e,this.pegarDimensaoPlotter().y),n.lineTo(0,this.pegarDimensaoPlotter().y),n.closePath(),n.save(),n.clip();let f=Math.min(this.amostras.tamanho-1,Math.max(0,Math.floor(this.translacaoX)-1)),g=Math.min(this.amostras.tamanho-1,Math.max(0,Math.floor(this.translacaoX+this._escalaX)+1));n.lineWidth=this.espessuraLinhas;for(let m=0;m<this.plots.length;m++){let v=this.plots[m];if(v.habilitado){n.strokeStyle=v.cor;let w=[];for(let y=f;y<=g;y++)w.push([(y-this.translacaoX)*this.pegarDimensaoPlotter().x/this._escalaX,this.pegarDimensaoPlotter().y-(this.amostras.em(y)[m]-this.translacaoY)*this.pegarDimensaoPlotter().y/this._escalaY]);n.beginPath(),n.lineCap="round",n.lineJoin="round",n.moveTo(w[0][0],w[0][1]);for(let y=1;y<w.length;y++)n.lineTo(w[y][0],w[y][1]);n.stroke()}}n.restore()}{let f=function(g){let m=g==0?0:Math.log10(Math.abs(g));m=m<-15?0:m;let v=Math.abs(m);if(v>4){let w=(m<0?Math.ceil(v):Math.floor(v))*(m>1?1:-1);return`${Math.round(g/Math.pow(10,w)*10)/10}e${w>0?"+":""}${w}`}return(Math.round(g*1e5)/1e5).toString()};var h=f;n.fillStyle=this.corTexto,n.strokeStyle=this.corFundo,n.lineWidth=3,n.font="0.8em Arial",n.textBaseline="bottom",n.textAlign="center";for(let g=s;g<=a;g+=o){let m=(g-this.translacaoX)*this.pegarDimensaoPlotter().x/this._escalaX;n.strokeText(f(g),m,this.pegarDimensaoPlotter().y-5),n.fillText(f(g),m,this.pegarDimensaoPlotter().y-5)}n.textAlign="left",n.textBaseline="middle";for(let g=u;g<=d;g+=c){let m=this.pegarDimensaoPlotter().y-(g-this.translacaoY)*this.pegarDimensaoPlotter().y/this._escalaY;n.strokeText(f(g),5,m),n.fillText(f(g),5,m)}}n.restore()}static \u0275fac=function(e){return new(e||t)(be(Cr),be(ln),be(wr))};static \u0275cmp=lt({type:t,selectors:[["app-plotter"]],viewQuery:function(e,r){if(e&1&&($t(d2,5),$t(f2,5),$t(h2,5)),e&2){let i;jt(i=Vt())&&(r.canvasPlotter=i.first),jt(i=Vt())&&(r.btnIniciarParar=i.first),jt(i=Vt())&&(r.dialogNovoExp=i.first)}},inputs:{salaPronta:"salaPronta"},decls:53,vars:33,consts:[["canvasPlotter",""],["dialogNovoExp",""],[1,"painel"],[1,"plotter"],[3,"ngClass"],[1,"icon-btn","medium","secundario",2,"font-size","30px",3,"click"],[1,"icon-btn","medium","secundario",3,"click"],[1,"bi","bi-house-fill"],[1,"bi","bi-download"],[1,"bi","bi-gear-fill"],["id","divOpcoes",1,"form","tamanho-normal",3,"ngClass"],[1,"icon-btn","medium","secundario","btn-fechar",3,"click"],[1,"bi","bi-chevron-left"],[1,"scroll"],["tamanho","pequeno",3,"estadoChange","change","estado","id"],[1,"label"],["for","inputEscalaTempo"],["type","number","id","inputEscalaTempo",3,"ngModelChange","change","ngModel"],["for","inputEscalaY"],["type","number","id","inputEscalaY",3,"ngModelChange","change","ngModel"],["for","inputEspessuraPlot"],["type","number","id","inputEspessuraPlot","min","2","max","8",3,"ngModelChange","change","ngModel"],[2,"padding-bottom","1.4em","padding-left","1.4em","position","relative"],["id","divPlotterContainer",2,"height","100%"],["id","canvasPlotter","width","400","height","400"],[2,"position","absolute","aspect-ratio","1","top","50%","left","0","translate","0 -50%","rotate","-90deg"],[2,"position","absolute","bottom","0","width","100%","text-align","center"],[2,"padding-left","2px"],["for","seletorExp"],[2,"overflow","visible","display","flex","flex-direction","row","align-items","center"],[1,"icon-btn","small","secundario",2,"padding-top","5px"],[1,"bi","bi-pencil"],["id","seletorExp",1,"controle",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"plots"],[2,"display","flex","align-items","center","justify-content","space-between","margin-bottom","10px","padding-right","12px","overflow","visible"],[1,"icon-btn","small",3,"click"],[1,"plot",3,"ngClass","ngStyle"],[3,"value"],[1,"plot",3,"click","ngClass","ngStyle"],[2,"display","flex"],[1,"bi","bi-arrows"],[1,"bi","bi-arrows-vertical"]],template:function(e,r){if(e&1){let i=ot();R(0,"div",2)(1,"h3"),oe(2),Ce(3,"translate"),V(),R(4,"div",3)(5,"div",4)(6,"button",5),Ne("click",function(){return Be(i),Ue(r.alternarPlotagem())}),me(7,"i",4),V(),R(8,"button",6),Ne("click",function(){return Be(i),Ue(r.restaurar())}),me(9,"i",7),V(),R(10,"button",6),Ne("click",function(){return Be(i),Ue(r.salvar())}),me(11,"i",8),V(),R(12,"button",6),Ne("click",function(){return Be(i),Ue(r.mostrarOpcoes=!r.mostrarOpcoes)}),me(13,"i",9),V()(),R(14,"div",10)(15,"button",11),Ne("click",function(){return Be(i),Ue(r.mostrarOpcoes=!r.mostrarOpcoes)}),me(16,"i",12),V(),R(17,"div")(18,"div",13),Re(19,b2,19,11),R(20,"div")(21,"app-toggle-switch",14),er("estadoChange",function(s){return Be(i),hr(r.seguirAmostras,s)||(r.seguirAmostras=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.desenhar())}),R(22,"span",15),oe(23),Ce(24,"translate"),V()()(),R(25,"div")(26,"label",16),oe(27),Ce(28,"translate"),V(),R(29,"input",17),er("ngModelChange",function(s){return Be(i),hr(r.escalaX,s)||(r.escalaX=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.desenhar())}),V()(),R(30,"div")(31,"label",18),oe(32),Ce(33,"translate"),V(),R(34,"input",19),er("ngModelChange",function(s){return Be(i),hr(r.escalaY,s)||(r.escalaY=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.desenhar())}),V()(),R(35,"div")(36,"label",20),oe(37),Ce(38,"translate"),V(),R(39,"input",21),er("ngModelChange",function(s){return Be(i),hr(r.espessuraLinhas,s)||(r.espessuraLinhas=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.desenhar())}),V()()()()(),R(40,"div",22)(41,"div",23),me(42,"canvas",24,0),V(),R(44,"div",25)(45,"span"),oe(46),Ce(47,"translate"),V()(),R(48,"div",26),oe(49),Ce(50,"translate"),V()()()(),me(51,"app-novo-exp",null,1)}e&2&&(A(2),He(Ie(3,17,"sala.plotter.titulo")),A(3),Z("ngClass",ct(31,p2,r.mostrarOpcoes?"":"fechado")),A(2),Z("ngClass","bi "+(r.idExperimentoEmAndamento!=0?"bi-stop-fill":"bi-play-fill")),A(7),Z("ngClass",r.mostrarOpcoes?"":"fechado"),A(5),It(r.experimentos.length>0?19:-1),A(2),Jn("estado",r.seguirAmostras),Z("id","chkSeguirAmostras"),A(2),qe(" ",Ie(24,19,"sala.plotter.opcoes.seguir-amostras")," "),A(4),He(Ie(28,21,"sala.plotter.opcoes.escala-tempo")),A(2),Jn("ngModel",r.escalaX),A(3),He(Ie(33,23,"sala.plotter.opcoes.escala-y")),A(2),Jn("ngModel",r.escalaY),A(3),He(Ie(38,25,"sala.plotter.opcoes.espessura-linha")),A(2),Jn("ngModel",r.espessuraLinhas),A(7),qe(" ",Ie(47,27,"sala.plotter.eixos.y")," "),A(3),$i(" ",Ie(50,29,"sala.plotter.eixos.x")," (ms * ",r.ts,") "))},dependencies:[pt,In,nn,rl,Zr,eo,to,vn,zl,Qr,yn,Um,Bm,wi,bt,Mt,_f,da],styles:[".painel[_ngcontent-%COMP%]{padding:.8333em 1.6666em;border-radius:.5555em;background-color:#fff;box-shadow:0 4px 8px #0000001a}.painel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.painel-controle[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:0fr 1fr;height:100%}.painel-controle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5555em;padding:1.1111em 0}","[_nghost-%COMP%]{--cor-fundo: white;--cor-grade: gray}.painel[_ngcontent-%COMP%]{aspect-ratio:1.3333333333;max-height:85vh;min-width:100%;display:grid;grid-template-rows:0fr 1fr}@media (max-width: 1000px){.painel[_ngcontent-%COMP%]{aspect-ratio:unset}}.plotter[_ngcontent-%COMP%]{display:grid;grid-template-columns:0fr 1fr;gap:5px;overflow:hidden;position:relative}.toolbar[_ngcontent-%COMP%]{display:flex;position:absolute;--margin-h: 0px;z-index:2;gap:5px}.toolbar.fechado[_ngcontent-%COMP%]{background-color:var(--background);box-shadow:0 0 4px 4px var(--background);border-radius:10px}#divOpcoes[_ngcontent-%COMP%]{position:relative;z-index:1;min-width:250px;overflow:hidden;transition:all .5s}#divOpcoes.fechado[_ngcontent-%COMP%]{min-width:0;width:0;border-color:transparent}#divOpcoes[_ngcontent-%COMP%]   .btn-fechar[_ngcontent-%COMP%]{position:absolute;z-index:3;right:0}#divOpcoes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow-x:hidden;display:flex;flex-direction:column;align-items:stretch;padding-top:40px;padding-bottom:20px;padding-right:5px;gap:10px;height:100%}#divOpcoes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{min-width:244px;display:flex;flex-direction:column;align-items:stretch;gap:30px;overflow-y:auto;scrollbar-width:thin;padding-right:5px;padding-bottom:20px}.bi-stop-fill[_ngcontent-%COMP%]{color:#ff5a5a!important;--cor-hover: rgba(255, 0, 0, .613)}[_ngcontent-%COMP%]:disabled   .bi-stop-fill[_ngcontent-%COMP%]{color:#ff5a5aa9!important}.plots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden}.plots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .plot[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;font-size:.9em;display:flex;text-align:left;width:100%;align-items:center;justify-content:space-between;padding:8px 12px;border-left:4px solid hsl(from var(--cor-linha) h s l/.5);color:hsl(from var(--texto) h s l/.5);background-color:var(--background)}.plots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .plot.habilitado[_ngcontent-%COMP%]{border-left:4px solid var(--cor-linha);color:unset}.plots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .plot[_ngcontent-%COMP%]:focus{background-color:hsl(from var(--primario) h s l/.1)}.plots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .plot[_ngcontent-%COMP%]:hover{background-color:hsl(from var(--primario) h s l/.2);cursor:pointer}#divPlotterContainer[_ngcontent-%COMP%]{position:relative;z-index:0}#canvasPlotter[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}"]})},Iy=class{blocos=[];_tamanho=0;get tamanho(){return this._tamanho}inserir(n,e){this.blocos.push({id:n,amostras:e}),this.blocos.sort((r,i)=>r.id-i.id),this._tamanho+=e.length;for(let r=0;r<this.blocos.length;r++)if(r+1<this.blocos.length){let i=this.blocos[r].id+this.blocos[r].amostras.length-this.blocos[r+1].id;i>=0&&(this.blocos[r+1].amostras.length>i?i>0?(this.blocos[r].amostras.splice(-i,i,...this.blocos[r+1].amostras),this._tamanho-=i):this.blocos[r].amostras.push(...this.blocos[r+1].amostras):this._tamanho-=this.blocos[r+1].amostras.length,this.blocos.splice(r+1,1),r--)}}[Symbol.iterator](){let n=0,e=0,r=this.blocos;return{next:()=>n<r[e].amostras.length?{value:r[e].amostras[n++],done:!1}:e+1<r.length?(e++,n=0,{value:r[e].amostras[n++],done:!1}):{value:void 0,done:!0}}}em(n){for(let e=0,r=0;e<this.blocos.length;e++){let i=r+this.blocos[e].amostras.length;if(n<i)return this.blocos[e].amostras[n-r];r=i}throw new RangeError(`\xCDndice ${n} fora dos limites`)}limpar(){this.blocos.length=0,this._tamanho=0}contiguo(){return this.blocos.length<=1}pegarBlocosFaltando(){let n=[];for(let e=0;e<this.blocos.length;e++)e+1<this.blocos.length&&n.push({primeiro:this.blocos[e].id+this.blocos[e].amostras.length,ultimo:this.blocos[e+1].id-1});return n}};var w2=()=>[];function C2(t,n){if(t&1&&me(0,"app-player",4),t&2){let e,r=ne();Z("cameras",(e=r.sala==null||r.sala.modelo==null?null:r.sala.modelo.cameras)!==null&&e!==void 0?e:Fs(1,w2))}}function E2(t,n){t&1&&me(0,"app-acoes")}function S2(t,n){t&1&&me(0,"app-sensores")}function I2(t,n){if(t&1&&me(0,"app-plotter",10),t&2){let e=ne();Z("salaPronta",e.salaPronta)}}function D2(t,n){t&1&&(R(0,"div",11),oe(1),Ce(2,"translate"),V()),t&2&&(A(),qe(" ",Ie(2,1,"sala.nada-aqui")," "))}var wf=class t{constructor(n,e,r,i){this.mqttService=n;this.salaPronta=new Promise(o=>{let s=e.paramMap.subscribe(a=>Ge(this,null,function*(){let l=a.get("codigo");l&&(this.sala=yield r.pegarSala(l),o(this.sala),i.setTitle(this.sala.modelo.nome),n.conectar(this.sala.id,this.sala.modelo,this.sala.mqtt_broker)),setTimeout(()=>s.unsubscribe(),1)}))})}sala;salaPronta;ngOnDestroy(){this.mqttService.desconectar()}static \u0275fac=function(e){return new(e||t)(be(Cr),be(ir),be(wr),be(Ws))};static \u0275cmp=lt({type:t,selectors:[["app-sala"]],decls:14,vars:6,consts:[[2,"display","grid","grid-template-columns","0fr 1fr","width","100%","gap","10px","margin-bottom","10px","align-items","center"],["routerLink","/inicio",1,"icon-btn-circle"],[1,"bi","bi-arrow-left"],[2,"margin","0","color","rgb(35, 35, 35)","text-wrap-mode","nowrap","text-overflow","ellipsis","overflow","hidden"],[3,"cameras"],[1,"container-ferramentas"],[1,"container-paineis"],[4,"ngIf"],[3,"salaPronta",4,"ngIf"],["style","color: var(--texto-leve); text-align: center;",4,"ngIf"],[3,"salaPronta"],[2,"color","var(--texto-leve)","text-align","center"]],template:function(e,r){if(e&1&&(R(0,"div")(1,"div",0)(2,"button",1),me(3,"i",2),V(),R(4,"h2",3),oe(5),V()(),R(6,"main"),Re(7,C2,1,2,"app-player",4),R(8,"div",5)(9,"div",6),Re(10,E2,1,0,"app-acoes",7)(11,S2,1,0,"app-sensores",7),V(),Re(12,I2,1,1,"app-plotter",8),V(),Re(13,D2,3,3,"div",9),V()()),e&2){let i,o,s,a,l;A(5),He(r.sala==null||r.sala.modelo==null?null:r.sala.modelo.nome),A(2),It(((i=r.sala==null||r.sala.modelo==null||r.sala.modelo.cameras==null?null:r.sala.modelo.cameras.length)!==null&&i!==void 0?i:0)>0?7:-1),A(3),Z("ngIf",(o=r.sala==null||r.sala.modelo==null||r.sala.modelo.atuadores==null?null:r.sala.modelo.atuadores.length)!==null&&o!==void 0?o:!1),A(),Z("ngIf",(s=r.sala==null||r.sala.modelo==null||r.sala.modelo.sensores==null?null:r.sala.modelo.sensores.length)!==null&&s!==void 0?s:!1),A(),Z("ngIf",((a=r.sala==null||r.sala.modelo==null||r.sala.modelo.atuadores==null?null:r.sala.modelo.atuadores.length)!==null&&a!==void 0?a:!1)||((a=r.sala==null||r.sala.modelo==null||r.sala.modelo.sensores==null?null:r.sala.modelo.sensores.length)!==null&&a!==void 0?a:!1)),A(),Z("ngIf",!((l=r.sala==null||r.sala.modelo==null||r.sala.modelo.atuadores==null?null:r.sala.modelo.atuadores.length)!==null&&l!==void 0&&l||(l=r.sala==null||r.sala.modelo==null||r.sala.modelo.sensores==null?null:r.sala.modelo.sensores.length)!==null&&l!==void 0&&l))}},dependencies:[bt,Mt,mf,vf,yf,bf,mr,pt,Kt],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center;gap:30px;margin-bottom:30px}.container-ferramentas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.container-paineis[_ngcontent-%COMP%]{display:grid;gap:30px}.container-paineis[_ngcontent-%COMP%]:has(app-acoes+app-sensores){grid-template-columns:1fr 1fr}@media (min-width: 1001px){.container-ferramentas[_ngcontent-%COMP%]:has(app-acoes), .container-ferramentas[_ngcontent-%COMP%]:has(app-sensores){display:grid;grid-template-columns:1fr 3fr}.container-paineis[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media (max-width: 540px){.container-paineis[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;align-items:stretch;justify-content:center}}"]})};var Cf=t=>[t],OD=t=>({min:t});function x2(t,n){t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2&&(A(3),qe(" ",Ie(4,1,"signup.form.erros.nome-obrigatorio")," "))}function M2(t,n){t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2&&(A(3),qe(" ",Ie(4,1,"signup.form.erros.usuario-obrigatorio")," "))}function T2(t,n){if(t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2){let e=ne(2);A(3),qe(" ",pr(4,1,"signup.form.erros.usuario-curto",ct(4,OD,e.usuario.errors==null?null:e.usuario.errors.minlength.requiredLength))," ")}}function A2(t,n){if(t&1&&Re(0,T2,5,6,"li",11),t&2){let e=ne();Z("ngIf",e.usuario.getError("minlength"))}}function O2(t,n){t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2&&(A(3),qe(" ",Ie(4,1,"signup.form.erros.senha-obrigatoria")," "))}function R2(t,n){if(t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2){let e=ne(2);A(3),qe(" ",pr(4,1,"signup.form.erros.senha-curta",ct(4,OD,e.senha.errors==null?null:e.senha.errors.minlength.requiredLength))," ")}}function N2(t,n){if(t&1&&(R(0,"li"),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2){let e=n.$implicit;A(3),qe(" ",Ie(4,1,"signup.form.erros.senha-"+e)," ")}}function P2(t,n){if(t&1&&Re(0,R2,5,6,"li",11)(1,N2,5,3,"li",24),t&2){let e=ne();Z("ngIf",e.senha.getError("minlength")),A(),Z("ngForOf",e.senha.getError("senhaFraca"))}}function k2(t,n){t&1&&(R(0,"li",10),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2&&(A(3),qe(" ",Ie(4,1,"signup.form.erros.confirmar-senha-obrigatorio")," "))}function F2(t,n){t&1&&(R(0,"li",10),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()),t&2&&(A(3),qe(" ",Ie(4,1,"signup.form.erros.senhas-diferentes")," "))}function L2(t,n){if(t&1&&Re(0,F2,5,3,"li",21),t&2){let e=ne();Z("ngIf",e.form.getError("senhasDiferentes"))}}function j2(t,n){if(t&1&&(R(0,"span",10),me(1,"i",23),oe(2),Ce(3,"translate"),V()),t&2){let e=ne();A(2),qe(" ",Ie(3,1,"signup.form.erros."+e.erro),"")}}var Ef=class t{constructor(n,e,r){this.authService=n;this.router=e;this.form=r.group({nome:["",[Xt.required]],usuario:["",[Xt.required,Xt.minLength(8)]],senha:["",[Xt.required,Xt.minLength(12),this.senhaForte]],confirmaSenha:["",[Xt.required]]},{validators:[this.senhasIguais]}),this.nome=this.form.get("nome"),this.usuario=this.form.get("usuario"),this.senha=this.form.get("senha"),this.confirmaSenha=this.form.get("confirmaSenha"),n.estaLogado()&&e.navigateByUrl("/salas")}form;erro="";nome;usuario;senha;confirmaSenha;senhasIguais(n){return n.get("senha")?.value!=n.get("confirmaSenha")?.value?{senhasDiferentes:!0}:null}senhaForte(n){let e={senhaFraca:[]},r=n.value;return/[A-Z]/.test(r)||e.senhaFraca.push("maiuscula"),/[a-z]/.test(r)||e.senhaFraca.push("minuscula"),/\d/.test(r)||e.senhaFraca.push("digito"),/\W/.test(r)||e.senhaFraca.push("especial"),e.senhaFraca.length>0?e:null}signup(){this.authService.singup(this.form.value.nome,this.form.value.usuario,this.form.value.senha).then(n=>{if(n==!0)this.router.navigateByUrl("/painel");else{let[e,r]=n.split(":"),i=e.split("/");i[0]=="requisicao-ruim"&&i[1]=="falha-autenticacao"?this.erro=i[2]??"desconhecido":this.erro="desconhecido"}})}static \u0275fac=function(e){return new(e||t)(be(zn),be(xn),be(mS))};static \u0275cmp=lt({type:t,selectors:[["app-signup"]],decls:47,vars:44,consts:[["erroUsuario",""],["erroSenha",""],["erroConfirmaSenha",""],[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"display","flex","flex-direction","column","align-items","center","gap","10px","width","100%"],[1,"form","tamanho-grande","container",2,"padding","40px","padding-top","20px","width","100%","max-width","350px",3,"submit","formGroup"],[2,"margin-bottom","20px"],[3,"ngClass"],["for","nome"],["type","text","name","nome","id","nome","formControlName","nome",1,"controle"],[1,"erro"],[4,"ngIf"],["for","usuario"],["type","text","name","usuario","id","usuario","formControlName","usuario",1,"controle"],[4,"ngIf","ngIfElse"],["for","senha"],["type","password","name","senha","id","senha","formControlName","senha",1,"controle"],["for","confirmaSenha"],["type","password","name","confirmaSenha","id","confirmaSenha","formControlName","confirmaSenha","onpaste","return false","ondrop","return false","autocomplete","off",1,"controle"],["class","erro",4,"ngIf","ngIfElse"],["type","submit",1,"btn","primario",3,"disabled"],["class","erro",4,"ngIf"],[3,"routerLink"],[1,"bi","bi-exclamation-circle"],[4,"ngFor","ngForOf"]],template:function(e,r){if(e&1){let i=ot();R(0,"div",3)(1,"div",4)(2,"form",5),Ne("submit",function(){return Be(i),Ue(r.signup())}),R(3,"h2",6),oe(4),Ce(5,"translate"),V(),R(6,"div",7)(7,"label",8),oe(8),Ce(9,"translate"),V(),me(10,"input",9),R(11,"ul",10),Re(12,x2,5,3,"li",11),V()(),R(13,"div",7)(14,"label",12),oe(15),Ce(16,"translate"),V(),me(17,"input",13),R(18,"ul",10),Re(19,M2,5,3,"li",14)(20,A2,1,1,"ng-template",null,0,qu),V()(),R(22,"div",7)(23,"label",15),oe(24),Ce(25,"translate"),V(),me(26,"input",16),R(27,"ul",10),Re(28,O2,5,3,"li",14)(29,P2,2,2,"ng-template",null,1,qu),V()(),R(31,"div",7)(32,"label",17),oe(33),Ce(34,"translate"),V(),me(35,"input",18),R(36,"ul",10),Re(37,k2,5,3,"li",19)(38,L2,1,1,"ng-template",null,2,qu),V()(),R(40,"button",20),oe(41),Ce(42,"translate"),V(),Re(43,j2,4,3,"span",21),V(),R(44,"a",22),oe(45),Ce(46,"translate"),V()()()}if(e&2){let i=cn(21),o=cn(30),s=cn(39);A(2),Z("formGroup",r.form),A(2),He(Ie(5,22,"signup.form.titulo")),A(2),Z("ngClass",ct(36,Cf,r.nome.touched&&r.nome.invalid?"invalido":"")),A(2),He(Ie(9,24,"signup.form.nome")),A(4),Z("ngIf",r.nome.getError("required")),A(),Z("ngClass",ct(38,Cf,r.usuario.touched&&r.usuario.invalid?"invalido":"")),A(2),He(Ie(16,26,"signup.form.usuario")),A(4),Z("ngIf",r.usuario.getError("required"))("ngIfElse",i),A(3),Z("ngClass",ct(40,Cf,r.senha.touched&&r.senha.invalid?"invalido":"")),A(2),He(Ie(25,28,"signup.form.senha")),A(4),Z("ngIf",r.senha.getError("required"))("ngIfElse",o),A(3),Z("ngClass",ct(42,Cf,r.confirmaSenha.touched&&(r.confirmaSenha.invalid||r.form.getError("senhasDiferentes"))?"invalido":"")),A(2),He(Ie(34,30,"signup.form.confirme-a-senha")),A(4),Z("ngIf",r.confirmaSenha.getError("required"))("ngIfElse",s),A(3),Z("disabled",r.form.invalid),A(),He(Ie(42,32,"signup.form.criar")),A(2),Z("ngIf",r.erro),A(),Z("routerLink","/login"),A(),He(Ie(46,34,"signup.entrar"))}},dependencies:[pt,In,nn,Kt,bt,Mt,mr,Kr,Ji,vn,yn,Gr,Yr,Ci],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]})};var V2=["dialogPesquisarSala"],B2=["dialogOpcoesSala"],U2=()=>({standalone:!0});function $2(t,n){if(t&1){let e=ot();R(0,"button",7),Ne("click",function(){let i=Be(e).$implicit,o=ne(2);return Ue(o.router.navigateByUrl("/sala/"+i.id))}),R(1,"span"),oe(2),V(),R(3,"div",29)(4,"button",30),Ne("click",function(i){let o=Be(e).$implicit;return ne(2).abrirOpcoesSala(o),Ue(i.stopPropagation())}),me(5,"i",31),V()()()}if(t&2){let e=n.$implicit;A(2),qe(" ",e.nome," ")}}function H2(t,n){if(t&1&&(R(0,"div"),Re(1,$2,6,1,"button",28),V()),t&2){let e=ne();A(),Z("ngForOf",e.minhasSalas)}}function q2(t,n){t&1&&(R(0,"span",13),oe(1),Ce(2,"translate"),V()),t&2&&(A(),He(Ie(2,1,"painel.nada-aqui")))}function z2(t,n){if(t&1){let e=ot();R(0,"button",7),Ne("click",function(){let i=Be(e).$implicit,o=ne(2);return Ue(o.router.navigateByUrl("/sala/"+i.id))}),R(1,"span"),oe(2),V(),R(3,"div",29)(4,"button",30),Ne("click",function(i){let o=Be(e).$implicit;return ne(2).abrirOpcoesSala(o),Ue(i.stopPropagation())}),me(5,"i",31),V()()()}if(t&2){let e=n.$implicit;A(2),qe(" ",e.nome," ")}}function W2(t,n){if(t&1&&(R(0,"div"),Re(1,z2,6,1,"button",28),V()),t&2){let e=ne();A(),Z("ngForOf",e.salasFavoritadas)}}function G2(t,n){t&1&&(R(0,"span",13),oe(1),Ce(2,"translate"),V()),t&2&&(A(),He(Ie(2,1,"painel.nada-aqui")))}function Y2(t,n){if(t&1){let e=ot();R(0,"li")(1,"button",34),Ne("click",function(){let i=Be(e).index,o=ne(2);return Ue(o.aoEscolherResultadoPesquisaSala(i))}),R(2,"span",35),oe(3),V(),R(4,"span",36),oe(5),V()()()}if(t&2){let e=n.$implicit;A(3),qe(" ",e.nome," "),A(2),qe(" ",e.id," ")}}function Q2(t,n){if(t&1&&(R(0,"div",32)(1,"ol"),Re(2,Y2,6,2,"li",33),V()()),t&2){let e=ne();A(2),Z("ngForOf",e.resultadosPesquisaSala)}}function Z2(t,n){if(t&1){let e=ot();R(0,"button",41),Ne("click",function(){Be(e);let i=ne(2);return Ue(i.confirmandoExclusao=!0)}),me(1,"i",42),oe(2),Ce(3,"translate"),V()}t&2&&(A(2),qe(" ",Ie(3,1,"painel.opcoes-sala.excluir")," "))}function K2(t,n){if(t&1){let e=ot();R(0,"div",40)(1,"h4",43),oe(2),Ce(3,"translate"),V(),R(4,"div",44)(5,"button",45),Ne("click",function(){Be(e);let i=ne(2);return Ue(i.confirmandoExclusao=!1)}),oe(6),Ce(7,"translate"),V(),R(8,"button",46),Ne("click",function(){Be(e);let i=ne(2);return Ue(i.excluirSala(i.salaSelecionada==null?null:i.salaSelecionada.id))}),oe(9),Ce(10,"translate"),V()()()}if(t&2){let e=ne(2);A(2),$i(" ",Ie(3,4,"painel.opcoes-sala.confirmar"),'"',e.salaSelecionada==null?null:e.salaSelecionada.nome,'"? '),A(4),qe(" ",Ie(7,6,"painel.opcoes-sala.nao")," "),A(3),qe(" ",Ie(10,8,"painel.opcoes-sala.sim")," ")}}function X2(t,n){if(t&1&&(R(0,"button",37),me(1,"i",38),oe(2),Ce(3,"translate"),V(),Re(4,Z2,4,3,"button",39)(5,K2,11,10,"div",40)),t&2){let e=ne();Z("routerLink","/config-sala/"+(e.salaSelecionada==null?null:e.salaSelecionada.id)),A(2),qe(" ",Ie(3,3,"painel.opcoes-sala.configurar")," "),A(2),It(e.confirmandoExclusao?5:4)}}function J2(t,n){if(t&1){let e=ot();R(0,"button",47),Ne("click",function(){Be(e);let i=ne();return Ue(i.inverterFavoritoSalaSelecionada())}),me(1,"i",48),oe(2),Ce(3,"translate"),V()}if(t&2){let e=ne();A(2),qe(" ",Ie(3,1,"painel.opcoes-sala."+(e.salaSelecionada!=null&&e.salaSelecionada.favoritada?"desfavoritar":"favoritar"))," ")}}var Sf=class t{constructor(n,e,r){this.apiService=n;this.router=e;r.estaLogado()?n.pegarSalas().then(i=>{this.minhasSalas.push(...i.filter(o=>o?.proprietario??!1).map(o=>Ye(we({},o),{favoritada:!1}))),this.salasFavoritadas.push(...i.filter(o=>!(o?.proprietario??!1)).map(o=>Ye(we({},o),{favoritada:!0})))}):e.navigateByUrl("/login")}timeoutDigitarBuscaSala;pesquisaSala="";resultadosPesquisaSala=[];dialogPesquisarSala;dialogOpcoesSala;salaSelecionada;confirmandoExclusao=!1;minhasSalas=[];salasFavoritadas=[];get salas(){return this.minhasSalas.concat(this.salasFavoritadas)}aoDigitarBuscaSala(n){clearTimeout(this.timeoutDigitarBuscaSala),this.timeoutDigitarBuscaSala=setTimeout(()=>{this.procurarSala(n)},500)}procurarSala(n){return Ge(this,null,function*(){this.resultadosPesquisaSala.length=0,this.resultadosPesquisaSala=yield this.apiService.buscarSalaPorCodigoOuNome(n)})}aoAbrirProcurarSala(){this.pesquisaSala=""}aoEscolherResultadoPesquisaSala(n){this.salaSelecionada=Ye(we({},this.resultadosPesquisaSala[n]),{favoritada:this.salasFavoritadas.findIndex(e=>e.id==this.resultadosPesquisaSala[n].id)!=-1}),this.dialogPesquisarSala.fechar(),this.dialogOpcoesSala.abrir()}excluirSala(n){n&&this.apiService.removerSala(n).then(()=>{this.minhasSalas.splice(this.minhasSalas.findIndex(e=>e.id==n),1),this.dialogOpcoesSala.fechar()})}abrirOpcoesSala(n){this.salaSelecionada=n,this.dialogOpcoesSala.abrir()}aoFecharOpcoesSala(){this.confirmandoExclusao=!1}inverterFavoritoSalaSelecionada(){return Ge(this,null,function*(){this.salaSelecionada&&(this.salaSelecionada.favoritada?(yield this.apiService.desfavoritarSala(this.salaSelecionada.id),this.salasFavoritadas.splice(this.salasFavoritadas.findIndex(n=>this.salaSelecionada?.id==n.id),1)):(yield this.apiService.favoritarSala(this.salaSelecionada.id),this.salasFavoritadas.push(this.salaSelecionada)),this.salaSelecionada.favoritada=!this.salaSelecionada.favoritada)})}static \u0275fac=function(e){return new(e||t)(be(wr),be(xn),be(zn))};static \u0275cmp=lt({type:t,selectors:[["app-home"]],viewQuery:function(e,r){if(e&1&&($t(V2,5),$t(B2,5)),e&2){let i;jt(i=Vt())&&(r.dialogPesquisarSala=i.first),jt(i=Vt())&&(r.dialogOpcoesSala=i.first)}},decls:54,vars:27,consts:[["dialogPesquisarSala",""],["inputBuscaSala","ngModel"],["dialogOpcoesSala",""],[2,"display","flex","flex-direction","column","gap","40px"],[1,"opcoes"],["routerLink","/config-sala",1,"icon-text-btn","grande"],[1,"bi","bi-plus"],[1,"icon-text-btn","grande",3,"click"],[1,"bi","bi-search"],[1,"listas-salas"],[1,"lista-sala"],[2,"text-align","center"],[1,"bi","bi-person",2,"margin-right","10px","font-size","22pt"],[1,"nada-aqui"],[1,"bi","bi-bookmark",2,"margin-right","10px","font-size","22pt"],["id","dialogPesquisarSala",3,"aoabrir"],[1,"container-caixa-pesquisa"],[1,"form"],["autofocus","","spellcheck","false","ngModel","","type","text",3,"input","ngModelOptions","placeholder"],["class","resultados-pesquisa",4,"ngIf"],[3,"aofechar"],[2,"padding","10px"],[2,"margin-bottom","1em"],[2,"margin-bottom","1em","display","flex","justify-content","center","font-size","1.1833em","color","var(--primario)","gap","10px","align-items","center"],[1,"bi","bi-share"],[3,"valor"],[2,"display","flex","flex-direction","column","gap","20px"],[1,"icon-text-btn","grande","sem-container"],["class","icon-text-btn grande",3,"click",4,"ngFor","ngForOf"],[1,"opcoes-item-lista-sala"],[1,"icon-btn","medium",3,"click"],[1,"bi","bi-three-dots-vertical"],[1,"resultados-pesquisa"],[4,"ngFor","ngForOf"],[1,"resultados-pesquisa-item",3,"click"],[1,"resultados-pesquisa-nome"],[1,"resultados-pesquisa-codigo"],[1,"icon-text-btn","medio","sem-container",3,"routerLink"],[1,"bi","bi-gear"],[1,"icon-text-btn","medio","sem-container",2,"--cor","rgb(255, 152, 152)"],[2,"--padding","15px","padding","var(--padding)","border-radius","var(--padding)","background-color","rgba(255, 0, 0, 0.031)"],[1,"icon-text-btn","medio","sem-container",2,"--cor","rgb(255, 152, 152)",3,"click"],[1,"bi","bi-trash"],[2,"font-size","14pt","color","rgb(93, 8, 8)","margin-bottom","15px","text-align","center"],[2,"display","flex","gap","30px","justify-content","center"],[1,"btn",2,"padding","10px 20px","--background-color","transparent","--box-shadow-color","transparent","--outline-color","rgba(255, 0, 0, 0.294)","--outline-width","2px",3,"click"],[1,"btn",2,"--background-color","hsl(from var(--erro) h calc(s * 0.8) calc(l * 0.9))","color","white","font-weight","bold","padding","10px 20px",3,"click"],[1,"icon-text-btn","grande","sem-container",3,"click"],[1,"bi","bi-bookmark"]],template:function(e,r){if(e&1){let i=ot();R(0,"h1"),oe(1),Ce(2,"translate"),V(),R(3,"div",3)(4,"ul",4)(5,"li")(6,"a",5),me(7,"i",6),R(8,"span"),oe(9),Ce(10,"translate"),V()()(),R(11,"li")(12,"button",7),Ne("click",function(){Be(i);let s=cn(33);return Ue(s.abrir())}),me(13,"i",8),R(14,"span"),oe(15),Ce(16,"translate"),V()()()(),R(17,"div",9)(18,"div",10)(19,"h2",11),me(20,"i",12),oe(21),Ce(22,"translate"),V(),Re(23,H2,2,1,"div")(24,q2,3,3,"span",13),V(),R(25,"div",10)(26,"h2",11),me(27,"i",14),oe(28),Ce(29,"translate"),V(),Re(30,W2,2,1,"div")(31,G2,3,3,"span",13),V()()(),R(32,"app-modal-dialog",15,0),Ne("aoabrir",function(){return Be(i),Ue(r.aoAbrirProcurarSala())}),R(34,"div",16)(35,"form",17),me(36,"i",8),R(37,"input",18,1),Ce(39,"translate"),Ne("input",function(){Be(i);let s=cn(38);return Ue(r.aoDigitarBuscaSala(s.value))}),V()(),Re(40,Q2,3,1,"div",19),V()(),R(41,"app-modal-dialog",20,2),Ne("aofechar",function(){return Be(i),Ue(r.aoFecharOpcoesSala())}),R(43,"div",21)(44,"h2",22),oe(45),V(),R(46,"div",23),me(47,"i",24),R(48,"span"),oe(49),V(),me(50,"app-clique-copia",25),V(),R(51,"div",26),Re(52,X2,6,5)(53,J2,4,3,"button",27),V()()()}if(e&2){let i,o;A(),He(Ie(2,14,"painel.titulo")),A(8),qe(" ",Ie(10,16,"painel.criar-sala")," "),A(6),qe(" ",Ie(16,18,"painel.procurar-sala.abrir")," "),A(6),He(Ie(22,20,"painel.minhas-salas")),A(2),It(r.minhasSalas.length>0?23:24),A(5),He(Ie(29,22,"painel.salas-favoritadas")),A(2),It(r.salasFavoritadas.length>0?30:31),A(7),Z("ngModelOptions",Fs(26,U2))("placeholder",Ie(39,24,"painel.procurar-sala.placeholder")),A(3),Z("ngIf",r.resultadosPesquisaSala.length>0),A(5),He(r.salaSelecionada==null?null:r.salaSelecionada.nome),A(4),He((i=r.salaSelecionada==null?null:r.salaSelecionada.id)!==null&&i!==void 0?i:"erro "),A(),Z("valor",(o=r.salaSelecionada==null?null:r.salaSelecionada.id)!==null&&o!==void 0?o:""),A(2),It(r.salaSelecionada!=null&&r.salaSelecionada.proprietario?52:53)}},dependencies:[pt,nn,Kt,mr,Zr,Ji,vn,yn,Gr,wi,jm,ti,bt,Mt,va],styles:["ul.opcoes[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;grid-template-columns:1fr 1fr;gap:10px}@media (max-width: 500px){ul.opcoes[_ngcontent-%COMP%]{grid-template-columns:unset;grid-template-rows:1fr 1fr}}.listas-salas[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}@media (max-width: 600px){.listas-salas[_ngcontent-%COMP%]{grid-template-columns:unset;display:flex;flex-direction:column;gap:60px}}.lista-sala[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{list-style:none;padding-left:0;gap:10px;display:flex;flex-direction:column}.lista-sala[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:20px;display:flex;justify-content:space-between}.lista-sala[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .opcoes-item-lista-sala[_ngcontent-%COMP%]{display:flex;align-items:center;transition:opacity .2s;gap:10px}.nada-aqui[_ngcontent-%COMP%]{display:block;margin-top:30px;padding-left:10px;font-size:14pt;color:gray}.container-caixa-pesquisa[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;position:relative}app-modal-dialog#dialogPesquisarSala[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:sticky;top:0;background-color:var(--background)}app-modal-dialog#dialogPesquisarSala[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > i.bi.bi-search[_ngcontent-%COMP%]{--icon-size: 28px;font-size:var(--icon-size);width:calc(var(--icon-size) * 1.2);height:calc(var(--icon-size) * 1.2);color:var(--primario)}app-modal-dialog#dialogPesquisarSala[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background-color:transparent}.resultados-pesquisa[_ngcontent-%COMP%]{padding-left:20px}.resultados-pesquisa[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{list-style:none;padding:5px 20px 5px 5px}.resultados-pesquisa[_ngcontent-%COMP%]   .resultados-pesquisa-item[_ngcontent-%COMP%]{background-color:transparent;outline:none;border:none;text-align:left;width:100%;cursor:pointer;padding:20px;border-radius:20px;transition:all .2s}.resultados-pesquisa[_ngcontent-%COMP%]   .resultados-pesquisa-item[_ngcontent-%COMP%]   .resultados-pesquisa-nome[_ngcontent-%COMP%]{display:block;font-size:1.5em;color:hsl(from var(--texto) h s l/.8)}.resultados-pesquisa[_ngcontent-%COMP%]   .resultados-pesquisa-item[_ngcontent-%COMP%]   .resultados-pesquisa-codigo[_ngcontent-%COMP%]{font-size:1.2em;color:hsl(from var(--texto) h s l/.5)}.resultados-pesquisa[_ngcontent-%COMP%]   .resultados-pesquisa-item[_ngcontent-%COMP%]:hover, .resultados-pesquisa[_ngcontent-%COMP%]   .resultados-pesquisa-item[_ngcontent-%COMP%]:focus{--cor: hsl(from var(--primario) h s l / .05);background-color:var(--cor);box-shadow:0 0 10px var(--cor)}"]})};var nc=t=>["gap",t],Dy=(t,n)=>["retraivel",t,n],xy=t=>[t,"titulo-cabecalho"],My=t=>[t],RD=t=>({indice:t}),eL=()=>({}),tL=t=>({val:t}),nL=t=>({erro:t});function rL(t,n){if(t&1&&(R(0,"span"),oe(1),Ce(2,"translate"),V()),t&2){let e=ne(6);Ui(e.controle.estilo.titulo),A(),He(Ie(2,3,e.controle.nome+"._nome"))}}function iL(t,n){if(t&1&&me(0,"app-controle",7),t&2){let e=ne(),r=e.$implicit,i=e.$index,o=ne(6);Ur("id","",o.id,"-",i,""),Z("nome",r[0])("controle",r[1])("aoClicarInfoParente",o.aoClicarInfoParente)("desabilitado",o.desabilitado)}}function oL(t,n){if(t&1&&Re(0,iL,1,7,"app-controle",7),t&2){let e=n.$implicit,r=ne(6);It(e[1].visivel&&r.paraFormGroup(r.controle.controle).get(e[0])?0:-1)}}function sL(t,n){if(t&1&&(Re(0,rL,3,5,"span",6),Bn(1,oL,1,1,null,null,Vn)),t&2){let e=ne(5);Z("ngIf",e.controle.estilo.titulo),A(),Un(e.getEntries(e.controle.campos))}}function aL(t,n){t&1&&me(0,"i",14)}function lL(t,n){if(t&1&&(R(0,"span",5),oe(1),Ce(2,"translate"),Re(3,aL,1,0,"i",13),V()),t&2){let e=ne(6);Z("ngClass",ct(5,xy,e.controle.estilo.titulo)),A(),qe(" ",Ie(2,3,e.controle.nome+"._nome"),"\xA0 "),A(2),Z("ngIf",e.controle.controle.invalid)}}function cL(t,n){if(t&1&&me(0,"app-controle",7),t&2){let e=ne(),r=e.$implicit,i=e.$index;ne();let o=cn(1),s=ne(5);Ur("id","",s.id,"-",i,""),Z("nome",r[0])("controle",r[1])("aoClicarInfoParente",s.aoClicarInfoParente)("desabilitado",s.desabilitado||o.classList.contains("retraido"))}}function uL(t,n){if(t&1&&Re(0,cL,1,7,"app-controle",7),t&2){let e=n.$implicit,r=ne(6);It(e[1].visivel&&r.paraFormGroup(r.controle.controle).get(e[0])?0:-1)}}function dL(t,n){if(t&1){let e=ot();R(0,"div",5,0)(2,"button",8),Ne("click",function(){Be(e);let i=cn(1);return Ue(i.classList.toggle("retraido"))}),Re(3,lL,4,7,"span",9),me(4,"i",10),V(),R(5,"div",11)(6,"div",12),Bn(7,uL,1,1,null,null,Vn),V()()()}if(t&2){let e=ne(5);Z("ngClass",Ls(3,Dy,e.controle.estilo.retraido?"retraido":"",e.controle.controle.invalid?"invalido":"")),A(2),Z("tabIndex",e.desabilitado?-1:0),A(),Z("ngIf",e.controle.estilo.titulo),A(4),Un(e.getEntries(e.controle.campos))}}function fL(t,n){if(t&1&&(R(0,"div",1)(1,"div",4),Re(2,sL,3,1)(3,dL,9,6,"div",5),V()()),t&2){let e,r=ne(4);Z("formGroup",r.paraFormGroup(r.controle.controle.parent)),A(),Ro((e=r.controle.estilo.estilo)!==null&&e!==void 0?e:""),Z("formGroupName",r.nome)("ngClass",ct(6,nc,r.controle.estilo.container?"container":"")),A(),It(r.controle.estilo.retraido==null?2:3)}}function hL(t,n){if(t&1&&me(0,"app-controle",7),t&2){let e=ne(),r=e.$implicit,i=e.$index,o=ne(5);Ur("id","",o.id,"-",i,""),Z("nome",r[0])("controle",r[1])("aoClicarInfoParente",o.aoClicarInfoParente)("desabilitado",o.desabilitado)}}function pL(t,n){if(t&1&&Re(0,hL,1,7,"app-controle",7),t&2){let e=n.$implicit,r=ne(5);It(e[1].visivel&&r.paraFormGroup(r.controle.controle).get(e[0])?0:-1)}}function gL(t,n){if(t&1&&(R(0,"div",2),Bn(1,pL,1,1,null,null,Vn),V()),t&2){let e,r=ne(4);Ro((e=r.controle.estilo.estilo)!==null&&e!==void 0?e:""),Z("formGroup",r.paraFormGroup(r.controle.controle))("ngClass",ct(4,nc,r.controle.estilo.container?"container":"")),A(),Un(r.getEntries(r.controle.campos))}}function mL(t,n){if(t&1&&Re(0,fL,4,8,"div",1)(1,gL,3,6,"div",3),t&2){let e=ne(3);It(e.nome?0:1)}}function vL(t,n){if(t&1&&(R(0,"span"),oe(1),Ce(2,"translate"),V()),t&2){let e=ne(5);Ui(e.controle.estilo.titulo),A(),He(Ie(2,3,e.controle.nome+"._nome"))}}function yL(t,n){if(t&1){let e=ot();R(0,"div",20),Ne("click",function(){Be(e);let i=ne().$index,o=ne(5);return Ue(o.indiceRemover=i)}),me(1,"app-controle",21),V()}if(t&2){let e=ne(),r=e.$implicit,i=e.$index,o=ne(5);A(),Ur("id","",o.id,"-",i,""),Z("nome",o.nome)("indice",i)("controle",r)("aoClicarInfoParente",o.aoClicarInfoParente)("desabilitado",o.desabilitado)}}function _L(t,n){if(t&1&&Re(0,yL,2,8,"div",19),t&2){let e=n.$implicit,r=n.$index,i=ne(5);Z("ngIf",e.visivel&&i.controle.controle.get(ct(1,My,r)))}}function bL(t,n){if(t&1){let e=ot();R(0,"button",22),Ne("click",function(){Be(e);let i=ne(5);return Ue(i.controle.adicionar())}),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()}if(t&2){let e=ne(5);Z("tabIndex",e.desabilitado?-1:0),A(3),He(Ie(4,2,e.controle.nome+"._adicionar"))}}function wL(t,n){if(t&1){let e=ot();R(0,"button",24),Ne("click",function(){Be(e);let i=ne(5);return Ue(i.aoClicarRemover())}),me(1,"i",25),R(2,"span"),oe(3),Ce(4,"translate"),V()()}if(t&2){let e=ne(5);Z("disabled",e.indiceRemover===void 0),A(3),qe(" ",pr(4,2,e.controle.nome+"._remover",ct(5,RD,e.indiceRemover!=null?"#"+(e.indiceRemover+1):""))," ")}}function CL(t,n){if(t&1&&(Re(0,vL,3,5,"span",6),Bn(1,_L,1,3,"div",null,Vn),R(3,"div",16),Re(4,bL,5,4,"button",17)(5,wL,5,7,"button",18),V()),t&2){let e=ne(4);Z("ngIf",e.controle.estilo.titulo),A(),Un(e.controle.itens),A(3),Z("ngIf",e.controle.opcoes.adicionar),A(),Z("ngIf",e.controle.opcoes.remover)}}function EL(t,n){t&1&&me(0,"i",14)}function SL(t,n){if(t&1&&(R(0,"span",5),oe(1),Ce(2,"translate"),Re(3,EL,1,0,"i",13),V()),t&2){let e=ne(5);Z("ngClass",ct(5,xy,e.controle.estilo.titulo)),A(),qe(" ",Ie(2,3,e.controle.nome+"._nome"),"\xA0 "),A(2),Z("ngIf",e.controle.controle.invalid)}}function IL(t,n){if(t&1){let e=ot();R(0,"div",20),Ne("click",function(){Be(e);let i=ne().$index,o=ne(5);return Ue(o.indiceRemover=i)}),me(1,"app-controle",21),V()}if(t&2){let e=ne(),r=e.$implicit,i=e.$index;ne();let o=cn(1),s=ne(4);A(),Ur("id","",s.id,"-",i,""),Z("nome",s.nome)("indice",i)("controle",r)("aoClicarInfoParente",s.aoClicarInfoParente)("desabilitado",s.desabilitado||o.classList.contains("retraido"))}}function DL(t,n){if(t&1&&Re(0,IL,2,8,"div",19),t&2){let e=n.$implicit,r=n.$index,i=ne(5);Z("ngIf",e.visivel&&i.controle.controle.get(ct(1,My,r)))}}function xL(t,n){if(t&1){let e=ot();R(0,"button",22),Ne("click",function(){Be(e);let i=ne(5);return Ue(i.controle.adicionar())}),me(1,"i",23),R(2,"span"),oe(3),Ce(4,"translate"),V()()}if(t&2){ne();let e=cn(1),r=ne(4);Z("tabIndex",r.desabilitado||e.classList.contains("retraido")?-1:0),A(3),He(Ie(4,2,r.controle.nome+"._adicionar"))}}function ML(t,n){if(t&1){let e=ot();R(0,"button",24),Ne("click",function(){Be(e);let i=ne(5);return Ue(i.aoClicarRemover())}),me(1,"i",25),R(2,"span"),oe(3),Ce(4,"translate"),V()()}if(t&2){let e=ne(5);Z("disabled",e.indiceRemover===void 0),A(3),qe(" ",pr(4,2,e.controle.nome+"._remover",ct(5,RD,e.indiceRemover!=null?"#"+(e.indiceRemover+1):""))," ")}}function TL(t,n){if(t&1){let e=ot();R(0,"div",5,0)(2,"button",8),Ne("click",function(){Be(e);let i=cn(1);return Ue(i.classList.toggle("retraido"))}),Re(3,SL,4,7,"span",9),me(4,"i",10),V(),R(5,"div",11)(6,"div",12),Bn(7,DL,1,3,"div",null,Vn),R(9,"div",16),Re(10,xL,5,4,"button",17)(11,ML,5,7,"button",18),V()()()()}if(t&2){let e=ne(4);Z("ngClass",Ls(5,Dy,e.controle.estilo.retraido?"retraido":"",e.controle.controle.invalid?"invalido":"")),A(2),Z("tabIndex",e.desabilitado?-1:0),A(),Z("ngIf",e.controle.estilo.titulo),A(4),Un(e.controle.itens),A(3),Z("ngIf",e.controle.opcoes.adicionar),A(),Z("ngIf",e.controle.opcoes.remover)}}function AL(t,n){if(t&1&&(R(0,"div",1)(1,"div",15),Re(2,CL,6,3)(3,TL,12,8,"div",5),V()()),t&2){let e=ne(3);Z("formGroup",e.paraFormGroup(e.controle.controle.parent)),A(),Ro(e.controle.estilo.estilo),Z("formArrayName",e.nome)("ngClass",ct(6,nc,e.controle.estilo.container?"container":"")),A(),It(e.controle.estilo.retraido==null?2:3)}}function OL(t,n){if(t&1&&(R(0,"option",36),oe(1),Ce(2,"translate"),Ce(3,"translate"),Ce(4,"translate"),V()),t&2){let e,r=n.$implicit,i=ne(6);en("value",r),A(),qe(" ",Ie(2,2,((e=i.controle.caminhoTraducoesOpcoes)!==null&&e!==void 0?e:i.controle.nome+"._opcoes")+"."+r)!=((e=i.controle.caminhoTraducoesOpcoes)!==null&&e!==void 0?e:i.controle.nome+"._opcoes")+"."+r?Ie(3,4,((e=i.controle.caminhoTraducoesOpcoes)!==null&&e!==void 0?e:i.controle.nome+"._opcoes")+"."+r):pr(4,6,((e=i.controle.caminhoTraducoesOpcoes)!==null&&e!==void 0?e:i.controle.nome+"._opcoes")+".*",ct(9,tL,r))," ")}}function RL(t,n){if(t&1&&(R(0,"select",34),Re(1,OL,5,11,"option",35),V()),t&2){let e,r,i=ne(5);Ro((e=i.controle.estilo==null||i.controle.estilo.entrada==null?null:i.controle.estilo.entrada.estilo)!==null&&e!==void 0?e:""),Ui((r=i.controle.estilo==null||i.controle.estilo.entrada==null?null:i.controle.estilo.entrada.classe)!==null&&r!==void 0?r:""),en("id",i.id),en("formControlName",i.nome),Z("tabIndex",i.desabilitado?-1:0),A(),Z("ngForOf",i.controle.opcoes)}}function NL(t,n){if(t&1&&Re(0,RL,2,8,"select",33),t&2){let e=ne(4);Z("ngIf",e.controle.prontoParaExibir)}}function PL(t,n){if(t&1&&(me(0,"input",37),Ce(1,"translate")),t&2){let e,r,i,o=ne(4);Ro((e=o.controle.estilo==null||o.controle.estilo.entrada==null?null:o.controle.estilo.entrada.estilo)!==null&&e!==void 0?e:""),Ui((r=o.controle.estilo==null||o.controle.estilo.entrada==null?null:o.controle.estilo.entrada.classe)!==null&&r!==void 0?r:""),en("id",o.id),en("formControlName",o.nome),Z("placeholder",Ie(1,9,o.controle.nome+"._placeholder"))("tabIndex",o.desabilitado?-1:0)("spellcheck",(i=o.controle.checagemOrtografica)!==null&&i!==void 0?i:!1)}}function kL(t,n){if(t&1){let e=ot();R(0,"button",38),Ne("click",function(){Be(e);let i=ne(4);return Ue(i.aoClicarInfo())}),me(1,"i",39),V()}if(t&2){let e=ne(4);Z("tabIndex",e.desabilitado?-1:0)}}function FL(t,n){if(t&1&&(R(0,"li"),me(1,"i",14),oe(2),Ce(3,"translate"),V()),t&2){let e=n.$implicit,r=ne(4);A(2),qe(" ",pr(3,1,r.controle.nome+"._erros."+e[0],ct(4,nL,e[1]))," ")}}function LL(t,n){if(t&1&&(R(0,"div",2),me(1,"label",26),Ce(2,"translate"),R(3,"div",27),Re(4,NL,1,1,"select",28)(5,PL,2,11,"input",29)(6,kL,2,1,"button",30),V(),R(7,"ul",31),Re(8,FL,4,6,"li",32),V()()),t&2){let e,r=ne(3);Z("formGroup",r.paraFormGroup(r.controle.controle.parent))("ngClass",r.controle.controle.invalid?"invalido":""),A(),Ro(r.ehTexto(r.controle)||r.ehSeletor(r.controle)?r.controle.estilo==null||r.controle.estilo.rotulo==null?null:r.controle.estilo.rotulo.estilo:""),Ui(r.ehTexto(r.controle)||r.ehSeletor(r.controle)?r.controle.estilo==null||r.controle.estilo.rotulo==null?null:r.controle.estilo.rotulo.classe:""),en("for",r.id),Z("innerHTML",Ie(2,11,r.controle.nome+"._nome"),Ja),A(3),It(r.ehSeletor(r.controle)?4:r.ehTexto(r.controle)?5:-1),A(2),Z("ngIf",r.controle.info),A(2),Z("ngForOf",r.getEntries((e=r.controle.controle.errors)!==null&&e!==void 0?e:Fs(13,eL)))}}function jL(t,n){if(t&1&&Re(0,mL,2,1)(1,AL,4,8,"div",1)(2,LL,9,14,"div",2),t&2){let e=ne(2);It(e.ehGrupo(e.controle)?0:e.ehArranjo(e.controle)?1:2)}}function VL(t,n){if(t&1&&(R(0,"span"),oe(1),Ce(2,"translate"),V()),t&2){let e=ne(5);Ui(e.controle.estilo.titulo),A(),He(Ie(2,3,e.controle.nome+"._nome"))}}function BL(t,n){if(t&1&&me(0,"app-controle",7),t&2){let e=ne(),r=e.$implicit,i=e.$index,o=ne(5);Ur("id","",o.id,"-",i,""),Z("nome",r[0])("controle",r[1])("aoClicarInfoParente",o.aoClicarInfoParente)("desabilitado",o.desabilitado)}}function UL(t,n){if(t&1&&Re(0,BL,1,7,"app-controle",7),t&2){let e=n.$implicit,r=ne(5);It(e[1].visivel&&r.paraFormGroup(r.controle.controle).get(e[0])?0:-1)}}function $L(t,n){if(t&1&&(Re(0,VL,3,5,"span",6),Bn(1,UL,1,1,null,null,Vn)),t&2){let e=ne(4);Z("ngIf",e.controle.estilo.titulo),A(),Un(e.getEntries(e.controle.campos))}}function HL(t,n){t&1&&me(0,"i",14)}function qL(t,n){if(t&1&&(R(0,"span",5),oe(1),Ce(2,"translate"),Re(3,HL,1,0,"i",13),V()),t&2){let e=ne(5);Z("ngClass",ct(5,xy,e.controle.estilo.titulo)),A(),qe(" ",Ie(2,3,e.controle.nome+"._nome"),"\xA0 "),A(2),Z("ngIf",e.controle.controle.invalid)}}function zL(t,n){if(t&1&&me(0,"app-controle",7),t&2){let e=ne(),r=e.$implicit,i=e.$index;ne();let o=cn(1),s=ne(4);Ur("id","",s.id,"-",i,""),Z("nome",r[0])("controle",r[1])("aoClicarInfoParente",s.aoClicarInfoParente)("desabilitado",s.desabilitado||o.classList.contains("retraido"))}}function WL(t,n){if(t&1&&Re(0,zL,1,7,"app-controle",7),t&2){let e=n.$implicit,r=ne(5);It(e[1].visivel&&r.paraFormGroup(r.controle.controle).get(e[0])?0:-1)}}function GL(t,n){if(t&1){let e=ot();R(0,"div",5,0)(2,"button",8),Ne("click",function(){Be(e);let i=cn(1);return Ue(i.classList.toggle("retraido"))}),Re(3,qL,4,7,"span",9),me(4,"i",10),V(),R(5,"div",11)(6,"div",12),Bn(7,WL,1,1,null,null,Vn),V()()()}if(t&2){let e=ne(4);Z("ngClass",Ls(3,Dy,e.controle.estilo.retraido?"retraido":"",e.controle.controle.invalid?"invalido":"")),A(2),Z("tabIndex",e.desabilitado?-1:0),A(),Z("ngIf",e.controle.estilo.titulo),A(4),Un(e.getEntries(e.controle.campos))}}function YL(t,n){if(t&1&&(R(0,"div",4),Re(1,$L,3,1)(2,GL,9,6,"div",5),V()),t&2){let e=ne(3);Z("formGroupName",e.indice)("ngClass",ct(3,nc,e.controle.estilo.container?"container":"")),A(),It(e.controle.estilo.retraido==null?1:2)}}function QL(t,n){if(t&1&&(R(0,"span"),oe(1),Ce(2,"translate"),V()),t&2){let e=ne(4);Ui(e.controle.estilo.titulo),A(),He(Ie(2,3,e.controle.nome+"._nome"))}}function ZL(t,n){if(t&1&&me(0,"app-controle",41),t&2){let e=ne(),r=e.$implicit,i=e.$index,o=ne(4);Ur("id","",o.id,"-",i,""),Z("nome",o.indice)("indice",i)("controle",r)("aoClicarInfoParente",o.aoClicarInfoParente)}}function KL(t,n){if(t&1&&Re(0,ZL,1,7,"app-controle",42),t&2){let e=n.$implicit;Z("ngIf",e.visivel)}}function XL(t,n){if(t&1&&(R(0,"div",5),Re(1,QL,3,5,"span",6),Bn(2,KL,1,1,"app-controle",41,Vn),V()),t&2){let e=ne(3);Z("ngClass",ct(2,nc,e.controle.estilo.container?"container":"")),A(),Z("ngIf",e.controle.estilo.titulo),A(),Un(e.controle.itens)}}function JL(t,n){if(t&1&&(R(0,"option",36),oe(1),Ce(2,"translate"),V()),t&2){let e=n.$implicit,r=ne(5);en("value",e),A(),He(Ie(2,2,r.controle.nome+"._opcoes."+e))}}function ej(t,n){if(t&1&&(R(0,"label",43),oe(1),Ce(2,"translate"),V(),R(3,"select",44),Re(4,JL,3,4,"option",35),V()),t&2){let e=ne(4);en("for",e.id),A(),He(Ie(2,5,e.controle.nome+"._nome")),A(2),en("id",e.id),en("formControlName",e.indice),A(),Z("ngForOf",e.controle.opcoes)}}function tj(t,n){if(t&1&&(R(0,"label",43),oe(1),Ce(2,"translate"),V(),me(3,"input",45)),t&2){let e=ne(4);en("for",e.id),A(),He(Ie(2,4,e.controle.nome)),A(2),en("id",e.id),en("formControlName",e.indice)}}function nj(t,n){if(t&1&&(R(0,"div",5),Re(1,ej,5,7)(2,tj,4,6),V()),t&2){let e=ne(3);Z("ngClass",e.controle.controle.invalid&&e.controle.controle.touched?"invalido":""),A(),It(e.ehSeletor(e.controle)?1:e.ehTexto(e.controle)?2:-1)}}function rj(t,n){if(t&1&&(R(0,"div",1)(1,"div",40),Re(2,YL,3,5,"div",4)(3,XL,4,4,"div",5)(4,nj,3,2,"div",5),V()()),t&2){let e=ne(2);Z("formGroup",e.paraFormGroup(e.controle.controle.parent==null?null:e.controle.controle.parent.parent)),A(),Z("formArrayName",e.nome),A(),It(e.ehGrupo(e.controle)?2:e.ehArranjo(e.controle)?3:e.controle.controle.parent.get(ct(3,My,e.indice))?4:-1)}}function ij(t,n){if(t&1&&Re(0,jL,3,1)(1,rj,5,5,"div",1),t&2){let e=ne();It(e.indice==null?0:1)}}var If=class t{nome;indice;controle;desabilitado=!1;id="";aoClicarInfoParente;indiceRemover;aoClicarRemover(){this.indiceRemover!==void 0&&(this.controle.remover(this.indiceRemover),this.indiceRemover=void 0)}aoClicarInfo(){this.aoClicarInfoParente({caminho:this.controle.nome+"._info",args:typeof this.controle.info=="object"?this.controle.info:{}})}getEntries(n){return Object.entries(n)}paraFormGroup(n){return n}ehTexto(n){return n instanceof On}ehSeletor(n){return n instanceof ya}ehGrupo(n){return n instanceof Er}ehArranjo(n){return n instanceof lo}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=lt({type:t,selectors:[["app-controle"]],inputs:{nome:"nome",indice:"indice",controle:"controle",desabilitado:"desabilitado",id:"id",aoClicarInfoParente:"aoClicarInfoParente"},decls:1,vars:1,consts:[["retratil",""],[3,"formGroup"],[3,"formGroup","ngClass"],[3,"formGroup","ngClass","style"],[3,"formGroupName","ngClass"],[3,"ngClass"],[3,"class",4,"ngIf"],[3,"id","nome","controle","aoClicarInfoParente","desabilitado"],["type","button",1,"cabecalho",3,"click","tabIndex"],[3,"ngClass",4,"ngIf"],[1,"bi","bi-chevron-right"],[1,"corpo"],[1,"gap"],["class","bi bi-exclamation-circle",4,"ngIf"],[1,"bi","bi-exclamation-circle"],[3,"formArrayName","ngClass"],[1,"opcoes-arranjo"],["type","button","class","icon-text-btn medio",3,"tabIndex","click",4,"ngIf"],["type","button","class","icon-text-btn medio",3,"disabled","click",4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],[3,"id","nome","indice","controle","aoClicarInfoParente","desabilitado"],["type","button",1,"icon-text-btn","medio",3,"click","tabIndex"],[1,"bi","bi-plus"],["type","button",1,"icon-text-btn","medio",3,"click","disabled"],[1,"bi","bi-trash"],[2,"display","block",3,"for","innerHTML"],[1,"controle"],[3,"id","formControlName","style","class","tabIndex"],["type","text",3,"id","formControlName","class","style","placeholder","tabIndex","spellcheck"],["type","button","class","icon-btn secundario small",3,"tabIndex","click",4,"ngIf"],[1,"erro"],[4,"ngFor","ngForOf"],[3,"id","formControlName","style","class","tabIndex",4,"ngIf"],[3,"id","formControlName","tabIndex"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text",3,"id","formControlName","placeholder","tabIndex","spellcheck"],["type","button",1,"icon-btn","secundario","small",3,"click","tabIndex"],[1,"bi","bi-info-circle"],[3,"formArrayName"],[3,"id","nome","indice","controle","aoClicarInfoParente"],[3,"id","nome","indice","controle","aoClicarInfoParente",4,"ngIf"],[2,"display","block",3,"for"],[1,"controle",3,"id","formControlName"],["type","text",1,"controle",3,"id","formControlName"]],template:function(e,r){e&1&&Re(0,ij,2,1),e&2&&It(r.controle.visivel?0:-1)},dependencies:[t,pt,In,nn,Kt,Kr,eo,to,vn,Qr,yn,Gr,Yr,Ci,Wd,Gd,bt,Mt],styles:[".label[_ngcontent-%COMP%]{word-wrap:break-word}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%}.gap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.container[_ngcontent-%COMP%]{margin:5px}.retraivel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;transition:all .2s}.retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]{--hover-color: var(--secundario);font-size:1em;outline:none;border:none;background-color:var(--background);display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding:0;transition:all .2s}.retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]:hover, .retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]:focus{background-color:hsl(from var(--hover-color) h s l/.1);box-shadow:inset 0 0 10px 2px var(--background)}.retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%] > .titulo-cabecalho[_ngcontent-%COMP%]{margin:0}.retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%] > .bi-chevron-right[_ngcontent-%COMP%]{transform:rotate(90deg);transition:all .2s}.retraivel[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]   .bi.bi-exclamation-circle[_ngcontent-%COMP%]{opacity:0%;transition:opacity .2s}.retraivel[_ngcontent-%COMP%] > .corpo[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;transition:grid-template-rows .2s;padding-left:30px}@media (max-width: 700px){.retraivel[_ngcontent-%COMP%] > .corpo[_ngcontent-%COMP%]{padding-left:10px}}.retraivel[_ngcontent-%COMP%] > .corpo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden}.retraivel.retraido[_ngcontent-%COMP%]{gap:0px}.retraivel.retraido[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]   .bi-chevron-right[_ngcontent-%COMP%]{transform:unset}.retraivel.retraido[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]   .bi.bi-exclamation-circle[_ngcontent-%COMP%]{opacity:100%}.retraivel.retraido[_ngcontent-%COMP%] > .corpo[_ngcontent-%COMP%]{grid-template-rows:0fr}.retraivel.retraido.invalido[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%]{--hover-color: var(--erro);color:var(--erro)}.retraivel.retraido.invalido[_ngcontent-%COMP%] > .cabecalho[_ngcontent-%COMP%] > .titulo-cabecalho[_ngcontent-%COMP%]{color:var(--erro)}.opcoes-arranjo[_ngcontent-%COMP%]{padding:5px;display:flex;gap:5px}@media (max-width: 360px){.opcoes-arranjo[_ngcontent-%COMP%]{flex-direction:column}}"]})};var oj=["dialogInfo"],Df=class t{constructor(n){this.viewContainerRef=n}controle;dialogInfo;info;id=ts();fixEmulatedEncapsulation(){if(!this.viewContainerRef.element?.nativeElement)return;let n=this.viewContainerRef.element.nativeElement,e=n.getAttributeNames().find(i=>i.startsWith("_nghost-"));if(!e)return;let r=e.replace("_nghost-","_ngcontent-");n.querySelectorAll(`:not([${r}])`).forEach(i=>i.setAttribute(r,""))}aoClicarInfo=n=>{this.info=n,this.dialogInfo.abrir(),setTimeout(()=>{this.fixEmulatedEncapsulation()},10)};static \u0275fac=function(e){return new(e||t)(be(Br))};static \u0275cmp=lt({type:t,selectors:[["app-auto-form"]],viewQuery:function(e,r){if(e&1&&$t(oj,5),e&2){let i;jt(i=Vt())&&(r.dialogInfo=i.first)}},inputs:{controle:"controle"},decls:11,vars:9,consts:[["dialogInfo",""],[1,"form",3,"aoClicarInfoParente","id","controle"],[1,"info"],[1,"bi","bi-info-circle"],[3,"innerHTML"]],template:function(e,r){e&1&&(me(0,"app-controle",1),R(1,"app-modal-dialog",null,0)(3,"div",2)(4,"h2"),me(5,"i",3),oe(6,"\xA0 "),me(7,"span",4),Ce(8,"translate"),V(),me(9,"div",4),Ce(10,"translate"),V()()),e&2&&(Z("aoClicarInfoParente",r.aoClicarInfo)("id",r.id)("controle",r.controle),A(7),Z("innerHTML",Ie(8,5,(r.info==null?null:r.info.caminho)+"._titulo"),Ja),A(2),Z("innerHTML",Ie(10,7,(r.info==null?null:r.info.caminho)+"._corpo"),Ja))},dependencies:[Kr,pt,If,bt,Mt,ti],styles:[".popover-padrao[_ngcontent-%COMP%]:popover-open, .popover-padrao[_ngcontent-%COMP%]:open{translate:-50% 0;opacity:100%}.popover-padrao[_ngcontent-%COMP%]{top:80px;left:calc(50% + -0px);overflow:visible;word-wrap:break-word;margin:0;padding:20px;max-width:calc(100vw - 10px);width:500px;border-radius:20px;border:none;background-color:var(--background);overflow:hidden;max-height:calc(100vh - 160px);translate:-50% -20px;opacity:0%;transition:opacity .2s,translate .2s,display .2s allow-discrete,overlay .2s allow-discrete}.popover-padrao[_ngcontent-%COMP%]::backdrop{background-color:#0000000d}@starting-style{.popover-padrao[_ngcontent-%COMP%]:popover-open, .popover-padrao[_ngcontent-%COMP%]:open{translate:-50% -20px;opacity:0%}}@media (max-height: 600px){.popover-padrao[_ngcontent-%COMP%]{top:10px;max-height:calc(100vh - 20px)}}.info[_ngcontent-%COMP%]{padding:.555em}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:27px}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:hsl(from var(--primario) h calc(l + 20) 50)}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.3em;margin-bottom:16px}"]})},_a=class{nomeEstatico=!1;_controle;dinamico=!1;prontoParaExibir=!0;info=!1;nome="";visivel=!0;constructor(n){this.info=n?.info??this.info,this.nome=n?.nome??this.nome,this.visivel=n?.visivel??this.visivel,this.nome.length>0&&(this.nomeEstatico=!0)}get controle(){return this._controle}aoCriar(){}aoDestruir(){}definirNome(n){this.nome=this.nomeEstatico?this.nome:n}definirValor(n){this._controle.setValue(n,{emitEvent:!1})}},On=class extends _a{constructor(e,r){super(e);this.estilo=r;this.checagemOrtografica=e?.checagemOrtografica,this._controle=new mn(e?.valorInicial??"",{validators:e?.validators,asyncValidators:e?.asyncValidators})}checagemOrtografica},ya=class extends _a{constructor(e,r){super(e);this.estilo=r;this.caminhoTraducoesOpcoes=e?.caminhoTraducoesOpcoes,this.prontoParaExibir=!1,setTimeout(()=>this.prontoParaExibir=!0,10)}caminhoTraducoesOpcoes},co=class extends ya{constructor(e,r,i){super(r,i);this._opcoesSeletor=e;this._controle=new mn(e[0],r?.validators)}get opcoes(){return this._opcoesSeletor}},xf=class extends ya{constructor(e,r,i,o){super(i,o);this.todasOpcoes=e;this.todasLivres=r;this.filtro=i?.filtro,this._controle=new mn("_nenhum",(i?.validators??[]).concat(s=>s.value=="_nenhum"?{"seletor-compartilhado-nenhum":!0}:null)),this.subs=this._controle.valueChanges.subscribe(this.aoSelecionar)}valor=-1;filtro;subs;get livresFiltrado(){return this.filtro?this.todasLivres.filter(this.filtro):this.todasLivres}get opcoes(){return this.livresFiltrado.concat(this.valor!=-1?this.valor:[]).sort((e,r)=>e-r).map(e=>this.todasOpcoes[e]).concat("_nenhum")}aoSelecionar=e=>{typeof this.todasOpcoes.at(0)=="number"&&typeof e=="string"&&(e=Number.parseInt(e));let r=this.todasOpcoes.indexOf(e);this.todasLivres.push(...this.valor!=-1?[this.valor]:[]),this.valor=r,r!=-1&&this.todasLivres.splice(this.todasLivres.indexOf(r),1),this.todasLivres.sort((i,o)=>i-o)};aoCriar(){this.livresFiltrado.at(0)!==void 0&&this.definirValor(this.todasOpcoes[this.livresFiltrado[0]])}aoDestruir(){this.subs.unsubscribe(),this.valor!=-1&&this.todasLivres.push(this.valor),this.todasLivres.sort((e,r)=>e-r)}definirValor(e){typeof this.todasOpcoes.at(0)=="number"&&typeof e=="string"&&(e=Number.parseInt(e)),this.aoSelecionar(e),super.definirValor(e)}},Er=class extends _a{constructor(e={},r={},i){super(i);this.campos=e;this.estilo=r;this._controle=new vr(Object.fromEntries(Object.entries(e).map(o=>[o[0],o[1].controle])),i?.validators),Object.entries(this.campos).forEach(o=>o[1].aoCriar())}aoDestruir(){Object.entries(this.campos).forEach(e=>e[1].aoDestruir())}definirNome(e){this.nomeEstatico||(this.nome=e),Object.entries(this.campos).forEach(r=>r[1].definirNome(`${this.nome.length>0?this.nome+".":""}${r[0]}`))}definirValor(e){Object.entries(this.campos).sort(([r,i],[o,s])=>i.dinamico?s.dinamico?0:1:s.dinamico?-1:0).forEach(([r,i])=>{e[r]&&i.definirValor(e[r])})}},rc=class extends Er{constructor(e,r,i={},o){super({},i,o);this.gerarCampos=e;this.gerarValidadores=r;this.dinamico=!0}valorAntigo={};id="";subs;validators=[];aoCriar(){this.aoAtualizar(this._controle.parent?.value),this.subs=this._controle.parent?.valueChanges.subscribe(this.aoAtualizar)}aoDestruir(){Object.entries(this.campos).forEach(e=>e[1].aoDestruir()),this.subs?.unsubscribe()}definirNome(e){this.nomeEstatico||(this.nome=e),Object.entries(this.campos).forEach(([r,i])=>i.definirNome(`${this.nome.length>0?`${this.nome}.${this.id}.`:""}${r}`))}definirValor(e){this.aoAtualizar(this.controle.parent?.value??void 0),super.definirValor(e)}aoAtualizar=e=>{let r=this.gerarCampos(e,this.valorAntigo),i=this.gerarValidadores?.(e,this.valorAntigo);if(this.valorAntigo=e,r||i){if(r){for(let[o,s]of Object.entries(this.campos))this._controle.removeControl(o,{emitEvent:!1}),s.aoDestruir();this.campos=r.campos;for(let[o,s]of Object.entries(this.campos))this._controle.addControl(o,s.controle,{emitEvent:!1}),s.aoCriar();this.id=r.id,this.definirNome(this.nome)}i&&(this._controle.removeValidators(this.validators),this.validators=i,this._controle.setValidators(i))}}},lo=class extends _a{constructor(e,r={qtd:1},i,o={}){super(i);this.fabrica=e;this.estilo=o;this.opcoes=r,this._controle=new $l([],i?.validators);for(let s=0;s<this.opcoes.qtd;s++){let a=e(s);this._controle.push(a.controle),this.itens.push(a)}}itens=[];opcoes;definirNome(e){this.nomeEstatico||(this.nome=e),this.itens.forEach((r,i)=>r.definirNome(this.nome+(this.opcoes?.numerar?`._${i}`:"")))}adicionar(){this.opcoes.qtd++;let e=this.fabrica(this.opcoes.qtd);e.definirNome(this.nome),this._controle.push(e.controle),e.aoCriar(),this.itens.push(e)}remover(e){this.opcoes.qtd--,this._controle.removeAt(e),this.itens.splice(e,1)[0].aoDestruir()}aoDestruir(){this.itens.forEach(e=>e.aoDestruir())}definirValor(e){if(!Array.isArray(e))throw new Error("Valor deve ser arranjo");this.itens.forEach((r,i)=>{r.aoDestruir(),this._controle.removeAt(i)}),e.forEach(r=>{this.adicionar(),this.itens.at(-1)?.definirValor(r)})}};var sj=["autoForm"];function aj(t,n){if(t&1){let e=ot();R(0,"div",6)(1,"div",7),me(2,"app-auto-form",8,0),V(),R(4,"button",9),Ne("click",function(){Be(e);let i=ne();return Ue(i.salvar())}),oe(5),Ce(6,"translate"),V()()}if(t&2){let e=ne();A(2),Z("controle",e.form),A(2),Z("disabled",e.form.controle.invalid||e.form.controle.pending),A(),qe(" ",Ie(6,3,"config-sala."+(e.codigoSala?"salvar":"criar"))," ")}}var ic=class t{constructor(n,e,r,i){this.apiService=n;this.router=e;i.paramMap.subscribe(s=>{this.codigoSala=s.get("codigo")??void 0,this.codigoSala&&n.pegarSala(this.codigoSala).then(a=>{this.form.definirValor(a.modelo)})});let o=r.get("config-sala").subscribe(s=>{this.gerarForm(s),setTimeout(()=>o.unsubscribe(),1)})}JSON_stringfy=JSON.stringify;autoForm;codigoSala;portas=[{codigo:4,propriedades:["in","out","pwm"]},{codigo:13,propriedades:["in","out","pwm"]},{codigo:14,propriedades:["in","out","pwm"]},{codigo:16,propriedades:["in","out","pwm"]},{codigo:17,propriedades:["in","out","pwm"]},{codigo:18,propriedades:["in","out","pwm"]},{codigo:19,propriedades:["in","out","pwm"]},{codigo:21,propriedades:["in","out","pwm"]},{codigo:22,propriedades:["in","out","pwm"]},{codigo:23,propriedades:["in","out","pwm"]},{codigo:25,propriedades:["in","out","dac","pwm"]},{codigo:26,propriedades:["in","out","dac","pwm"]},{codigo:27,propriedades:["in","out","pwm"]},{codigo:32,propriedades:["in","out","adc","pwm"]},{codigo:33,propriedades:["in","out","adc","pwm"]},{codigo:34,propriedades:["in","adc"]},{codigo:35,propriedades:["in","adc"]},{codigo:36,propriedades:["in","adc"]},{codigo:39,propriedades:["in","adc"]}];portasLivres=this.portas.map((n,e)=>e);portasOpcoes=this.portas.map(n=>n.codigo);form;criarSeletorPorta(n,e=!1){return new xf(this.portasOpcoes,this.portasLivres,{filtro:r=>this.portas[r]?.propriedades?n(this.portas[r].propriedades):!1,nome:e?void 0:"config-sala.porta",caminhoTraducoesOpcoes:"config-sala.portas"})}grupoVariaveis(n,e=!1){return new Er(Object.fromEntries(Object.entries(n).map(([r,i])=>[r,new Er(we({tipo:new On({visivel:!1,valorInicial:i.tipo}),nome:new On({nome:"config-sala.variavel.nome",info:!0,validators:[Xt.required]}),unidade:new On({nome:"config-sala.variavel.unidade",valorInicial:i.valorInicialUnidade,info:!0}),f:new On({nome:"config-sala.variavel.f",valorInicial:"x",info:!0,checagemOrtografica:!1,asyncValidators:[ND]})},e?{f_inv:new On({nome:"config-sala.variavel.f_inv",valorInicial:"x",info:!0,checagemOrtografica:!1,asyncValidators:[ND]})}:{}),{titulo:"label",retraido:!1})])),{titulo:"label",retraido:!1})}gerarForm(n){this.form=new Er({nome:new On({valorInicial:n.nome["valor-inicial"],validators:[Xt.required]},{rotulo:{classe:"h2"},entrada:{classe:"h3",estilo:"color: hsl(from var(--texto) h s l / 0.9)"}}),cameras:new lo(()=>new Er({nome:new On({validators:[Xt.required]}),id:new On({visivel:!1})}),{qtd:0,adicionar:!0,remover:!0},{},{titulo:"h2",retraido:!1}),sensores:new lo(()=>new Er({tipo:new co(TD),codigo:new On({visivel:!1,valorInicial:ts()}),configuracoes:new rc((e,r)=>{if(e?.tipo==r?.tipo)return null;let i={},o="";switch(e.tipo){case"digital":o="digital",i.porta=this.criarSeletorPorta(s=>s.includes("in")),i.variaveis=this.grupoVariaveis({digital:{tipo:"binaria"}});break;case"analogico":o="analogico",i.porta=this.criarSeletorPorta(s=>s.includes("in")&&s.includes("adc")),i.variaveis=this.grupoVariaveis({analogica:{tipo:"limitada"}});break;case"dht11":o="dht11",i.porta=this.criarSeletorPorta(s=>s.includes("in")),i.variaveis=this.grupoVariaveis({temperatura:{tipo:"livre",valorInicialUnidade:"\xB0C"},umidade:{tipo:"livre",valorInicialUnidade:"%"}});break;case"carga":o="carga",i.modulo=new co(["hx711"]),i["carga-maxima"]=new co(["500g","1kg","2kg","5kg","10kg"]),i["porta-a"]=this.criarSeletorPorta(s=>s.includes("in"),!0),i["porta-b"]=this.criarSeletorPorta(s=>s.includes("in"),!0),i.variaveis=this.grupoVariaveis({carga:{tipo:"livre",valorInicialUnidade:"kg"}});break;case"distancia":o="distancia",i.modulo=new co(["hcsr04"]),i["porta-a"]=this.criarSeletorPorta(s=>s.includes("in"),!0),i["porta-b"]=this.criarSeletorPorta(s=>s.includes("in"),!0),i.variaveis=this.grupoVariaveis({distancia:{tipo:"livre",valorInicialUnidade:"m"}});break;default:return null}return{id:o,campos:i}},void 0,{retraido:!0,titulo:"label"})},{container:!0}),{qtd:0,adicionar:!0,remover:!0},{},{titulo:"h2",retraido:!1}),atuadores:new lo(()=>new Er({tipo:new co(AD),codigo:new On({visivel:!1,valorInicial:ts()}),configuracoes:new rc((e,r)=>{if(e?.tipo==r?.tipo)return null;let i={},o="";switch(e.tipo){case"digital":o="digital",i.porta=this.criarSeletorPorta(s=>s.includes("out")),i.variaveis=i.variaveis=this.grupoVariaveis({digital:{tipo:"binaria"}},!0);break;case"analogico":o="analogico",i.porta=this.criarSeletorPorta(s=>s.includes("out")&&(s.includes("dac")||s.includes("pwm"))),i.variaveis=this.grupoVariaveis({analogica:{tipo:"limitada"}},!0);break;case"motor-dc":o="motor-dc",i["porta-a"]=this.criarSeletorPorta(s=>s.includes("out")&&(s.includes("dac")||s.includes("pwm")),!0),i["porta-b"]=this.criarSeletorPorta(s=>s.includes("out")&&(s.includes("dac")||s.includes("pwm")),!0),i.variaveis=this.grupoVariaveis({potencia:{tipo:"limitada",valorInicialUnidade:"%"}},!0);break}return{id:o,campos:i}},void 0,{retraido:!0,titulo:"label"})},{container:!0}),{qtd:0,adicionar:!0,remover:!0},{},{titulo:"h2",retraido:!1})},{estilo:"gap: 40px"}),this.form.definirNome("config-sala")}salvar(){this.codigoSala?this.apiService.salvarSala(this.codigoSala,this.form.controle.value).then(()=>this.router.navigateByUrl("/painel")):this.apiService.criarSala(this.form.controle.value).then(()=>this.router.navigateByUrl("/painel"))}static \u0275fac=function(e){return new(e||t)(be(wr),be(xn),be(tr),be(ir))};static \u0275cmp=lt({type:t,selectors:[["app-config-sala"]],viewQuery:function(e,r){if(e&1&&$t(sj,5),e&2){let i;jt(i=Vt())&&(r.autoForm=i.first)}},decls:7,vars:4,consts:[["autoForm",""],[2,"display","flex","gap","10px","align-items","center","margin-bottom","2.2em"],["routerLink","/inicio",1,"icon-btn-circle"],[1,"bi","bi-arrow-left"],[2,"margin","0"],["class","form-config-sala",4,"ngIf"],[1,"form-config-sala"],[2,"margin-bottom","4.4em"],[3,"controle"],[1,"btn","primario",2,"width","100%",3,"click","disabled"]],template:function(e,r){e&1&&(R(0,"div",1)(1,"button",2),me(2,"i",3),V(),R(3,"h1",4),oe(4),Ce(5,"translate"),V()(),Re(6,aj,7,5,"div",5)),e&2&&(A(4),He(Ie(5,2,"config-sala.titulo-"+(r.codigoSala?"configurar":"criar"))),A(2),Z("ngIf",r.form))},dependencies:[Df,pt,Kt,mr,bt,Mt],styles:[".form-config-sala[_ngcontent-%COMP%]{max-width:80%;margin:auto}@media (max-width: 500px){.form-config-sala[_ngcontent-%COMP%]{max-width:100%}}"]})};function ND(t){return Ge(this,null,function*(){let n=null;try{t.value.length>0&&(yield new Promise((e,r)=>{new ao([{nome:"f",expr:t.value}],i=>Ge(null,null,function*(){try{yield i.chamar("f",0),e()}catch(o){r(o)}i.destruir()}),i=>{r(i)})}))}catch(e){n={"expressao-invalida":e instanceof Error?e.name:!0}}return n})}var PD=[{title:"painel.titulo",path:"painel",component:Sf},{title:"config-sala.titulo-configurar",path:"config-sala/:codigo",component:ic},{title:"config-sala.titulo-criar",path:"config-sala",component:ic},{title:"signup.titulo",path:"signup",component:Ef},{title:"login.titulo",path:"login",component:Yd},{title:"sala.titulo",path:"sala/:codigo",component:wf},{path:"**",redirectTo:"painel"}];var Mf=class t extends Bo{constructor(e,r){super();this.title=e;this.translateService=r}updateTitle(e){let r=this.buildTitle(e);if(r){let i=this.translateService.get(r).subscribe(o=>{if(typeof o=="string")this.title.setTitle(o);else throw new Error("Chave de tradu\xE7\xE3o n\xE3o corresponde a uma string.")})}}static \u0275fac=function(r){return new(r||t)(Le(Ws),Le(tr))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})};function lj(t,n){return new qC(t,`${n.getBaseHrefFromDOM()}assets/i18n/`,".json")}var kD={providers:[iC({eventCoalescing:!0}),Mm(PD),Qg(Zg()),Vp(bt.forRoot({loader:{provide:Gi,useFactory:lj,deps:[zs]}})),{provide:Bo,useClass:Mf}]};var ba=class t{constructor(n){this.translateService=n;n.setDefaultLang("en-US"),n.addLangs(FD);let e=localStorage.getItem(this.chaveIdioma);e||(e="en-US",localStorage.setItem(this.chaveIdioma,e)),n.use(e)}chaveIdioma="idioma";definirIdioma(n){FD.includes(n)&&(this.translateService.use(n),localStorage.setItem(this.chaveIdioma,n))}static \u0275fac=function(e){return new(e||t)(Le(tr))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})},FD=["pt-BR","es-ES","en-US"];var cj=["menu"],uj=t=>["menu",t];function dj(t,n){if(t&1&&(R(0,"option",16),oe(1),Ce(2,"translate"),V()),t&2){let e=n.$implicit;Z("value",e),A(),qe(" ",Ie(2,2,"idiomas."+e)," ")}}function fj(t,n){if(t&1&&(R(0,"button",17),oe(1),V()),t&2){let e,r=ne();A(),qe(" ",((e=r.authService.dados==null||r.authService.dados.nome==null?null:r.authService.dados.nome[0])!==null&&e!==void 0?e:"?").toUpperCase()," ")}}function hj(t,n){if(t&1&&(R(0,"header")(1,"div",18),oe(2),V(),R(3,"div",19)(4,"span",20),oe(5),V(),R(6,"span",21),oe(7),V()()()),t&2){let e,r=ne();A(2),He(((e=r.authService.dados==null||r.authService.dados.nome==null?null:r.authService.dados.nome[0])!==null&&e!==void 0?e:"?").toUpperCase()),A(3),He(r.authService.dados==null?null:r.authService.dados.nome),A(2),He("@"+(r.authService.dados==null?null:r.authService.dados.usuario))}}function pj(t,n){if(t&1&&(R(0,"option",16),oe(1),Ce(2,"translate"),V()),t&2){let e=n.$implicit;Z("value",e),A(),qe(" ",Ie(2,2,"idiomas."+e)," ")}}function gj(t,n){if(t&1){let e=ot();R(0,"li",22),Ne("click",function(){Be(e);let i=ne();return Ue(i.logout())}),me(1,"i",23),oe(2),Ce(3,"translate"),V()}t&2&&(A(2),qe("\xA0 ",Ie(3,1,"cabecalho.menu.sair"),""))}var Tf=class t{constructor(n,e,r,i){this.translateService=n;this.authService=e;this.router=r;this.langService=i;this.lang=n.currentLang}menu;lang;logout(){this.authService.logout(),this.router.navigateByUrl("/login"),this.menu.nativeElement.hidePopover()}static \u0275fac=function(e){return new(e||t)(be(tr),be(zn),be(xn),be(ba))};static \u0275cmp=lt({type:t,selectors:[["app-navbar"]],viewQuery:function(e,r){if(e&1&&$t(cj,5),e&2){let i;jt(i=Vt())&&(r.menu=i.first)}},decls:22,vars:10,consts:[["menu",""],[1,"nav"],[1,"conteudo"],[2,"display","flex","align-items","center","gap","10px"],[1,"logo",2,"--color","white","width","40px","height","40px"],[2,"margin","0","font-weight","500","color","white"],[1,"opcoes-tela-grande"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","inicial","popovertarget","menu","popovertargetaction","open",4,"ngIf"],["popovertarget","menu","popovertargetaction","open",1,"icon-btn","botao-menu"],[1,"bi","bi-list"],["id","menu","popover","",3,"ngClass"],[4,"ngIf"],[1,"menu-seletor-idioma"],[3,"click",4,"ngIf"],[3,"value"],["popovertarget","menu","popovertargetaction","open",1,"inicial"],[1,"inicial"],[1,"info"],[1,"nome"],[1,"usuario"],[3,"click"],[1,"bi","bi-box-arrow-left"]],template:function(e,r){if(e&1){let i=ot();R(0,"div",1)(1,"div",2)(2,"div",3),me(3,"div",4),R(4,"h1",5),oe(5,"Nexo"),V()(),R(6,"div",6)(7,"select",7),er("ngModelChange",function(s){return Be(i),hr(r.lang,s)||(r.lang=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.langService.definirIdioma(r.lang))}),Re(8,dj,3,4,"option",8),V(),Re(9,fj,2,1,"button",9),V(),R(10,"button",10),me(11,"i",11),V()()(),R(12,"div",12,0)(14,"div"),Re(15,hj,8,3,"header",13),R(16,"div")(17,"ul")(18,"li",14)(19,"select",7),er("ngModelChange",function(s){return Be(i),hr(r.lang,s)||(r.lang=s),Ue(s)}),Ne("change",function(){return Be(i),Ue(r.translateService.use(r.lang))}),Re(20,pj,3,4,"option",8),V()(),Re(21,gj,4,3,"li",15),V()()()()}e&2&&(A(7),Jn("ngModel",r.lang),A(),Z("ngForOf",r.translateService.langs),A(),Z("ngIf",r.authService.estaLogado()),A(3),Z("ngClass",ct(8,uj,r.authService.estaLogado()?"":"nao-logado")),A(3),Z("ngIf",r.authService.estaLogado()),A(4),Jn("ngModel",r.lang),A(),Z("ngForOf",r.translateService.langs),A(),Z("ngIf",r.authService.estaLogado()))},dependencies:[pt,In,nn,Kt,bt,Mt,Zr,eo,to,Qr,yn,wi],styles:[".nav[_ngcontent-%COMP%]{background-color:var(--primario);box-shadow:0 0 10px #0000001e}.nav[_ngcontent-%COMP%]   .conteudo[_ngcontent-%COMP%]{padding:0 var(--body-padding);max-width:var(--body-max-width);margin:auto;height:var(--navbar-height);width:100%;color:#fff;display:flex;align-items:center;justify-content:space-between}.opcoes-tela-grande[_ngcontent-%COMP%]{display:flex;gap:5px;align-items:center}@media (max-width: 400px){.opcoes-tela-grande[_ngcontent-%COMP%]{display:none}}.botao-menu[_ngcontent-%COMP%]{--cor: white;--color: var(--cor)}@media (min-width: 401px){.botao-menu[_ngcontent-%COMP%]{display:none}}.inicial[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;min-width:40px;min-height:40px;max-width:40px;max-height:40px;background-color:#fff;border-radius:40px;border:none;outline:none;font-size:20pt;color:#000000b3}.menu[_ngcontent-%COMP%]:popover-open{opacity:100%;translate:0}.menu[_ngcontent-%COMP%]{position:absolute;inset:unset;top:var(--navbar-height);right:max(0px,50% - var(--body-max-width) / 2);border:none;margin:10px;border-radius:20px;padding:0;box-shadow:-2px 2px 10px 4px #0003;width:300px;max-width:calc(100vw - 20px);opacity:0%;translate:5% 0;transition:opacity .25s,translate .25s,display .25s allow-discrete,overlay .25s allow-discrete}@starting-style{.menu[_ngcontent-%COMP%]:popover-open{opacity:0%;translate:5% 0}}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;gap:20px;background-color:var(--primario);padding:10px 20px}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]   .nome[_ngcontent-%COMP%]{font-size:14pt;font-weight:400}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.8333em 1.6666em;list-style:none;font-size:1.183em;cursor:pointer;transition:all .25s;color:#353535}.menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:var(--primario);background-color:hsl(from var(--primario) h s l/.1)}.menu-seletor-idioma[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{outline:none;border:none;padding:0;box-shadow:none;background-color:transparent;width:100%;height:100%;color:#353535}@media (min-width: 401px){.menu.nao-logado[_ngcontent-%COMP%], .menu-seletor-idioma[_ngcontent-%COMP%]{display:none}}"]})};var Af=class t{constructor(n){this.langService=n}static \u0275fac=function(e){return new(e||t)(be(ba))};static \u0275cmp=lt({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[2,"overflow","auto"],[2,"padding","0 var(--body-padding)","max-width","var(--body-max-width)","width","100%","margin","2.2em auto"]],template:function(e,r){e&1&&(R(0,"div"),me(1,"app-navbar"),R(2,"div",0)(3,"div",1),me(4,"router-outlet"),V()()())},dependencies:[Nl,Tf],encapsulation:2})};Hg(Af,kD).catch(t=>console.error(t));
